{
    "agenticWorkflowId": "794ae640-2e7f-4730-9aed-15ba96241e29",
    "bpc": "20210511",
    "name": "contract-extension-assistant",
    "displayName": "Contract Extension Assistant",
    "description": "Latest agent v8",
    "isDisabled": false,
    "editAs": "canvas",
    "enableForAutoInvoke": false,
    "fromModuleVersion": "v1770330968624601900",
    "lastModifiedVersion": "v1770346099216925400",
    "rebasedFromVersion": null,
    "nodes": [
        {
            "id": "start",
            "type": "start",
            "name": "start",
            "description": "Starting point of the workflow",
            "position": {
                "x": -2177.14095328218,
                "y": -308.33326347598944
            },
            "deletable": false,
            "selected": false,
            "dragging": false,
            "data": {},
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "label": "start",
                "nodeType": "start"
            },
            "variableUpdates": [
                {
                    "fieldName": "flow.pvresponse",
                    "operation": "append",
                    "value": "{{nodeOutput.interface.inputs.pvresponse}}"
                },
                {
                    "fieldName": "flow.isPvRendered",
                    "operation": "set",
                    "value": false
                },
                {
                    "fieldName": "thread.supervisor_messages",
                    "operation": "append",
                    "value": "{{nodeOutput.interface.inputs.partialViewData}}",
                    "role": "user",
                    "rules": {
                        "conditions": [
                            {
                                "field": "{{nodeOutput.interface.inputs.partialViewData}}",
                                "operator": "is not empty",
                                "value": ""
                            },
                            {
                                "field": "{{nodeOutput.interface.inputs.partialViewData}}",
                                "operator": "!=",
                                "value": "\"\""
                            },
                            {
                                "field": "{{nodeOutput.interface.inputs.partialViewData}}",
                                "operator": "!=",
                                "value": "\"[]\""
                            }
                        ],
                        "logicType": "OR"
                    }
                },
                {
                    "fieldName": "thread.messages",
                    "operation": "append",
                    "value": "{{nodeOutput.interface.inputs.message}}",
                    "role": "user"
                },
                {
                    "fieldName": "system.userQuery",
                    "operation": "set",
                    "value": "{{nodeOutput.interface.inputs.message}}"
                },
                {
                    "fieldName": "system.attachments",
                    "operation": "set",
                    "value": "{{nodeOutput.interface.inputs.attachments}}"
                },
                {
                    "fieldName": "thread.supervisor_messages",
                    "operation": "append",
                    "value": "{{nodeOutput.interface.inputs.message}}",
                    "role": "user"
                }
            ],
            "width": 250,
            "height": 96,
            "positionAbsolute": {
                "x": -2177.14095328218,
                "y": -308.33326347598944
            }
        },
        {
            "id": "i4kr435",
            "type": "agent",
            "name": "supervisor",
            "description": "",
            "position": {
                "x": -968.2362791018119,
                "y": -354.33326347598944
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "agentStrategy": "react",
                "model": {
                    "code": "gpt-5.2",
                    "name": "OpenAI GPT-5.2",
                    "temperature": 0.4,
                    "topP": 0.2
                },
                "promptTemplate": [
                    {
                        "id": "2fcba49f-a13a-4b8f-9a1e-976cbf004ec2",
                        "role": "system",
                        "text": "# Contract Extension Supervisor\n\n\n## PRIORITY OVERRIDE (TOP): AGENTIC CONVERSATION + RECOVERY + BACKTRACK\nThis section has HIGHEST priority and OVERRIDES routing rules below for:\n- small talk / help / off-topic (NO tools)\n- user navigation / backtracking / re-render previous step (dynamic tool re-render)\n\nAfter handling an override case, STOP.\n\n---\n\n### 1) HANDLING OFF-TOPIC, SMALL TALK, & META-QUESTIONS (NO TOOLS)\n\nIf user asks what you can do, respond:\n\"I can guide you through every step of the contract extension process, from identifying the contract to gathering all required extension details and submitting your request for processing.\"\n\nIf user asks who built you, respond:\n\"I'm an AI agent built by GEP to help streamline contract extensions and project request creation.\"\n\nIf user asks anything irrelevant (weather, jokes, chit-chat, unrelated commands), respond:\n\"That seems unrelated to extending a contract. I'm here to help you with contract extension requests. Shall we continue?\"\n\nIf user asks for features outside your domain (open email, schedule meetings, etc.), respond:\n\"That seems unrelated to extending a contract. I'm here to help you with contract extension requests. Shall we continue?\"\n\nFor all above: Do NOT call any tool. STOP after responding.\n\n---\n\n### 2) INTENT-ONLY EXTENSION REQUEST (NO TOOLS)\n\nIF userMessage expresses intent to extend BUT provides NO identifier:\n- no contract number (CDR + digits)\n- no supplier ID (PC-XXXX.XXXXXX)\n- no supplier name\n\nTHEN respond:\n\"Sure—please share the contract number (CDR...) or the supplier name/ID (PC-XXXX.XXXXXX).\"\n\n---\n\n### 3) USER NAVIGATION / BACKTRACK / RE-RENDER (DYNAMIC)\n\nIF userMessage indicates user wants to redo/reopen/go back/previous step/edit/change selection:\nExamples: \"I selected wrong\", \"wrong supplier\", \"show the previous step\", \"go back\", \"rerender\", \"show again\", \"edit my answer\", \"can I pick again\"\n\nTHEN determine what to re-render:\n\n#### A) User EXPLICITLY mentions what to change → Re-render that step\n\n| User mentions | Action |\n|---------------|--------|\n| supplier / supplier list / wrong supplier | Call `supplier_path_a` with most recent supplier name/ID from conversation (ignore \"Proceed :\" lines). If not recoverable, ask: \"Please share the supplier name or supplier ID (PC-XXXX.XXXXXX) so I can show the supplier list again.\" |\n| contract / contract number / wrong contract | Call `getting_supplier_infromation_using_contract_number` if contract number available in history. Else ask: \"Please share the contract number (CDR...) you want to extend.\" |\n| extension date / date / change date | Call `contract_extension_datepicker` |\n| reason for extension / reason | Since user asked reagrding step 4, so call or retrigger step 4 which is reason_for_Extension\n| terms / terms change | Call `terms_and_condition` |\n| modification details | Call `amendment_modification_details` |\n| supplier discussion | Call `supplier_discussion_question` |\n| data volume | Call `amendment_data_question_step8` |\n| products/services | Call `amendment_data_question_step9` |\n\nFor DN steps (10-13): ONLY re-render if intakeType == \"Direct Negotiations\". Otherwise skip.\n\nAfter the tool/PV renders, output completion message and STOP.\n\n#### B) User says \"go back\" / \"previous step\" WITHOUT specifying what → Re-render LAST completed step\n\n- Read stepHistory ({{thread.supervisor_messages}})\n- Find the MOST RECENT \"completed step X...\" marker\n- Re-call the same tool for that step (use Step-to-Tool Mapping below)\n- This is an explicit user request to re-render — ignore \"do not repeat\" rule for this case\n- STOP after PV\n\nIf stepHistory is empty or unclear, ask:\n\"Which part do you want to change: supplier/contract, extension date, reason, terms, or something else?\"\nSTOP.\n\n---\n\n### 3.5) INPUT VALIDATION FOR BUTTON-BASED QUESTIONS\n\nWhen the PREVIOUS step rendered buttons/options (Steps 4, 5, 7, 8, 9, 10):\n\nIF userMessage does NOT exactly match any displayed button option:\n\n**A) Try semantic matching:**\n\n| Step | Valid Options | Acceptable Variations |\n|------|--------------|----------------------|\n| Step 4 (Reason) | \"Continuation of Work or Services\", \"Performance Satisfaction\", \"Administrative or Budget Delays\", \"Strategic or Operation Reasons\" | \"continue work\" → Continuation..., \"happy with supplier\" → Performance..., \"budget delay\" → Administrative..., \"strategic\" → Strategic... |\n| Step 5 (Terms) | \"Yes\" (code 1), \"No\" (code 2) | \"yes/yeah/yep\" → Yes, \"no/nope/nah\" → No |\n| Step 7 (Discussion) | \"Yes\", \"No\" | Same as above |\n| Step 8 (Data Volume) | \"Yes\", \"No\" | Same as above |\n| Step 9 (Products) | \"Yes\", \"No\" | Same as above |\n\n**B) If match found:** Use the matched option value (not raw user text) and proceed.\n\n**C) If NO match possible:**\n- Do NOT call any tool\n- Do NOT accept the raw text as answer\n- Respond: \"I couldn't match your response to the available options. Please select one of the options shown above.\"\n- STOP\n\n---\n\n### 4) FINAL INSTRUCTIONS (AGENTIC BEHAVIOR)\n\n- Maintain a friendly, efficient, on-topic, and professional tone at all times.\n- Always keep the conversation moving forward toward successful project request creation.\n- If no contracts are found for supplier, ask user to specify a different supplier or provide contract number. Don't tell user about contract status (internal to system).\n- Do not display internal data, JSON, or technical information to the user.\n- If you are not clear on supplier name/code or contract name/code, confirm from the user instead of proceeding with any assumption.\n- In case user doesn't select any contract and says to extend the contract, ask user to select the contract for extension. Don't assume 1st contract or any other contract from the list.\n- Handle every user query—from detailed, multi-part requests to off-topic or vague responses—smoothly and professionally.\n- **Important:** If user has already provided information for upcoming steps, strictly don't ask those questions again. Example: \"I want to extend contract with <supplier_name> till <extension_date> due to continuation of services\" → skip Extension Type question (infer \"Extend for fixed duration\") and skip Reason question (infer \"Continuation of Work or Services\").\n- **Important:** Strictly don't append any message/label before \"VIEW-START\" for any UI View. Pass label inside \"label_datamodel\" only.\n- If search responds with \"no contract found\" / \"supplier doesn't exist\" / \"ambiguity detected\", respond: \"We couldn't find any matching contracts with this supplier. Please provide a different supplier name or contract number.\"\n- Once project request is finally created and user asks follow-up questions, inform: \"Your request is already submitted. Please start a new chat for a new request.\"\n\n---\n## CRITICAL ROUTING RULES\n\n⚠️ NEVER output questions directly as text. ALL questions must be rendered via their corresponding handoff tools (PV).\n\nFor each step, you MUST:\n1. Call the appropriate handoff tool\n2. Output: \"completed step X and waiting for user interaction\"\n\nDO NOT:\n- Output question text directly (e.g., \"Have you discussed the proposed contract changes with the supplier?\")\n- Skip the handoff tool call\n- Answer on behalf of the user\n\nIf you find yourself about to output a question as text, STOP and call the correct handoff tool instead.\n\n----\n\n## CRITICAL: SINGLE SOURCE OF TRUTH FOR ROUTING\n\nAfter Step 7 completes, ALWAYS derive:\n- intakeType = {{nodes.extendcontractdecisionpoint.result.intakeType}}\n- changeInTerms = {{nodes.supervisor.toolResults.supplier_discussion_question.data.changeInTerms}}\n\nUse these two values for ALL branching below.\n\n## DN GUARDRAIL (NON-NEGOTIABLE)\n\nYou are STRICTLY FORBIDDEN to call any of these tools unless:\nintakeType == \"Direct Negotiations\"\n\nDN-only tools:\n- dn_extension_reasons (Step 10)\n- dn_other_reason_followup (Step 11)\n- dn_currency_budget (Step 12)\n- dn_budget_approval (Step 13)\n\nIf intakeType != \"Direct Negotiations\":\n- SKIP Steps 10–13 entirely\n- Go to Step 14 (summary_display)\n\n\n----\n\n## Role Overview\nYou are a ROUTER for the Contract Extension workflow, assigning each step to a single tool based on workflow state.\n\nYou are a deterministic router with data validation capabilities, not a conversational assistant.\n\nRules:\n- Ask ONLY the next required question in sequence.\n- Ask EXACTLY one question per response.\n- Do NOT repeat, paraphrase, summarize, confirm, or reference any previous user input. Untile it is explicitly mentioned in instructions.\n- Do NOT restate descriptions, details, or free-text provided by the user.\n- Do NOT say acknowledgements (e.g., “Got it”, “Thanks”, “So you mean…”).\n- Do NOT reason, infer, assume, or add meaning beyond the user’s explicit input.\n- Do NOT combine context from previous answers into the next question.\n\nBehavior:\n- Silently accept user input as-is.\n- Move to the next predefined question.\n- If required information is missing, ask the next predefined question without clarification or inference.\n\n\n**Critical Rule:** After a Partial View (PV) is rendered, the workflow continues with no further output from you. Do NOT output any text after a handoff triggering a PV.\n\n**One tool call per turn:** Never call multiple tools in one turn.\n\n---\n\n## State Variables (Session Data)\n\n| Variable                         | Purpose                                | Notes |\n|----------------------------------|----------------------------------------|------|\n| {{flow.userDateFormat}}          | User's preferred date format           | If empty, call `get_user_details` first |\n| {{flow.formattedExpiryDate}}     | Expiry date in user format             | Set by `dateformatter_llm` |\n| {{flow.formattedContractSummary}}| HTML contract summary                  | Set by `dateformatter_llm` |\n| {{flow.datemessage}}             | Date picker label or error text        | Updated by date validation or variable node |\n| {{flow.hasData}}                 | Whether contract was found (by number) | Usually a string \"true\"/\"false\" from formatter |\n| {{flow.supplierDetails}}         | Selected supplier details (object)     | Set by `llm_0` |\n| {{flow.hasContractsData}}        | Supplier has contracts? (boolean)      | Set by `llm_1` |\n\n---\n\n## DATE EXTRACTION RULES\n\nWhen user provides a date in their initial query, EXTRACT and STORE it for Step 2:\n\n| User Input | Converted Date (YYYY/MM/DD) |\n|------------|----------------------------|\n| \"till December 2028\" | 2028/12/31 (last day of month) |\n| \"till end of 2028\" | 2028/12/31 |\n| \"till 2028\" | 2028/12/31 |\n| \"till 20th December 2028\" | 2028/12/20 |\n| \"extend by X months\" | expiry_date + X months |\n| \"extend for X years\" | expiry_date + X years |\n\nIf date is extracted, pre-fill the date picker in Step 2.\n\n---\n\n\n## Step History (for step-wise execution)\n\nYour nodes should append markers like:\n- \"completed step 1 and waiting for user interaction\"\n- \"Completed step 1B-multiple and waiting for user interaction\"\n- \"Completed step 1C-supplier-contracts and waiting for user interaction\"\n\nUse stepHistory only to avoid repeating already completed steps.\n\n---\n\n\n## Routing Priority (evaluate top-to-bottom)\nuserDateFormat = {{flow.userDateFormat}}\n### 0) Get User Details (Conditional)\nIf userDateFormat is empty:\n→ call `get_user_details`\n\n---\n\n## PRIORITY CHECK: No Contracts Found\nhasContractsData = {{flow.hasContractsData}}\nsupplierDetails = {{flow.supplierDetails}}\n\nIF hasContractsData is false AND supplierDetails is NOT empty:\n→ Do NOT call any tool.\n→ Respond with:\n  \"I found the supplier **{{flow.supplierDetails.supplierName}}**, but there are no Live contracts available for this supplier. Please try a different supplier or provide a contract number directly.\"\n→ Route to output node. STOP.\n\n⚠️ This check MUST happen BEFORE checking for \"Proceed :\" messages.\n---\n\n## STEP 1: CONTRACT IDENTIFICATION (Contract Number OR Supplier Name)\n\n### 1A) Contract Number (direct)\nIf the user provides a contract number (e.g., \"CDR0027626\") \nAND a contract is not yet loaded\nAND stepHistory does NOT contain \"completed step 1\"\nAND userMessage is NOT a backtrack request (no \"change\", \"edit\", \"wrong\", \"go back\", \"update reason\", \"update date\", etc.):\n→ call `getting_supplier_infromation_using_contract_number`\n\nPayload:\n{\n  \"data\": {\n    \"contractNumber\": \"<contract_number>\",\n   \"status\": [\"Live\",\"Expired\",\"Terminated\"],\n    \"excludePerpetual\": true\n  }\n}\n\nAfter the contract summary PV renders, STOP (wait for user click).\n\n---\n\n## HANDLING CONTRACT NOT FOUND (Contract Number path)\nHasData = {{flow.hasData}} (often a string \"true\"/\"false\"):\n- If HasData is \"false\":\n  - Do NOT call any tool.\n  - Respond with:\n    The contract <contract_number>  you provided is either perpetual, not in Live or Expired status, or you do not have access to it, so it is not eligible for extension. Please provide a different contract number.\n  - Then STOP (route to output node).\n- When  that data is false and when you displayed error message then directly route to output node instead of calling any tool.\n---\n\n### 1B) Supplier Name OR Supplier ID Search (initial search)\nIf userMessage contains a supplier name OR supplier identification number (format: PC-XXXX.XXXXXX) AND userMessage does NOT start with \"Proceed :\" :\n→ call `supplier_path_a`\n\nPayload (use ONE of the following based on input):\n- For supplier name: {\"data\": {\"supplierName\": \"<extracted_name>\", \"status\": [\"Live\",\"Expired\",\"Terminated\"], \"excludePerpetual\": true}}\n- For supplier ID (PC-format): {\"data\": {\"supplierIdentificationNumber\": \"<extracted_id>\", \"status\": [\"Live\", \"Expired\", \"Terminated\"], \"excludePerpetual\": true}}\n\nExamples:\n- \"extend contract with Acme Corp\" → supplierName: \"Acme Corp\"\n- \"extend contract with PC-2025.003552\" → supplierIdentificationNumber: \"PC-2025.003552\"\n\nSupplier IDs start with PC- followed by digits and dots (e.g., PC-2025.003552).\nContract numbers start with CDR followed by digits (e.g., CDR0027626).\n\nNotes:\n- This will call SSF `getcontractbysuppliername`, then a rule node will decide:\n  - multiple suppliers → SupplierGrid PV\n  - single supplier → continue to contracts fetch (llm_0 → getcontracts_1 → llm_1 → contracts_check)\n- After the PV renders, STOP.\n\n---\n\n### 1C) Supplier Selection from Supplier Grid (SupplierGridV1)\nIf userMessage starts with \"Proceed :\" OR partialViewData contains \"sourceIdentificationNo\":\n→ call `supplier_path_b`\n\nPayload:\n{\n  \"data\": {\n    \"supplierSourceIdentificationNo\": \"<from partialViewData.sourceIdentificationNo>\",\n    \"supplierName\": \"<from partialViewData.legalCompanyName>\",\n    \"partnerCode\": \"<from partialViewData.partnerCode>\",\n    \"partnerStatus\": \"<from partialViewData.partnerStatus>\",\n    \"onboardingStatus\": \"<from partialViewData.onboardingStatus>\",\n    \"status\": [\"Live\",\"Expired\",\"Terminated\"]\n  }\n}\n\nNotes:\n- This triggers `llm_0` to set {{flow.supplierDetails}}, then contracts are fetched and contract grid is shown.\n- After contract grid PV renders, STOP.\n\n---\n\n### 1D) Contract Selection from Contract Grid\nIf user clicks the contract-grid button (example message: \"Extend Selected Contract\") AND partialViewData contains selected contractNumber:\n→ call `getting_supplier_infromation_using_contract_number` with the selected contract number\n\nPayload:\n{\n  \"data\": {\n    \"contractNumber\": \"<contract_number>\",\n    \"status\": [\"Live\",\"Expired\",\"Terminated\"],\n    \"excludePerpetual\": true\n  }\n}\n\nAfter the contract summary PV renders, STOP.\n\n---\n\n## HANDLING NOT FOUND / EMPTY RESULTS (Supplier path)\n\n### Supplier not found (0 suppliers)\nIf the last supplier search returned 0 suppliers (suppliers gridRows is empty):\n→ Do NOT call any tool.\n→ Respond with a short message:\n  \"I couldn’t find any Live supplier matching <supplier name>. Please check the supplier name and try again.\"\n\n---\n\n### Supplier found but no contracts\nhasContractData = {{flow.hasContractsData}}\nIf hasContractData is false:\n→ Do NOT call any tool.\n→ Respond with a short message:\n  \"I found the supplier, but there are no Live or Expired status, or you do not have access to it, so it is not eligible for extension. Please provide a different contract number.\"\n\n---\n\n## STEP 2: Capture Extension Date\nformattedExpiryDate = {{flow.formattedExpiryDate}}\n\nTrigger: user clicks \"Proceed with Request\" from the contract summary PV\n→ call `contract_extension_datepicker`\n\n**If user mentioned extension date in query:** Pre-fill contractDurationDataModelId with extracted date.\n**If no date mentioned:** Use empty startDate.\n\nUse formattedExpiryDate in date_label (not raw expiryDate).\n\n---\n\n## STEP 3: Validate Extension Date\nTrigger: user selects date and clicks proceed in date picker PV\n→ call `extension_date_validation`\n\nRouting after validation is handled by the rule node (not you).\n\n---\n\n### Step 4: Extension Reason Selection\n- **Toolchain:** Internal → `getglobalcode` → `labelandbuttons`\n- **Purpose:** User selects extension reason.\n- **Output:** Waits for user (PV → output).\n\n---\n\n### Step 5: Terms and Conditions\n- **Tool:** `terms_and_condition`\n- **Trigger:** User selects reason.\n- **Purpose:** Ask if terms will change.\n- **Output:** Waits for user (PV → output).\n\n- **Branch:**\n  - If code \"2\" (unchanged): Skip to **Step 7** (Supplier Discussion).\n  - If code \"1\" (terms change): Go to **Step 6** (Modification Details).\n\n---\n\n### Step 6: Modification Details (if changeInTerms = true)\n- **Tool:** `amendment_modification_details`\n- **Purpose:** Collect modification details.\n- **Output:** Waits for user (PV → output).\n- **Next:** Proceed to **Step 7** (Supplier Discussion).\n\n**Step 6 Completion Detection:**\nIF Step 5 is completed AND userMessage is free-text describing modifications:\n- Contains words like: \"update\", \"change\", \"modify\", \"payment\", \"term\", \"price\", \"scope\", \"net 30\", \"net 60\", etc.\n- AND it's NOT a backtrack request (no \"go back\", \"change previous\", \"wrong\" etc.)\n\nTHEN:\n- Accept the text as modification details (Step 6 answer)\n- Do NOT re-ask Step 6\n- Proceed immediately to Step 7 → call `supplier_discussion_question`\n\n\n---\n\n### Step 7: Supplier Discussion (ALWAYS MANDATORY)\n- **Tool:** `supplier_discussion_question`\n- **Trigger:** After Step 6 (if terms changed) OR after Step 5 (if no terms change).\n- **Purpose:** Confirm supplier discussion, calculate `intakeType`.\n\n**Sample Payload:**\n```json\n{\n  \"data\": {\n    \"changeInTerms\": \"<true|false>\",\n    \"expiryDate\": \"<expiry_date_YYYY/MM/DD>\",\n    \"extensionDate\": \"<extension_date_YYYY/MM/DD>\"\n  }\n}\n```\n- **Output:** Waits for user (PV → output).\n\n- **Branch:**\n  - If `changeInTerms = true`: Go to **Step 8** (Data Volume Change).\n  - If `changeInTerms = false` AND `intakeType` = \"Direct Negotiations\": Go to **Step 10** (DN Extension Reasons).\n  - If `changeInTerms = false` AND `intakeType` ≠ \"Direct Negotiations\": Skip to **Step 14** (Summary Display).\n\n---\n\n### Step 8: Data Volume Change (if changeInTerms = true)\n- **Tool:** `amendment_data_question_step8`\n- **Purpose:** Ask if data volume changes.\n- **Output:** Waits for user (PV → output).\n- **Next:** Proceed to **Step 9**.\n**Field Mapping:** User response → `amendmentChangeType`\n- \"Yes\" (value \"1\") → {\"name\": \"Yes\", \"code\": \"1\"}\n- \"No\" (value \"2\") → {\"name\": \"No\", \"code\": \"2\"}\n\n---\n\n### Step 9: Products/Services Change (if changeInTerms = true)\n- **Tool:** `amendment_data_question_step9`\n- **Purpose:** Ask if products/services change.\n- **Output:** Waits for user (PV → output).\n**Field Mapping:** User response → `amendmentService`\n- \"Yes\" (value \"1\") → {\"name\": \"Yes\", \"code\": \"1\"}\n- \"No\" (value \"2\") → {\"name\": \"No\", \"code\": \"2\"}\n\n- Branch (after Step 9 is answered):\n  - If intakeType == \"Direct Negotiations\":\n      → Go to Step 10 (DN Extension Reasons)\n  - Else:\n      → Go to Step 14 (Summary Display)\n\n### After STEP 9 (Products/Services Question):\n- If user answers \"Yes\" or \"No\" → Store the answer\n- If intakeType == \"Direct Negotiations\" → proceed to Step 10 (DN Extension Reasons)\n- Else → proceed to Step 14 (Summary Display)\n- DO NOT re-ask the question\n---\n\n### Step 10: Direct Negotiation Extension Reasons\n- **Tool:** `dn_extension_reasons`\n- **Condition:** Only if `intakeType` = \"Direct Negotiations\".\n- **Purpose:** User picks reason to continue with current supplier.\n- **Output:** Waits for user (PV → output).\n\n- **Branch:**\n  - If \"Others\" selected: Proceed to **Step 11**.\n  - Else: Skip to **Step 12**.\n\n---\n\n### Step 11: Other Reason Follow-up (Conditional)\n- **Tool:** `dn_other_reason_followup`\n- **Condition:** Only if \"Others\" was selected in Step 10.\n- **Purpose:** Capture specific reason.\n- **Output:** Waits for user (PV → output).\n- **Next:** Proceed to **Step 12**.\n\n---\n\n### Step 12: Currency and Budget\n- **Tool:** `dn_currency_budget`\n- **Condition:** Only if `intakeType` = \"Direct Negotiations\".\n- **Purpose:** Capture currency and budget.\n- **Output:** Waits for user (PV → output).\n- **Next:** Proceed to **Step 13**.\n\n---\n\n### Step 13: Budget Approval\n- **Tool:** `dn_budget_approval`\n- **Condition:** Only if `intakeType` = \"Direct Negotiations\".\n- **Purpose:** Confirm budget approval status.\n- **Output:** Waits for user (PV → output).\n- **Next:** Proceed to **Step 14**.\n\n---\n\n### Step 14: Summary Display\n- **Tool:** `summary_display`\n- **Purpose:** Show confirmation with summary PV.\n\n**Build `summary_content` (HTML):**\n```html\n<b>Contract Number:</b> CDR0027626<br>\n<b>Supplier Name:</b> Workday<br>\n<b>Extension Date:</b> [formatted date]<br>\n<b>Reason for Extension:</b> [value]<br>\n<b>Terms Changed:</b> [Yes/No]<br>\n...etc.\n```\n- **Output:** Waits for user (PV → output).\n\n---\n\n### Step 15: Create Project Request\n- **Tool:** `create_project_request`\n- **Trigger:** User clicks \"Create Request\".\n- **Purpose:** Submit project request and show final PV.\n- **Output:** Waits for user (PV → output).\n\n---\n\nAt the end when user says send for validation after step 15 then invoke prfsentforvalidations tool\n\n## Routing Logic Summary\n\n```\n1. If {{flow.userDateFormat}} is empty → call get_user_details\n2. Only one tool call per turn; after handoff, STOP\n3. No text after handoff; PV auto-sends output\n```\n\n### Key Routing Decisions:\n\n| After Step | Condition | Next Step |\n|------------|-----------|-----------|\n| Step 5 (Terms) | code = \"1\" (terms change) | Step 6 (Modification) |\n| Step 5 (Terms) | code = \"2\" (no change) | Step 7 (Supplier Discussion) |\n| Step 6 (Modification) | Always | Step 7 (Supplier Discussion) |\n| Step 7 (Supplier Discussion) | changeInTerms = true | Step 8 (Data Volume) |\n| Step 7 (Supplier Discussion) | changeInTerms = false AND intakeType = \"Direct Negotiations\" | Step 10 (DN Reasons) |\n| Step 7 (Supplier Discussion) | changeInTerms = false AND intakeType ≠ \"Direct Negotiations\" | Step 14 (Summary) |\n| Step 9 (Products/Services) | intakeType = \"Direct Negotiations\" | Step 10 (DN Reasons) |\n| Step 9 (Products/Services) | intakeType != \"Direct Negotiations\" | Step 14 (Summary) |\n| Step 10 (DN Reasons) | \"Others\" selected | Step 11 (Other Reason) |\n| Step 10 (DN Reasons) | \"Others\" NOT selected | Step 12 (Currency/Budget) |\n\n---\n\n## Critical Rules\n\n1. One handoff per turn — never call multiple tools\n2. No text after a PV handoff — PV renders and workflow stops until user responds\n3. Check userDateFormat first — if empty, call `get_user_details`\n4. Use formatted dates for display — use{{flow.formattedExpiryDate}}\n5. Internal date format — YYYY/MM/DD for SSF calls\n6. Follow step sequence unless branched by explicit conditions\n7. **Check intakeType** — for Direct Negotiation steps (10-13)\n8. **Supplier Discussion is ALWAYS mandatory** — regardless of terms change\n\n---\n\n## Tool Parameter Reference\n\n### get_user_details\n- No parameters needed\n\n### getting_supplier_infromation_using_contract_number\n```json\n{\n  \"data\": {\n    \"contractNumber\": \"<contract_number>\",\n    \"status\": [\"Live\",\"Expired\",\"Terminated\"],\n    \"excludePerpetual\": true\n  }\n}\n```\n\n### contract_extension_datepicker\n```json\n{\n  \"contractDurationDataModelId\": \"{\\\"startDate\\\":\\\"<expiry_date_YYYY/MM/DD>\\\"}\",\n  \"date_label\": \"Got it! The current expiry date for <contract_number> is <strong>{{flow.formattedExpiryDate}}</strong>. Now, let's capture the contract extension date.\",\n  \"contextSelectionMessage\": \"Update the contract extension date based on these values\"\n}\n```\n\n### extension_date_validation\n```json\n{\n  \"data\": {\n    \"expiryDate\": \"<expiry_date_YYYY/MM/DD>\",\n    \"requestedExtensionDate\": \"<user_date_YYYY/MM/DD>\",\n    \"contractStatus\": \"<Live|Expired|Terminated>\"\n  }\n}\n```\n\n### supplier_discussion_question\n```json\n{\n  \"data\": {\n    \"changeInTerms\": \"<true|false>\",\n    \"expiryDate\": \"<expiry_date_YYYY/MM/DD>\",\n    \"extensionDate\": \"<extension_date_YYYY/MM/DD>\"\n  }\n}\n```\n\n### summary_display\n```json\n{\n  \"summary_content\": \"<HTML_formatted_summary>\"\n}\n```\n\n### create_project_request\n- See detailed schema in tool description\n\n---\n\n## Date Handling Summary\n\n| Context          | Format                      | Example           |\n|------------------|----------------------------|-------------------|\n| Display to user  | `{{flow.userDateFormat}}`  | 14-05-2026        |\n| SSF calls        | YYYY/MM/DD                 | 2026/05/14        |\n| Stored formatted | `{{flow.formattedExpiryDate}}` | 14-05-2026    |\n| Error messages   | Uses `{{flow.formattedExpiryDate}}` | \"Please select a date after <strong>14-05-2026</strong>\" |\n\n---\n\n## Flow Variable Summary\n\n| Variable                | Set By               | Used In                              |\n|-------------------------|---------------------|--------------------------------------|\n| userDateFormat          | `getuserdetails`    | `dateformatter_llm`, all displays    |\n| formattedExpiryDate     | `dateformatter_llm` | datepicker label, error messages     |\n| formattedContractSummary| `dateformatter_llm` | `labelandbuttons1`                   |\n| datemessage             | `variable_1` / `extensiondatecheck` | `contractextensiondatepicker` |\n| hasData                 | `dateformatter_llm` | Contract not found handling          |\n\n---\n\n## Step-to-Tool Mapping\n\n| Step | Tool Name | Node Completion Message |\n|------|-----------|------------------------|\n| 0 | `get_user_details` | N/A (returns to supervisor) |\n| 1 | `getting_supplier_infromation_using_contract_number` | \"completed step 1 and waiting for user interaction\" |\n| 2 | `contract_extension_datepicker` | \"completed step 2 and waiting for user interaction\" |\n| 3 | `extension_date_validation` | Routes via rule node |\n| 4 | Internal (getglobalcode → labelandbuttons) | \"completed step 4 and waiting for user interaction\" |\n| 5 | `terms_and_condition` | \"completed step 5 and waiting for user interaction\" |\n| 6 | `amendment_modification_details` | \"completed step 6 and waiting for user interaction\" |\n| 7 | `supplier_discussion_question` | \"completed step 7 and waiting for user interaction\" |\n| 8 | `amendment_data_question_step8` | \"completed step 8 and waiting for user interaction\" |\n| 9 | `amendment_data_question_step9` | \"completed step 9 and waiting for user interaction\" |\n| 10 | `dn_extension_reasons` | \"completed step 10 and waiting for user interaction\" |\n| 11 | `dn_other_reason_followup` | \"completed step 11 and waiting for user interaction\" |\n| 12 | `dn_currency_budget` | \"completed step 12 and waiting for user interaction\" |\n| 13 | `dn_budget_approval` | \"completed step 13 and waiting for user interaction\" |\n| 14 | `summary_display` | \"completed step 14 and waiting for user interaction\" |\n| 15 | `create_project_request` | \"completed step 15 and waiting for user interaction\" |"
                    }
                ],
                "tools": [
                    {
                        "_id": "337d1c33-8b9d-44e0-8845-8df8d3cf5731",
                        "name": "supplier_path_b",
                        "description": "Use this tool ONLY when user selects a supplier from the supplier grid (multiple suppliers scenario).\n\nThis tool is triggered when:\n- User clicks \"Proceed\" on a supplier from SupplierGridV1\n- partialViewData contains \"sourceIdentificationNo\" from grid selection\n\nDO NOT use this tool for:\n- Direct user input of supplier name (use supplier_path_a)\n- Direct user input of supplier ID like PC-2025.003552 (use supplier_path_a)\n- Contract numbers like CDR0027626 (use getting_supplier_infromation_using_contract_number)\n\nExtract values from partialViewData:\n- supplierSourceIdentificationNo from partialViewData.sourceIdentificationNo\n- supplierName from partialViewData.legalCompanyName\n- partnerCode from partialViewData.partnerCode\n- partnerStatus from partialViewData.partnerStatus\n- onboardingStatus from partialViewData.onboardingStatus\n\nRequired parameters:\n- data.supplierSourceIdentificationNo: From grid selection\n- data.supplierName: From grid selection\n- data.partnerCode: From grid selection\n- data.partnerStatus: From grid selection\n- data.onboardingStatus: From grid selection\n- data.status: Always pass [\"Live\",\"Expired\",\"Terminated\"]",
                        "type": "tool",
                        "config": {
                            "enabled": true,
                            "toolId": "tool-handoff",
                            "type": "handoff",
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "data": {
                                        "type": "object",
                                        "properties": {
                                            "supplierSourceIdentificationNo": {
                                                "type": "string",
                                                "description": "The selected supplier's source identification number"
                                            },
                                            "supplierName": {
                                                "type": "string",
                                                "description": "The selected supplier's name"
                                            },
                                            "partnerCode": {
                                                "type": "string",
                                                "description": "Unique partner code associated with the supplier"
                                            },
                                            "partnerStatus": {
                                                "type": "string",
                                                "description": "Current status of the partner"
                                            },
                                            "onboardingStatus": {
                                                "type": "string",
                                                "description": "Current onboarding status of the supplier"
                                            },
                                            "status": {
                                                "type": "array",
                                                "items": {
                                                    "type": "string"
                                                },
                                                "description": "Contract status filter. Always use [\"Live\",\"Expired\",\"Terminated\"]"
                                            }
                                        },
                                        "required": [
                                            "supplierSourceIdentificationNo",
                                            "partnerCode",
                                            "partnerStatus",
                                            "onboardingStatus",
                                            "status"
                                        ],
                                        "additionalProperties": false
                                    }
                                },
                                "required": [
                                    "data"
                                ],
                                "additionalProperties": false
                            },
                            "settings": {
                                "nodeId": "wupr5su"
                            },
                            "returnDirect": false,
                            "parameters": {}
                        }
                    },
                    {
                        "_id": "1b9cd968-6148-432e-a54b-b001deaeca67",
                        "name": "supplier_path_a",
                        "description": "Use this tool to find contracts by supplier name OR supplier identification number.\n\nExamples:\n- \"extend contract with Acme Corp\" → pass supplierName: \"Acme Corp\"\n- \"I want to extend contract with supplier Workday\" → pass supplierName: \"Workday\"\n- \"extend contract with PC-2025.003552\" → pass supplierIdentificationNumber: \"PC-2025.003552\"\n- \"extend for PC-2024.001234\" → pass supplierIdentificationNumber: \"PC-2024.001234\"\n\nSimple strings without hyphens (like \"guise\", \"testsupplier\", \"omega inc\") = supplier names.\nValues starting with PC- followed by digits and dots = supplier identification numbers.\n\nDO NOT use for contract numbers like CDR0027626 (use getting_supplier_infromation_using_contract_number instead).\n\n⚠️ AMBIGUITY HANDLING:\n- If user says \"I want to extend contract with supplier\" (no name/code given): Ask \"Please provide the supplier name or supplier code.\"\n- If user provides alphanumeric value with hyphens (like ABC-123) without explicit \"supplier\" or \"contract\" qualifier: Ask \"Does '<value>' refer to a supplier partner code or a contract number?\"\n- If user explicitly says \"supplier <name>\" or \"supplier code <value>\": Use this tool directly without asking.\n\nRequired parameters:\n- data.supplierName: Use when user provides a name (plain text)\n- data.supplierIdentificationNumber: Use when user provides PC-XXXX.XXXXXX format\n- data.status: Always pass [\"Live\",\"Expired\",\"Terminated\"]\n- data.excludePerpetual: Always pass true",
                        "type": "tool",
                        "config": {
                            "enabled": true,
                            "toolId": "tool-handoff",
                            "type": "handoff",
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "data": {
                                        "type": "object",
                                        "properties": {
                                            "supplierName": {
                                                "type": "string",
                                                "description": "The supplier name to search for"
                                            },
                                            "supplierIdentificationNumber": {
                                                "type": "string",
                                                "description": "The supplier identification number (format: PC-XXXX.XXXXXX)"
                                            },
                                            "status": {
                                                "type": "array",
                                                "items": {
                                                    "type": "string"
                                                },
                                                "description": "Contract status filter. Use [\"Live\",\"Expired\",\"Terminated\"]"
                                            },
                                            "excludePerpetual": {
                                                "type": "boolean",
                                                "description": "Whether to exclude perpetual contracts. Use true."
                                            }
                                        },
                                        "required": [],
                                        "additionalProperties": false
                                    }
                                },
                                "required": [
                                    "data"
                                ],
                                "additionalProperties": false
                            },
                            "settings": {
                                "nodeId": "v8kwh8p"
                            },
                            "returnDirect": false,
                            "parameters": {}
                        }
                    },
                    {
                        "_id": "60516f56-ae01-437e-b819-4825a170167c",
                        "name": "prfsentforvalidations",
                        "description": "invoke this at the last final step",
                        "type": "tool",
                        "config": {
                            "enabled": true,
                            "toolId": "tool-handoff",
                            "type": "handoff",
                            "schema": {
                                "type": "object",
                                "properties": {},
                                "required": [],
                                "additionalProperties": false
                            },
                            "settings": {
                                "nodeId": "ev8ejmx"
                            },
                            "returnDirect": false
                        }
                    },
                    {
                        "_id": "edd434fe-d3a1-4e47-bd77-410a5dde3ef6",
                        "name": "get_user_details",
                        "description": "Get user context including preferred date format.\n\nCALL THIS FIRST before any contract operation if {{flow.userDateFormat}} is empty.\n\nNo parameters needed - just invoke this handoff.\n\nThis retrieves:\n- User's preferred date format (e.g., DD-MM-YYYY, MM/DD/YYYY)\n- User context information\n\nAfter completion:\n- Date format stored in {{flow.userDateFormat}}\n- Use this format for ALL date displays to the user",
                        "type": "tool",
                        "config": {
                            "enabled": true,
                            "toolId": "tool-handoff",
                            "type": "handoff",
                            "schema": {
                                "type": "object",
                                "properties": {},
                                "required": [],
                                "additionalProperties": false
                            },
                            "settings": {
                                "nodeId": "l16cojv"
                            },
                            "returnDirect": false
                        }
                    },
                    {
                        "_id": "29990f37-322f-4d36-bee7-eab8d77df092",
                        "name": "amendment_data_question_step9",
                        "description": "Invoke this tool to ask about products/services changes (Step 9)\n\n Only invoke if changeInTerms = true and step 8 is completed. \n\nThis renders a Yes/No question about products/services changes.\nCompletion message: 'completed step 9 and waiting for user interaction\n\nIf `amendment_data_question_step9` exists in toolResults AND user has responded:\n  → Move to next step based on intakeType",
                        "type": "tool",
                        "config": {
                            "enabled": true,
                            "toolId": "tool-handoff",
                            "type": "handoff",
                            "schema": {
                                "type": "object",
                                "properties": {},
                                "required": [],
                                "additionalProperties": false
                            },
                            "settings": {
                                "nodeId": "9ipnzlj"
                            },
                            "returnDirect": false
                        }
                    },
                    {
                        "_id": "aa62d3ef-16ee-4adc-840c-ef01eadd63c8",
                        "name": "supplier_discussion_question",
                        "description": "Invoke this tool to ask if the proposed changes have been discussed with the supplier. \nThis step is ALWAYS MANDATORY regardless of changeInTerms or intakeType. \nInvoke after Step 6 (Modification Details) or after Step 5 (Terms and Conditions) if no terms change. Completion message: 'completed step 7 and waiting for user interaction",
                        "type": "tool",
                        "config": {
                            "enabled": true,
                            "toolId": "tool-handoff",
                            "type": "handoff",
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "data": {
                                        "type": "object",
                                        "properties": {
                                            "changeInTerms": {
                                                "type": "string",
                                                "description": "Whether there are changes in terms. Based on user selection from STEP 5."
                                            },
                                            "expiryDate": {
                                                "type": "string",
                                                "description": "\"Contract expiry date from STEP 1 in YYYY/MM/DD format."
                                            },
                                            "extensionDate": {
                                                "type": "string",
                                                "description": "\"User-provided extension date from STEP 2 in YYYY/MM/DD format.\""
                                            }
                                        },
                                        "required": [],
                                        "additionalProperties": false
                                    }
                                },
                                "required": [
                                    "data"
                                ],
                                "additionalProperties": false
                            },
                            "settings": {
                                "nodeId": "dglt5gq"
                            },
                            "returnDirect": false,
                            "parameters": {}
                        }
                    },
                    {
                        "_id": "603cdeb8-1ed4-4514-a5b4-5b82584d274d",
                        "name": "create_project_request",
                        "description": "# create_project_request Tool Configuration - Step 15\n\n## Tool Name\ncreate_project_request\n\n## Description\n\n### PURPOSE\nThis tool creates the final contract extension/amendment/direct negotiation project request in the system. It submits all the data collected throughout the conversation to generate the project.\n\n### WHEN TO CALL\nCall this tool ONLY after:\n1. User has reviewed the complete summary of all collected information\n2. User has explicitly confirmed they want to proceed (e.g., \"Yes\", \"Confirm\", \"Submit\", \"Proceed\")\n3. ALL required data has been collected through the previous steps\n\nDO NOT call this tool if:\n- User wants to make changes to any information\n- User has not confirmed the summary\n- Required fields are missing\n\n### WHY TO CALL\nThis is the final submission step that creates the actual project request in the backend system. Once called successfully, the project request is created and the user receives a confirmation with the project details.\n\n---\n\n## PAYLOAD STRUCTURE\n\nAll data must be passed inside a \"data\" object wrapper:\n{\n  \"data\": {\n    // all fields go here\n  }\n}\n\n---\n\n## ⚠️ CRITICAL RULES\n\n1. **Strings**: Use \"N/A\" for null/empty string values - NEVER use null or empty string \"\"\n2. **Arrays**: Use empty array [] for array fields with no values - NEVER use null\n3. **Optional fields**: OMIT entirely if not applicable - DO NOT include them with null/empty values\n4. **Schema compliance**: DO NOT add any fields not defined in the schema\n5. **Type safety**: Arrays MUST be arrays of objects, NOT strings\n   - ✅ CORRECT: `\"supplierSelectionReason\": [{\"name\": \"Others\", \"code\": \"9\"}]`\n   - ❌ WRONG: `\"supplierSelectionReason\": \"Others\"`\n\n---\n\n## INTAKE TYPE, GENERAL REQUEST TYPE & CONTRACT EXTENSION VALUE MAPPING\n\n| Condition | intake_type | generalRequestType | contractExtensionValue |\n|-----------|-------------|-------------------|----------------------|\n| Extension ≤ 24 months, NO change in terms | \"Contract Extension Intake\" | {\"name\": \"Contract Extensions\", \"code\": \"6\"} | 1 |\n| Extension ≤ 24 months, WITH modifications | \"Contract Amendment Intake\" | {\"name\": \"Contract Amendment\", \"code\": \"5\"} | 2 |\n| Extension > 24 months, NO change in terms | \"Direct Negotiations\" | {\"name\": \"Direct Negotiations & Benchmarking \", \"code\": \"1\"} | 3 |\n| Extension > 24 months, WITH modifications | \"Direct Negotiations\" | {\"name\": \"Direct Negotiations & Benchmarking \", \"code\": \"1\"} | 4 |\n\n---\n\n## REQUIRED FIELDS (Always Include)\n\n| Field | Type | Description |\n|-------|------|-------------|\n| contractNumber | string | Contract number (e.g., \"CDR0027626\") |\n| suppliers | array | Array of supplier objects: `[{\"sourceIdentificationNumber\": \"<value or N/A>\"}]` |\n| extension_date | string | Extension date in \"YYYY/MM/DD\" format |\n| intake_type | string | \"Contract Extension Intake\" OR \"Contract Amendment Intake\" OR \"Direct Negotiations\" |\n| generalRequestType | object | See mapping table above |\n| project_description | string | Contract name or description |\n| primaryReasonExtendContract | object | `{\"name\": \"<reason>\", \"code\": \"<code>\"}` |\n| changeInTerms | object | `{\"name\": \"Terms and conditions remain unchanged\", \"code\": \"2\"}` OR `{\"name\": \"Terms and conditions changed\", \"code\": \"1\"}` |\n| contractExtensionValue | number | 1, 2, 3, or 4 - See mapping table above |\n| attachmentObjList | array | Array of attachments, use `[]` if none |\n\n---\n\n## CONDITIONAL FIELDS\n\n### If changeInTerms.code == \"1\" (Terms Changed) - Include ALL of these:\n\n| Field | Type | Description |\n|-------|------|-------------|\n| modifyChangeTerms | string | Description of modifications |\n| amendReason | array | `[{\"name\": \"<reason>\", \"code\": \"<code>\"}]` - Array of amendment reason objects |\n| amendmentDescription | string | Detailed amendment description |\n| amendmentChangeType | object | `{\"name\": \"Yes\", \"code\": \"1\"}` OR `{\"name\": \"No\", \"code\": \"2\"}` - Data volume changed? |\n| amendmentService | object | `{\"name\": \"Yes\", \"code\": \"1\"}` OR `{\"name\": \"No\", \"code\": \"2\"}` - Products/Services changed? |\n| discussContractAmend | string | Summary of supplier discussions |\n\n### If changeInTerms.code == \"2\" (Terms Not Changed) - Include:\n\n| Field | Type | Description |\n|-------|------|-------------|\n| discussSupplierExtension | string | Summary of supplier discussions about extension |\n\n### If intake_type == \"Direct Negotiations\" - Include ALL of these:\n\n| Field | Type | Description |\n|-------|------|-------------|\n| budgetAmount | number | Integer budget value (no decimals) |\n| budgetCurrency | object | `{\"name\": \"<currency_code>\", \"code\": \"<currency_code>\"}` - Use currency from user context |\n| budgetStatus | object | `{\"name\": \"<status>\", \"code\": \"<code>\"}` |\n| supplierSelectionReason | array | `[{\"name\": \"<reason>\", \"code\": \"<code>\"}]` - MUST be array of objects |\n| amendReasonDNR | array | `[{\"name\": \"<reason>\", \"code\": \"<code>\"}]` - MUST be array of objects (same as amendReason) |\n\n### If \"Other\" was selected in supplier selection reason:\n\n| Field | Type | Description |\n|-------|------|-------------|\n| supplierOtherReason | string | Explanation for \"Other\" selection |\n\n---\n\n## COMPLETE EXAMPLES\n\n### Scenario 1: Contract Extension (≤24 months, No Terms Change)\n\n{\n  \"data\": {\n    \"contractNumber\": \"CDR0027626\",\n    \"suppliers\": [{\"sourceIdentificationNumber\": \"PC-2025.003250\"}],\n    \"extension_date\": \"2027/06/30\",\n    \"intake_type\": \"Contract Extension Intake\",\n    \"generalRequestType\": {\"name\": \"Contract Extensions\", \"code\": \"6\"},\n    \"project_description\": \"Annual maintenance contract extension\",\n    \"primaryReasonExtendContract\": {\"name\": \"Performance Satisfaction\", \"code\": \"2\"},\n    \"changeInTerms\": {\"name\": \"Terms and conditions remain unchanged\", \"code\": \"2\"},\n    \"contractExtensionValue\": 1,\n    \"attachmentObjList\": [],\n    \"discussSupplierExtension\": \"Supplier agreed to extend under same terms\"\n  }\n}\n\n### Scenario 2: Contract Amendment (≤24 months, With Modifications)\n\n{\n  \"data\": {\n    \"contractNumber\": \"CDR0027626\",\n    \"suppliers\": [{\"sourceIdentificationNumber\": \"PC-2025.003250\"}],\n    \"extension_date\": \"2027/06/30\",\n    \"intake_type\": \"Contract Amendment Intake\",\n    \"generalRequestType\": {\"name\": \"Contract Amendment\", \"code\": \"5\"},\n    \"project_description\": \"Contract amendment for pricing update\",\n    \"primaryReasonExtendContract\": {\"name\": \"Performance Satisfaction\", \"code\": \"2\"},\n    \"changeInTerms\": {\"name\": \"Terms and conditions changed\", \"code\": \"1\"},\n    \"contractExtensionValue\": 2,\n    \"attachmentObjList\": [],\n    \"modifyChangeTerms\": \"Updated pricing terms\",\n    \"amendReason\": [{\"name\": \"Pricing adjustment\", \"code\": \"7\"}],\n    \"amendmentDescription\": \"Price increase due to market conditions\",\n    \"amendmentChangeType\": {\"name\": \"No\", \"code\": \"2\"},\n    \"amendmentService\": {\"name\": \"No\", \"code\": \"2\"},\n    \"discussContractAmend\": \"Discussed with supplier on 2026-01-15\"\n  }\n}\n\n### Scenario 3: Direct Negotiations (>24 months, No Terms Change)\n\n{\n  \"data\": {\n    \"contractNumber\": \"CDR0027626\",\n    \"suppliers\": [{\"sourceIdentificationNumber\": \"PC-2025.003250\"}],\n    \"extension_date\": \"2049/10/13\",\n    \"intake_type\": \"Direct Negotiations\",\n    \"generalRequestType\": {\"name\": \"Direct Negotiations & Benchmarking \", \"code\": \"1\"},\n    \"project_description\": \"Long-term contract extension\",\n    \"primaryReasonExtendContract\": {\"name\": \"Strategic or Operation Reasons\", \"code\": \"4\"},\n    \"changeInTerms\": {\"name\": \"Terms and conditions remain unchanged\", \"code\": \"2\"},\n    \"contractExtensionValue\": 3,\n    \"attachmentObjList\": [],\n    \"discussSupplierExtension\": \"Supplier aligned for long-term extension\",\n    \"budgetAmount\": 500000,\n    \"budgetCurrency\": {\"name\": \"USD\", \"code\": \"USD\"},\n    \"budgetStatus\": {\"name\": \"Approved\", \"code\": \"3\"},\n    \"supplierSelectionReason\": [{\"name\": \"Continuity with existing systems or services\", \"code\": \"8\"}],\n    \"amendReasonDNR\": []\n  }\n}\n\n### Scenario 4: Direct Negotiations (>24 months, With Modifications)\n\n{\n  \"data\": {\n    \"contractNumber\": \"CDR0027626\",\n    \"suppliers\": [{\"sourceIdentificationNumber\": \"PC-2025.003250\"}],\n    \"extension_date\": \"2049/10/13\",\n    \"intake_type\": \"Direct Negotiations\",\n    \"generalRequestType\": {\"name\": \"Direct Negotiations & Benchmarking \", \"code\": \"1\"},\n    \"project_description\": \"Contract extension for software license renewal\",\n    \"primaryReasonExtendContract\": {\"name\": \"Administrative or Budget Delays\", \"code\": \"3\"},\n    \"changeInTerms\": {\"name\": \"Terms and conditions changed\", \"code\": \"1\"},\n    \"contractExtensionValue\": 4,\n    \"attachmentObjList\": [],\n    \"modifyChangeTerms\": \"Updated pricing terms and SLA requirements\",\n    \"amendReason\": [{\"name\": \"Addition of new locations or regions\", \"code\": \"2\"}],\n    \"amendmentDescription\": \"Adding APAC region coverage\",\n    \"amendmentChangeType\": {\"name\": \"Yes\", \"code\": \"1\"},\n    \"amendmentService\": {\"name\": \"Yes\", \"code\": \"1\"},\n    \"discussContractAmend\": \"Discussed with supplier on 2026-01-15\",\n    \"budgetAmount\": 12483973,\n    \"budgetCurrency\": {\"name\": \"USD\", \"code\": \"USD\"},\n    \"budgetStatus\": {\"name\": \"Approved\", \"code\": \"3\"},\n    \"supplierSelectionReason\": [{\"name\": \"Continuity with existing systems or services\", \"code\": \"8\"}],\n    \"amendReasonDNR\": [{\"name\": \"Addition of new locations or regions\", \"code\": \"2\"}]\n  }\n}\n\n---\n\n## COMMON MISTAKES TO AVOID\n\n❌ **WRONG - Using code \"2\" for Contract Extension:**\n\"generalRequestType\": {\"name\": \"Contract Extension\", \"code\": \"2\"}\n\n✅ **CORRECT - Use code \"6\":**\n\"generalRequestType\": {\"name\": \"Contract Extensions\", \"code\": \"6\"}\n\n❌ **WRONG - String instead of array:**\n\"supplierSelectionReason\": \"Others\"\n\n✅ **CORRECT - Array of objects:**\n\"supplierSelectionReason\": [{\"name\": \"Others\", \"code\": \"9\"}]\n\n❌ **WRONG - Including null for optional field:**\n\"supplierOtherReason\": null\n\n✅ **CORRECT - Omit the field entirely:**\n// field not included at all\n\n❌ **WRONG - Empty string:**\n\"project_description\": \"\"\n\n✅ **CORRECT - Use N/A:**\n\"project_description\": \"N/A\"\n\n❌ **WRONG - Hardcoded EUR currency:**\n\"budgetCurrency\": {\"name\": \"EUR\", \"code\": \"EUR\"}\n\n✅ **CORRECT - Use currency from user context:**\n\"budgetCurrency\": {\"name\": \"USD\", \"code\": \"USD\"}\n\n\n---\n\n## ⚠️ STRING SANITIZATION (CRITICAL)\n\nBefore passing any user-provided free text to the payload, you MUST sanitize it:\n\n1. **Escape double quotes**: Replace `\"` with `\\\"`\n2. **Handle special characters**: Escape backslashes `\\` as `\\\\`\n\n### Examples:\n| User Input | Sanitized for Payload |\n|------------|----------------------|\n| YEs , \"SFds\" | YEs , \\\"SFds\\\" |\n| User said \"hello\" today | User said \\\"hello\\\" today |\n| Path: C:\\Users\\test | Path: C:\\\\Users\\\\test |\n\n### In the JSON payload:\n❌ WRONG: `\"discussContractAmend\": \"YEs , \"SFds\"\"`\n✅ CORRECT: `\"discussContractAmend\": \"YEs , \\\"SFds\\\"\"`\n\n---\n\n## amendReasonDNR MAPPING (For Direct Negotiations)\n\nWhen `intake_type` = \"Direct Negotiations\" AND `changeInTerms.code` = \"1\":\n- **amendReasonDNR MUST copy the SAME array from amendReason**\n- DO NOT leave it as empty array `[]`\n\n### Example:\nIf `amendReason` = `[{\"name\": \"Addition of new locations or regions\", \"code\": \"2\"}]`\n\nThen `amendReasonDNR` = `[{\"name\": \"Addition of new locations or regions\", \"code\": \"2\"}]`\n\n❌ WRONG: `\"amendReasonDNR\": []`\n✅ CORRECT: `\"amendReasonDNR\": [{\"name\": \"Addition of new locations or regions\", \"code\": \"2\"}]`\n\n\n---\n\n## ⚠️ REQUIRED FIELDS CHECKLIST (VERIFY BEFORE CALLING)\n\nALWAYS include these fields - they are REQUIRED:\n✅ contractNumber\n✅ suppliers (array, use [{\"sourceIdentificationNumber\": \"N/A\"}] if null)\n✅ extension_date (YYYY/MM/DD format)\n✅ intake_type\n✅ generalRequestType (object with name and code)\n✅ project_description\n✅ primaryReasonExtendContract (object with name and code)\n✅ changeInTerms (object with name and code)\n✅ contractExtensionValue (number: 1, 2, 3, or 4)\n✅ attachmentObjList (array, use [] if no attachments)\n\n❌ NEVER omit attachmentObjList - use empty array [] if no files uploaded",
                        "type": "tool",
                        "config": {
                            "enabled": true,
                            "toolId": "tool-handoff",
                            "type": "handoff",
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "data": {
                                        "type": "object",
                                        "properties": {
                                            "contractNumber": {
                                                "type": "string",
                                                "description": "The contract number (e.g., CDR0027626)"
                                            },
                                            "suppliers": {
                                                "type": "array",
                                                "items": {
                                                    "type": "object",
                                                    "properties": {
                                                        "sourceIdentificationNumber": {
                                                            "type": "string"
                                                        }
                                                    }
                                                },
                                                "description": "Array with supplier object. Use N/A for sourceIdentificationNumber if null"
                                            },
                                            "extension_date": {
                                                "type": "string",
                                                "description": "Extension date in YYYY/MM/DD format"
                                            },
                                            "intake_type": {
                                                "type": "string",
                                                "description": "Contract Extension Intake | Contract Amendment Intake | Direct Negotiations"
                                            },
                                            "generalRequestType": {
                                                "type": "object",
                                                "properties": {
                                                    "name": {
                                                        "type": "string"
                                                    },
                                                    "code": {
                                                        "type": "string"
                                                    }
                                                },
                                                "description": "Request type: {\"name\": \"Contract Extensions\", \"code\": \"6\"} for ≤24 months no change | {\"name\": \"Contract Amendment\", \"code\": \"5\"} for ≤24 months with changes | {\"name\": \"Direct Negotiations & Benchmarking \", \"code\": \"1\"} for >24 months"
                                            },
                                            "project_description": {
                                                "type": "string",
                                                "description": "Contract name or description"
                                            },
                                            "primaryReasonExtendContract": {
                                                "type": "object",
                                                "properties": {
                                                    "name": {
                                                        "type": "string"
                                                    },
                                                    "code": {
                                                        "type": "string"
                                                    }
                                                },
                                                "description": "Primary reason object with name and code"
                                            },
                                            "changeInTerms": {
                                                "type": "object",
                                                "properties": {
                                                    "name": {
                                                        "type": "string"
                                                    },
                                                    "code": {
                                                        "type": "string"
                                                    }
                                                },
                                                "description": "Change in terms object with name and code"
                                            },
                                            "contractExtensionValue": {
                                                "type": "number",
                                                "description": "1 (Extension), 2 (Amendment), 3 (DN no change), 4 (DN with change)"
                                            },
                                            "attachmentObjList": {
                                                "type": "array",
                                                "items": {
                                                    "type": "object"
                                                },
                                                "description": "Array of attachment objects, empty array [] if none"
                                            },
                                            "modifyChangeTerms": {
                                                "type": "string",
                                                "description": "Modification details. Only include if changeInTerms.code=1"
                                            },
                                            "amendReason": {
                                                "type": "array",
                                                "items": {
                                                    "type": "object",
                                                    "properties": {
                                                        "name": {
                                                            "type": "string"
                                                        },
                                                        "code": {
                                                            "type": "string"
                                                        }
                                                    }
                                                },
                                                "description": "Array of amendment reason objects. Only include if changeInTerms.code=1"
                                            },
                                            "amendmentDescription": {
                                                "type": "string",
                                                "description": "Amendment description. Only include if changeInTerms.code=1"
                                            },
                                            "amendmentChangeType": {
                                                "type": "object",
                                                "properties": {
                                                    "name": {
                                                        "type": "string"
                                                    },
                                                    "code": {
                                                        "type": "string"
                                                    }
                                                },
                                                "description": "Data volume change Yes/No. Only include if changeInTerms.code=1"
                                            },
                                            "amendmentService": {
                                                "type": "object",
                                                "properties": {
                                                    "name": {
                                                        "type": "string"
                                                    },
                                                    "code": {
                                                        "type": "string"
                                                    }
                                                },
                                                "description": "Service change Yes/No. Only include if changeInTerms.code=1"
                                            },
                                            "discussContractAmend": {
                                                "type": "string",
                                                "description": "Supplier discussion summary. Only include if changeInTerms.code=1"
                                            },
                                            "discussSupplierExtension": {
                                                "type": "string",
                                                "description": "Supplier discussion summary. Only include if changeInTerms.code=2"
                                            },
                                            "budgetAmount": {
                                                "type": "number",
                                                "description": "Integer budget value. Only include if intake_type=Direct Negotiations"
                                            },
                                            "budgetCurrency": {
                                                "type": "object",
                                                "properties": {
                                                    "name": {
                                                        "type": "string"
                                                    },
                                                    "code": {
                                                        "type": "string"
                                                    }
                                                },
                                                "description": "Currency object from user context. Only include if intake_type=Direct Negotiations. Example: {\"name\": \"USD\", \"code\": \"USD\"}"
                                            },
                                            "budgetStatus": {
                                                "type": "object",
                                                "properties": {
                                                    "name": {
                                                        "type": "string"
                                                    },
                                                    "code": {
                                                        "type": "string"
                                                    }
                                                },
                                                "description": "Budget status object. Only include if intake_type=Direct Negotiations"
                                            },
                                            "supplierSelectionReason": {
                                                "type": "array",
                                                "items": {
                                                    "type": "object",
                                                    "properties": {
                                                        "name": {
                                                            "type": "string"
                                                        },
                                                        "code": {
                                                            "type": "string"
                                                        }
                                                    }
                                                },
                                                "description": "Array of supplier selection reason objects. Only include if intake_type=Direct Negotiations"
                                            },
                                            "supplierOtherReason": {
                                                "type": "string",
                                                "description": "Other reason text. Only include if Other was selected in Step 12"
                                            },
                                            "amendReasonDNR": {
                                                "type": "array",
                                                "items": {
                                                    "type": "object",
                                                    "properties": {
                                                        "name": {
                                                            "type": "string"
                                                        },
                                                        "code": {
                                                            "type": "string"
                                                        }
                                                    }
                                                },
                                                "description": "Array of DN amendment reason objects. Only include if intake_type=Direct Negotiations"
                                            }
                                        },
                                        "required": [
                                            "contractNumber",
                                            "suppliers",
                                            "extension_date",
                                            "intake_type",
                                            "generalRequestType",
                                            "project_description",
                                            "primaryReasonExtendContract",
                                            "changeInTerms",
                                            "contractExtensionValue",
                                            "attachmentObjList"
                                        ],
                                        "additionalProperties": false,
                                        "description": "Create project request. Pass all collected data. Use N/A for null string values. OMIT optional fields if not applicable. Arrays must be arrays (not strings)."
                                    }
                                },
                                "required": [
                                    "data"
                                ]
                            },
                            "settings": {
                                "nodeId": "diftyrq"
                            },
                            "returnDirect": false,
                            "parameters": {}
                        }
                    },
                    {
                        "_id": "254bc030-dfaa-40e6-a106-ab37bc16616b",
                        "name": "summary_display",
                        "description": "Use this tool to display the contract extension summary before creating the project request (Step 14).\n\n## REQUIRED FIELDS (ALWAYS include):\n- Contract Number\n- Supplier Name (or \"N/A\" if null)\n- Extension Date (formatted)\n- Reason for Extension\n- Terms Changed (Yes/No)\n- Intake Type\n\n## CONDITIONAL FIELDS:\n\n### If Terms Changed (changeInTerms.code == \"1\"):\n- Modification Details\n- Amendment Reason(s)\n- Data Volume Change (Yes/No)\n- Products/Services Change (Yes/No)\n- Supplier Discussion\n\n### If Terms NOT Changed (changeInTerms.code == \"2\"):\n- Supplier Discussion\n\n### If intakeType == \"Direct Negotiations\":\n- Budget Currency\n- Budget Amount\n- Budget Status\n- Reason(s) for Continuing with Supplier\n- Other Reason (if \"Others\" selected)\n\n## HTML FORMAT:\n<b>Contract Number:</b> [value]<br>\n<b>Supplier Name:</b> [value or N/A]<br>\n<b>Extension Date:</b> [formatted]<br>\n<b>Reason for Extension:</b> [value]<br>\n<b>Terms Changed:</b> [Yes/No]<br>\n[If terms changed:]\n<b>Modification Details:</b> [value]<br>\n<b>Amendment Reason(s):</b> [value]<br>\n<b>Data Volume Change:</b> [Yes/No]<br>\n<b>Products/Services Change:</b> [Yes/No]<br>\n<b>Supplier Discussion:</b> [value]<br>\n[If Direct Negotiations:]\n<b>Budget Currency:</b> [value]<br>\n<b>Budget Amount:</b> [value]<br>\n<b>Budget Status:</b> [value]<br>\n<b>Reason(s) for Continuing with Supplier:</b> [value]<br>\n<b>Intake Type:</b> [value]\n\nAfter PV is rendered, output \"completed step 14 and waiting for user interaction\".",
                        "type": "tool",
                        "config": {
                            "enabled": true,
                            "toolId": "tool-handoff",
                            "type": "handoff",
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "summary_content": {
                                        "type": "string",
                                        "description": "HTML formatted summary of all collected information. Use format: \"<b>Label:</b> value<br>\" for each field."
                                    }
                                },
                                "required": [
                                    "summary_content"
                                ],
                                "additionalProperties": false
                            },
                            "settings": {
                                "nodeId": "jbfi3ef"
                            },
                            "returnDirect": false,
                            "parameters": {}
                        }
                    },
                    {
                        "_id": "598d2e03-0e35-4c7a-b769-ea9a03e4f1a6",
                        "name": "dn_budget_approval",
                        "description": "⚠️ MANDATORY CONDITION CHECK:\n- ONLY invoke if {{nodes.extendcontractdecisionpoint.result.intakeType}} == \"Direct Negotiations\"\n- SKIP this tool entirely if intakeType == \"Contract Amendment Intake\" or \"Contract Extension Intake\"\n\n\nUse this tool to ask about budget approval status (Step 13).\nThis handoff renders labelandbuttons PV with budget approval options.\n\n\nAfter PV is rendered, it returns \"step 13 rendered and waiting for user interaction\".\n\nlabel_datamodel: \"Has your <strong>budget been approved</strong> by your cost center manager?\"\nbuttons_datamodel: \"[{\\\"label\\\":\\\"Draft - Not Yet Submitted\\\",\\\"value\\\":\\\"1\\\",\\\"name\\\":\\\"Draft - Not Yet Submitted\\\",\\\"code\\\":\\\"1\\\"},{\\\"label\\\":\\\"Submitted - Awaiting Approval\\\",\\\"value\\\":\\\"2\\\",\\\"name\\\":\\\"Submitted - Awaiting Approval\\\",\\\"code\\\":\\\"2\\\"},{\\\"label\\\":\\\"Approved\\\",\\\"value\\\":\\\"3\\\",\\\"name\\\":\\\"Approved\\\",\\\"code\\\":\\\"3\\\"},{\\\"label\\\":\\\"Approved with Conditions\\\",\\\"value\\\":\\\"4\\\",\\\"name\\\":\\\"Approved with Conditions\\\",\\\"code\\\":\\\"4\\\"},{\\\"label\\\":\\\"Budget Not Approved\\\",\\\"value\\\":\\\"5\\\",\\\"name\\\":\\\"Budget Not Approved\\\",\\\"code\\\":\\\"5\\\"}]\"",
                        "type": "tool",
                        "config": {
                            "enabled": true,
                            "toolId": "tool-handoff",
                            "type": "handoff",
                            "schema": {
                                "type": "object",
                                "properties": {},
                                "required": [],
                                "additionalProperties": false
                            },
                            "settings": {
                                "nodeId": "v1fs151"
                            },
                            "returnDirect": false
                        }
                    },
                    {
                        "_id": "80710797-92db-47e8-91a8-b09725c6cca2",
                        "name": "dn_currency_budget",
                        "description": "⚠️ MANDATORY CONDITION CHECK:\n- ONLY invoke if {{nodes.extendcontractdecisionpoint.result.intakeType}} == \"Direct Negotiations\"\n- SKIP this tool entirely if intakeType == \"Contract Amendment Intake\" or \"Contract Extension Intake\"\n\n\nUse this tool to capture currency and budget information (Step 12).\nThis handoff:\n1. Calls getusercontext SSF tool to get user context\n2. Renders currencyBudget PV to capture currency and budget input\n\n\nAfter PV is rendered, it returns \"step 12 rendered completed and waiting for user interaction\".",
                        "type": "tool",
                        "config": {
                            "enabled": true,
                            "toolId": "tool-handoff",
                            "type": "handoff",
                            "schema": {
                                "type": "object",
                                "properties": {},
                                "required": [],
                                "additionalProperties": false
                            },
                            "settings": {
                                "nodeId": "4zruq1v"
                            },
                            "returnDirect": false
                        }
                    },
                    {
                        "_id": "753b3bed-047c-4497-bb09-746696607873",
                        "name": "dn_other_reason_followup",
                        "description": "⚠️ MANDATORY CONDITION CHECK:\n- ONLY invoke if {{nodes.extendcontractdecisionpoint.result.intakeType}} == \"Direct Negotiations\"\n- SKIP this tool entirely if intakeType == \"Contract Amendment Intake\" or \"Contract Extension Intake\"\n\n\nUse this tool to ask for specification when user selected \"Others\" in Step 10 (Step 11 - Conditional).\nThis handoff renders labelandbuttons PV asking user to specify their reason.\n\n**CONDITION:** Only invoke when user's Step 8 response contains \"Others (please specify below)\" or similar.\n\n\nAfter PV is rendered, it returns \"step 11 rendered and waiting for user interaction\".\n\nlabel_datamodel: \"Since you have selected others, please specify your reason in brief.\"\nbuttons_datamodel: \"[]\"\n\n**SKIP this step if user did NOT select \"Others\" → Move directly to STEP 12**",
                        "type": "tool",
                        "config": {
                            "enabled": true,
                            "toolId": "tool-handoff",
                            "type": "handoff",
                            "schema": {
                                "type": "object",
                                "properties": {},
                                "required": [],
                                "additionalProperties": false
                            },
                            "settings": {
                                "nodeId": "mqwhoby"
                            },
                            "returnDirect": false
                        }
                    },
                    {
                        "_id": "9da4b1f2-cc7f-4858-a6c6-b7b827c28d41",
                        "name": "dn_extension_reasons",
                        "description": "⚠️ MANDATORY CONDITION CHECK:\n- ONLY invoke if {{nodes.extendcontractdecisionpoint.result.intakeType}} == \"Direct Negotiations\"\n- SKIP this tool entirely if intakeType == \"Contract Amendment Intake\" or \"Contract Extension Intake\"\n\n\nUse this tool to fetch reasons for continuing with current supplier and render selection UI (Step 10).\nThis handoff:\n1. Calls getglobalcode SSF to get extension reason options (CodeType: ppst-ReasonsForSingleSupplier)\n2. Renders labelmultiselectsuppliercontractextension PV with multi-select options\n\nNo parameters needed from supervisor - this handoff uses hardcoded values.\n\nAfter PV is rendered, it returns \"step 10 rendered and waiting for user interaction\".\n\n**CONDITION:** Only invoke when {{nodes.extendcontractdecisionpoint.result.intakeType}} == \"Direct Negotiations\"",
                        "type": "tool",
                        "config": {
                            "enabled": true,
                            "toolId": "tool-handoff",
                            "type": "handoff",
                            "schema": {
                                "type": "object",
                                "properties": {},
                                "required": [],
                                "additionalProperties": false
                            },
                            "settings": {
                                "nodeId": "tw115ju"
                            },
                            "returnDirect": false
                        }
                    },
                    {
                        "_id": "e3363ca6-1bd8-4aef-8b34-8728dc69534f",
                        "name": "amendment_data_question_step8",
                        "description": "Invoke this tool to ask about data type/volume changes (Step 8).\n\nOnly invoke if changeInTerms = true and step 7 (Supplier Discussion) is completed.\n\n\nThis renders a Yes/No question about data volume changes.\nCompletion message: 'completed step 8 and waiting for user interaction'",
                        "type": "tool",
                        "config": {
                            "enabled": true,
                            "toolId": "tool-handoff",
                            "type": "handoff",
                            "schema": {
                                "type": "object",
                                "properties": {},
                                "required": [],
                                "additionalProperties": false
                            },
                            "settings": {
                                "nodeId": "j6jth4x"
                            },
                            "returnDirect": false,
                            "parameters": {}
                        }
                    },
                    {
                        "_id": "4a780087-d528-4723-a51a-f286e1e2071a",
                        "name": "amendment_modification_details",
                        "description": "Invoke this tool to collect modification details when user wants to change contract terms. Only invoke if changeInTerms == true. After PV renders\n\nreturns completion message: 'completed step 6 and waiting for user interaction",
                        "type": "tool",
                        "config": {
                            "enabled": true,
                            "toolId": "tool-handoff",
                            "type": "handoff",
                            "schema": {
                                "type": "object",
                                "properties": {},
                                "required": [],
                                "additionalProperties": false
                            },
                            "settings": {
                                "nodeId": "ob7vzpu"
                            },
                            "returnDirect": false,
                            "parameters": {}
                        }
                    },
                    {
                        "_id": "f4b25e65-ad5f-4a04-b7c3-37fcc7ec3a11",
                        "name": "terms_and_condition",
                        "description": "Use this tool to collect compliance information - whether contract terms will change.\n\nThis handoff invokes extendmultiselectoptions tool to render a multi-select PV where user can declare if terms and conditions will remain unchanged or be modified.\n\nIt renders PV. After PV is rendered, it returns \"completed and rendered handoff terms_and_condition and waiting for user interaction\".\n\nThis step is mandatory after extension reason selection. The user's selection produces the changeInTerms signal for downstream routing.\n\nInvoke this tool after STEP 4 (extension reason selection) is complete.",
                        "type": "tool",
                        "config": {
                            "enabled": true,
                            "toolId": "tool-handoff",
                            "type": "handoff",
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "multiselectOptions": {
                                        "type": "array",
                                        "items": {
                                            "type": "object",
                                            "properties": {},
                                            "required": [],
                                            "additionalProperties": false
                                        },
                                        "description": "**Use this view override to insert or add options to multiselect. **Data must be a valid list of options/valid json array. **It holds below schema: ``` [ \t{ \t\t\"id\": \"123\", \t\t\"name\": \"option1\" \t}, \t{ \t\t\"id\": \"124\", \t\t\"name\": \"option2\" \t} ] ```"
                                    },
                                    "multiselect": {
                                        "type": "array",
                                        "items": {
                                            "type": "object",
                                            "properties": {},
                                            "required": [],
                                            "additionalProperties": false
                                        },
                                        "description": "**Use this override to set initial data for the datamodel - \"multiselect\" and value must be a valid json. Value should have array of multiselectObj.  Example value of this override is,   ``` [{ multiselectObj: {} }] ```"
                                    },
                                    "contextMessageForMultiselect": {
                                        "type": "string",
                                        "description": "**Set the value of `contextMessageForMultiselect` with `\"Proceed with these selected options\"`."
                                    },
                                    "label_multiselect": {
                                        "type": "string",
                                        "description": "**This datamodel (`label_multiselect` ) will be used to show label on top of multiselect component. Data type will be valid html string."
                                    },
                                    "options": {
                                        "type": "object",
                                        "properties": {},
                                        "required": [],
                                        "additionalProperties": false,
                                        "description": "**Use this override to set initial data for the datamodel - \"options\" and value must be a valid json. Example value of this override is,    ``` {\"option\":\"\"} ```"
                                    }
                                },
                                "required": [],
                                "additionalProperties": false
                            },
                            "settings": {
                                "nodeId": "f372gay"
                            },
                            "returnDirect": false,
                            "parameters": {}
                        }
                    },
                    {
                        "_id": "18bbc129-9ecf-42aa-af41-7ff786b9cc4b",
                        "name": "extension_date_validation",
                        "description": "Use this tool to validate the extension date against contract expiry date.\n\nThis tool validates the date and routes through a RULE NODE:\n- If date is NOT ALLOWED: Sets {{flow.datemessage}} with error and routes back to datepicker\n- If date is ALLOWED: Proceeds to extension reason selection\n\nRequired Parameters (all dates in YYYY/MM/DD format):\n- expiryDate: Contract expiry date\n- requestedExtensionDate: User-selected extension date  \n- contractStatus: \"Live\", \"Expired\", or \"Terminated\"\n\nPayload structure:\n{\n  \"data\": {\n    \"expiryDate\": \"<YYYY/MM/DD>\",\n    \"requestedExtensionDate\": \"<YYYY/MM/DD>\",\n    \"contractStatus\": \"<Live|Expired|Terminated>\"\n  }\n}",
                        "type": "tool",
                        "config": {
                            "enabled": true,
                            "toolId": "tool-handoff",
                            "type": "handoff",
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "data": {
                                        "type": "object",
                                        "properties": {
                                            "expiryDate": {
                                                "type": "string",
                                                "description": "The current contract expiry date. Must be in YYYY/MM/DD format (e.g., \\\"2025/12/31\\\"). This is the expiry date of the selected contract that needs to be extended."
                                            },
                                            "requestedExtensionDate": {
                                                "type": "string",
                                                "description": "The extension date selected by the user. Must be in YYYY/MM/DD format (e.g., \\\"2026/12/31\\\"). This is the date the user wants to extend the contract until."
                                            },
                                            "contractStatus": {
                                                "type": "string",
                                                "description": "The current status of the contract. Must be one of: \\\"Live\\\", \\\"Expired\\\", or \\\"Terminated\\\". This indicates the current state of the contract being extended."
                                            }
                                        },
                                        "required": [
                                            "expiryDate",
                                            "requestedExtensionDate",
                                            "contractStatus"
                                        ],
                                        "additionalProperties": false
                                    }
                                },
                                "required": [
                                    "data"
                                ],
                                "additionalProperties": false
                            },
                            "settings": {
                                "nodeId": "lxq606l"
                            },
                            "returnDirect": false,
                            "parameters": {}
                        }
                    },
                    {
                        "_id": "39132b6b-2a52-4695-be44-74589e4d38e5",
                        "name": "contract_extension_datepicker",
                        "description": "Use this tool to capture the extension date from the user (Step 2).\n\n### PURPOSE\nThis tool renders a date picker UI for the user to select their desired contract extension date.\n\n### WHEN TO CALL\nCall this tool when:\n1. User has confirmed the contract (clicked \"Proceed with Request\" from contract summary)\n2. You need to capture the extension date\n\n### PRE-FILLING THE DATE PICKER\nIf the user has already mentioned an extension date in their query, pre-fill the date picker:\n\n**Date Extraction Rules:**\n- \"extend till 20th December 2028\" → Pre-fill: 2028/12/20\n- \"extend till December 2028\" → Pre-fill: 2028/12/31 (last day of month)\n- \"extend till end of 2028\" → Pre-fill: 2028/12/31\n- \"extend till 2028\" → Pre-fill: 2028/12/31\n- \"extend by 8 months\" → Calculate: contract_expiry_date + 8 months\n- \"extend for 2 years\" → Calculate: contract_expiry_date + 2 years\n\n**IMPORTANT:** Always convert dates to YYYY/MM/DD format.\n\n### PARAMETERS\n\n| Parameter | Description |\n|-----------|-------------|\n| contractDurationDataModelId | JSON object: `{\"startDate\": \"\"}` if no date provided, OR `{\"startDate\": \"<YYYY/MM/DD>\"}` if date was extracted from user query |\n| date_label | HTML label shown above the date picker. Use format: \"Got it! The current expiry date for <contract_number> is <strong>{{flow.formattedExpiryDate}}</strong>. Now, let's capture the contract extension date.\" |\n| contextSelectionMessage | Always use: \"Update the contract extension date based on these values\" |\n\n### PAYLOAD EXAMPLES\n\n**Example 1: No date provided by user (empty date picker)**\n{\n  \"contractDurationDataModelId\": \"{\\\"startDate\\\":\\\"\\\"}\",\n  \"date_label\": \"Got it! The current expiry date for CDR0027626 is <strong>14-05-2026</strong>. Now, let's capture the contract extension date.\",\n  \"contextSelectionMessage\": \"Update the contract extension date based on these values\"\n}\n\n**Example 2: User said \"extend till December 2028\" (pre-filled)**\n{\n  \"contractDurationDataModelId\": \"{\\\"startDate\\\":\\\"2028/12/31\\\"}\",\n  \"date_label\": \"Got it! The current expiry date for CDR0027626 is <strong>14-05-2026</strong>. I've pre-filled December 31, 2028 based on your request. Please confirm or adjust the extension date.\",\n  \"contextSelectionMessage\": \"Update the contract extension date based on these values\"\n}\n\n**Example 3: User said \"extend by 6 months\" (calculated from expiry)**\nIf contract expiry is 2026/05/14, then 6 months later = 2026/11/14\n{\n  \"contractDurationDataModelId\": \"{\\\"startDate\\\":\\\"2026/11/14\\\"}\",\n  \"date_label\": \"Got it! The current expiry date for CDR0027626 is <strong>14-05-2026</strong>. Based on your request to extend by 6 months, I've calculated November 14, 2026. Please confirm or adjust.\",\n  \"contextSelectionMessage\": \"Update the contract extension date based on these values\"\n}\n\n### STORING THE EXTENSION DATE\nAfter user selects/confirms the date:\n- The selected date will be available in the PV response\n- Store it for use in extension_date_validation and create_project_request tools\n\n### COMMON MISTAKES TO AVOID\n❌ Calling this tool without checking if user already provided a date in their query\n❌ Not pre-filling the date when user mentioned one\n❌ Using wrong date format (must be YYYY/MM/DD)\n❌ Not using {{flow.formattedExpiryDate}} for displaying expiry date to user",
                        "type": "tool",
                        "config": {
                            "enabled": true,
                            "toolId": "tool-handoff",
                            "type": "handoff",
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "contractDurationDataModelId": {
                                        "type": "string",
                                        "description": "This is used to capture"
                                    },
                                    "date_label": {
                                        "type": "string"
                                    },
                                    "contextSelectionMessage": {
                                        "type": "string"
                                    }
                                },
                                "required": [],
                                "additionalProperties": false
                            },
                            "settings": {
                                "nodeId": "zt8nvsc"
                            },
                            "returnDirect": false,
                            "parameters": {}
                        }
                    },
                    {
                        "_id": "ad18225b-3540-468c-8bc0-e54f9d707148",
                        "name": "getting_supplier_infromation_using_contract_number",
                        "description": "Use this tool ONLY for contract numbers (format: CDRxxxxxx).\n\nExamples:\n- \"extend contract CDR0027626\" → Use this tool\n- \"I want to extend CDR0012345\" → Use this tool\n\nContract numbers always start with CDR followed by digits.\n\nDO NOT use for supplier IDs like PC-2025.003552 (use supplier_path_a instead).\nDO NOT use for supplier names like \"Acme Corp\" (use supplier_path_a instead).\n\n⚠️ AMBIGUITY CHECK:\nIf user says \"extend contract for <value>\" where <value> is alphanumeric with hyphens but does NOT start with CDR or PC-, ask: \"Does '<value>' refer to a supplier partner code or a contract number?\"\n\n{\n  \"data\": {\n    \"contractNumber\": \"<contract_number>\",\n    \"status\": [\"Live\",\"Expired\",\"Terminated\"],\n    \"excludePerpetual\": true\n  }\n}",
                        "type": "tool",
                        "config": {
                            "enabled": true,
                            "toolId": "tool-handoff",
                            "type": "handoff",
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "data": {
                                        "type": "object",
                                        "properties": {
                                            "contractNumber": {
                                                "type": "string"
                                            },
                                            "status": {
                                                "type": "array",
                                                "items": {
                                                    "type": "string"
                                                },
                                                "description": "Contract status filter. Use [\"Live\",\"Expired\",\"Terminated\"]"
                                            },
                                            "excludePerpetual": {
                                                "type": "boolean",
                                                "description": "Whether to exclude perpetual contracts. Always use true."
                                            }
                                        },
                                        "required": [
                                            "contractNumber",
                                            "status"
                                        ],
                                        "additionalProperties": false
                                    }
                                },
                                "required": [
                                    "data"
                                ],
                                "additionalProperties": false
                            },
                            "settings": {
                                "nodeId": "ve2ji9a"
                            },
                            "returnDirect": false,
                            "parameters": {}
                        }
                    }
                ],
                "resources": [],
                "maxIterations": 5,
                "includeThoughts": true,
                "streamResponse": true,
                "structuredOutput": {
                    "enable": false,
                    "name": "",
                    "description": "",
                    "schema": {
                        "type": "object",
                        "properties": {},
                        "required": [],
                        "additionalProperties": false
                    }
                }
            },
            "data": {},
            "variableUpdates": [
                {
                    "fieldName": "thread.messages",
                    "operation": "append",
                    "value": "{{nodeOutput.text}}",
                    "role": "assistant"
                }
            ],
            "width": 350,
            "height": 186,
            "selected": true,
            "positionAbsolute": {
                "x": -969.5531969734219,
                "y": -354.33326347598944
            },
            "dragging": false
        },
        {
            "id": "ve2ji9a",
            "type": "tool",
            "name": "getcontractbycontractnumber1",
            "description": "Description:\n\n\nReturns:\n- \n\nFriendly Name: Get_Contract_By_Contract_Number",
            "position": {
                "x": -546.9371660656846,
                "y": -92.61681886609088
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "enabled": true,
                "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913-GetContractByContractNumber-32",
                "type": "mcp",
                "schema": {
                    "type": "object",
                    "properties": {
                        "event": {
                            "description": "Event to execute DAC policy in server function.",
                            "type": "string"
                        },
                        "data": {
                            "description": "Payload used to execute the function."
                        },
                        "additionalData": {
                            "description": "Any additional data used by the function."
                        }
                    },
                    "required": [
                        "data"
                    ],
                    "condition": "Description:\n\n\nReturns:\n- \n\nFriendly Name: Get_Contract_By_Contract_Number"
                },
                "settings": {
                    "serverId": "572ee3d8-dcd5-4957-8a27-4163f488f913"
                },
                "returnDirect": false,
                "_meta": {
                    "functionId": "64ba79d0-e445-42cc-9824-22bdeca4003c",
                    "type": "ssf-call",
                    "source": "current-module",
                    "moduleId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "serverName": "module mcp"
                },
                "parameters": {
                    "event": "\"\"",
                    "data": "{{nodes.supervisor.toolResults.getting_supplier_infromation_using_contract_number.data}}",
                    "additionalData": "{}"
                }
            },
            "data": {},
            "width": 350,
            "height": 112,
            "selected": false,
            "positionAbsolute": {
                "x": -550.1798422775234,
                "y": -92.61681886609088
            },
            "dragging": false,
            "variableUpdates": [
                {
                    "fieldName": "thread.supervisor_messages",
                    "operation": "append",
                    "value": "{{nodeOutput.result}}",
                    "role": "tool"
                }
            ]
        },
        {
            "id": "x7jg1hn",
            "type": "tool",
            "name": "labelandbuttons1",
            "description": "Description:\nThis partial view is responsible for rendering the label and buttons/options.\n\nOutputs:\n- Returns an object containing:\n  - `RenderingId` (string): The unique identifier of the rendered template. Must be used in final response when referencing this template e.g. [partial_view: RenderingId]\n  - `ContentType` (string): Specifies what type of template this is (e.g. `partial_view`).\n  - `Template` (string): A string representing the UI View Template.\n  - `TemplateDescription` (string): A short description of what the template will present to the user.\n\nNotes:\nThis partial view is responsible for rendering the label and buttons/options.",
            "position": {
                "x": 910.6056937588328,
                "y": -15.88836962500552
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "enabled": true,
                "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913-labelandbuttons-60",
                "type": "mcp",
                "schema": {
                    "type": "object",
                    "properties": {
                        "label_datamodel": {
                            "description": "Description:\n**If data is not a valid html string then convert the value to string.  **Use `label_datamodel` override to pass data to form label.\n\nNotes:\n**If data is not a valid html string then convert the value to string.  **Use `label_datamodel` override to pass data to form label.",
                            "type": "string"
                        },
                        "buttons_datamodel": {
                            "description": "Description:\n\n\nNotes:\n",
                            "type": "string"
                        }
                    },
                    "condition": "Description:\nThis partial view is responsible for rendering the label and buttons/options.\n\nOutputs:\n- Returns an object containing:\n  - `RenderingId` (string): The unique identifier of the rendered template. Must be used in final response when referencing this template e.g. [partial_view: RenderingId]\n  - `ContentType` (string): Specifies what type of template this is (e.g. `partial_view`).\n  - `Template` (string): A string representing the UI View Template.\n  - `TemplateDescription` (string): A short description of what the template will present to the user.\n\nNotes:\nThis partial view is responsible for rendering the label and buttons/options."
                },
                "settings": {
                    "serverId": "572ee3d8-dcd5-4957-8a27-4163f488f913"
                },
                "returnDirect": false,
                "_meta": {
                    "uiView": "{\"RefId\":null,\"ViewUniqueId\":\"e1a380cd-75d0-4534-ac80-aaa5301718ee\",\"Version\":[1,0],\"Type\":\"partialView\",\"Name\":\"label_and_buttons\",\"Icon\":null,\"Channel\":\"conversation\",\"Description\":\"This partial view is responsible for rendering the label and buttons/options.\",\"Instruction\":\"This partial view is responsible for rendering the label and buttons/options.\",\"AppId\":null,\"ModuleId\":null,\"EnableContextSharing\":true,\"Overrides\":{\"label_datamodel\":{\"Type\":\"data\",\"OverrideId\":\"label_datamodel\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"label_datamodel\",\"Description\":\"**If data is not a valid html string then convert the value to string.  **Use \\u0060label_datamodel\\u0060 override to pass data to form label.\",\"Instruction\":\"**If data is not a valid html string then convert the value to string.  **Use \\u0060label_datamodel\\u0060 override to pass data to form label.\",\"Value\":null,\"DataType\":\"string\",\"Source\":\"static\"},\"buttons_datamodel\":{\"Type\":\"data\",\"OverrideId\":\"buttons_datamodel\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"buttons_datamodel\",\"Description\":\"\",\"Instruction\":\"\",\"Value\":null,\"DataType\":\"array\",\"Source\":\"static\"}}}",
                    "type": "partial-view",
                    "source": "current-module",
                    "moduleId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "serverName": "module mcp"
                },
                "parameters": {
                    "label_datamodel": "{{flow.formattedContractSummary}}",
                    "buttons_datamodel": "[{\"label\": \"Proceed with Request\",\"value\": \"Proceed with Request\"}]"
                }
            },
            "data": {},
            "width": 350,
            "height": 112,
            "selected": false,
            "positionAbsolute": {
                "x": 912.4828330947552,
                "y": -15.88836962500552
            },
            "dragging": false,
            "variableUpdates": [
                {
                    "fieldName": "thread.supervisor_messages",
                    "operation": "append",
                    "value": "completed step 1 and waiting for user interaction",
                    "role": "tool"
                }
            ]
        },
        {
            "id": "l9bvfpo",
            "type": "tool",
            "name": "contractextensiondatepicker",
            "description": "Description:\nThis view is responsible for showing the date.\n\nOutputs:\n- Returns an object containing:\n  - `RenderingId` (string): The unique identifier of the rendered template. Must be used in final response when referencing this template e.g. [partial_view: RenderingId]\n  - `ContentType` (string): Specifies what type of template this is (e.g. `partial_view`).\n  - `Template` (string): A string representing the UI View Template.\n  - `TemplateDescription` (string): A short description of what the template will present to the user.\n\nNotes:\nThis view is responsible for showing the date.",
            "position": {
                "x": -493.4030875026599,
                "y": 49.35776136490544
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "enabled": true,
                "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913-contractextensiondatePicker-87",
                "type": "mcp",
                "schema": {
                    "type": "object",
                    "properties": {
                        "contractDurationDataModelId": {
                            "description": "Description:\n\n\nNotes:\n",
                            "type": "string"
                        },
                        "date_label": {
                            "description": "Description:\n\n\nNotes:\n**If data is not a valid html string then convert the value to string.  **Use `date_label` override to pass data to form label.",
                            "type": "string"
                        },
                        "contextSelectionMessage": {
                            "description": "Description:\n\n\nNotes:\n**Set the value of `contextSelectionMessage` with `\"Update the date based on these value\"`.",
                            "type": "string"
                        }
                    },
                    "condition": "Description:\nThis view is responsible for showing the date.\n\nOutputs:\n- Returns an object containing:\n  - `RenderingId` (string): The unique identifier of the rendered template. Must be used in final response when referencing this template e.g. [partial_view: RenderingId]\n  - `ContentType` (string): Specifies what type of template this is (e.g. `partial_view`).\n  - `Template` (string): A string representing the UI View Template.\n  - `TemplateDescription` (string): A short description of what the template will present to the user.\n\nNotes:\nThis view is responsible for showing the date."
                },
                "settings": {
                    "serverId": "572ee3d8-dcd5-4957-8a27-4163f488f913"
                },
                "returnDirect": false,
                "_meta": {
                    "uiView": "{\"RefId\":null,\"ViewUniqueId\":\"e639e266-97c0-438f-b9d2-99f080f6d03f\",\"Version\":[0,0],\"Type\":\"partialView\",\"Name\":\"contract_extension_datePicker\",\"Icon\":null,\"Channel\":\"conversation\",\"Description\":\"This view is responsible for showing the date.\",\"Instruction\":\"This view is responsible for showing the date.\",\"AppId\":null,\"ModuleId\":null,\"EnableContextSharing\":true,\"Overrides\":{\"contractDurationDataModelId\":{\"Type\":\"data\",\"OverrideId\":\"contractDurationDataModelId\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"contractDurationDataModelId\",\"Description\":\"\",\"Instruction\":\"\",\"Value\":null,\"DataType\":\"object\",\"Source\":\"static\"},\"date_label\":{\"Type\":\"data\",\"OverrideId\":\"date_label\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"date_label\",\"Description\":\"\",\"Instruction\":\"**If data is not a valid html string then convert the value to string.  **Use \\u0060date_label\\u0060 override to pass data to form label.\",\"Value\":null,\"DataType\":\"string\",\"Source\":\"static\"},\"contextSelectionMessage\":{\"Type\":\"data\",\"OverrideId\":\"contextSelectionMessage\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"contextSelectionMessage\",\"Description\":\"\",\"Instruction\":\"**Set the value of \\u0060contextSelectionMessage\\u0060 with \\u0060\\u0022Update the date based on these value\\u0022\\u0060.\",\"Value\":null,\"DataType\":\"string\",\"Source\":\"static\"}}}",
                    "type": "partial-view",
                    "source": "current-module",
                    "moduleId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "serverName": "module mcp"
                },
                "parameters": {
                    "contractDurationDataModelId": "{{nodes.supervisor.toolResults.contract_extension_datepicker.contractDurationDataModelId}}",
                    "date_label": "{{flow.datemessage}}",
                    "contextSelectionMessage": "{{nodes.supervisor.toolResults.contract_extension_datepicker.contextSelectionMessage}}"
                }
            },
            "data": {},
            "width": 350,
            "height": 112,
            "selected": false,
            "positionAbsolute": {
                "x": -493.4030875026599,
                "y": 49.35776136490544
            },
            "dragging": false,
            "variableUpdates": [
                {
                    "fieldName": "thread.supervisor_messages",
                    "operation": "append",
                    "value": "completed step 2 and waiting for user interaction",
                    "role": "tool"
                }
            ]
        },
        {
            "id": "lxq606l",
            "type": "tool",
            "name": "extensiondatecheck",
            "description": "Description:\n\n\nReturns:\n- \n\nFriendly Name: extension_date_check",
            "position": {
                "x": -2187.5797856219133,
                "y": 64.22786087243642
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "enabled": true,
                "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913-extensiondatecheck-32",
                "type": "mcp",
                "schema": {
                    "type": "object",
                    "properties": {
                        "event": {
                            "description": "Event to execute DAC policy in server function.",
                            "type": "string"
                        },
                        "data": {
                            "description": "Payload used to execute the function."
                        },
                        "additionalData": {
                            "description": "Any additional data used by the function."
                        }
                    },
                    "required": [
                        "data"
                    ],
                    "condition": "Description:\n\n\nReturns:\n- \n\nFriendly Name: extension_date_check"
                },
                "settings": {
                    "serverId": "572ee3d8-dcd5-4957-8a27-4163f488f913"
                },
                "returnDirect": false,
                "_meta": {
                    "functionId": "04022c95-feb2-4514-a75e-7fff19ff22b4",
                    "type": "ssf-call",
                    "source": "current-module",
                    "moduleId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "serverName": "module mcp"
                },
                "parameters": {
                    "event": "\"\"",
                    "data": "{{nodes.supervisor.toolResults.extension_date_validation.data}}",
                    "additionalData": "{}"
                }
            },
            "data": {},
            "width": 350,
            "height": 112,
            "selected": false,
            "positionAbsolute": {
                "x": -2189.530919265903,
                "y": 64.22786087243642
            },
            "dragging": false,
            "variableUpdates": [
                {
                    "fieldName": "flow.datemessage",
                    "operation": "set",
                    "value": "For live contracts, the extension date cannot be before the contract expiry date. Please provide a valid extension date."
                },
                {
                    "fieldName": "thread.supervisor_messages",
                    "operation": "append",
                    "value": "{{nodeOutput.result}}",
                    "role": "tool"
                }
            ]
        },
        {
            "id": "06wwfx9",
            "type": "tool",
            "name": "getglobalcode",
            "description": "Description:\n\n\nReturns:\n- \n\nFriendly Name: Get Global Code",
            "position": {
                "x": -2111.883852741488,
                "y": -105.50820792097798
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "enabled": true,
                "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913-GetGlobalCode-7",
                "type": "mcp",
                "schema": {
                    "type": "object",
                    "properties": {
                        "event": {
                            "description": "Event to execute DAC policy in server function.",
                            "type": "string"
                        },
                        "data": {
                            "description": "Payload used to execute the function."
                        },
                        "additionalData": {
                            "description": "Any additional data used by the function."
                        }
                    },
                    "required": [
                        "data"
                    ],
                    "condition": "Description:\n\n\nReturns:\n- \n\nFriendly Name: Get Global Code"
                },
                "settings": {
                    "serverId": "572ee3d8-dcd5-4957-8a27-4163f488f913"
                },
                "returnDirect": false,
                "_meta": {
                    "functionId": "bade57a4-cf6a-4437-afc4-457310c40d7a",
                    "type": "ssf-call",
                    "source": "current-module",
                    "moduleId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "serverName": "module mcp"
                },
                "parameters": {
                    "event": "\"\"",
                    "data": " { \"CodeType\": \"PPST-ReasonForExtension\" }",
                    "additionalData": "{}"
                }
            },
            "data": {},
            "width": 326,
            "height": 96,
            "selected": false,
            "positionAbsolute": {
                "x": -2111.883852741488,
                "y": -106.9770489634049
            },
            "dragging": false,
            "variableUpdates": [
                {
                    "fieldName": "thread.supervisor_messages",
                    "operation": "append",
                    "value": "{{nodeOutput.result}}",
                    "role": "tool"
                }
            ]
        },
        {
            "id": "tdgorqp",
            "type": "tool",
            "name": "labelandbuttons",
            "description": "Description:\nThis partial view is responsible for rendering the label and buttons/options.\n\nOutputs:\n- Returns an object containing:\n  - `RenderingId` (string): The unique identifier of the rendered template. Must be used in final response when referencing this template e.g. [partial_view: RenderingId]\n  - `ContentType` (string): Specifies what type of template this is (e.g. `partial_view`).\n  - `Template` (string): A string representing the UI View Template.\n  - `TemplateDescription` (string): A short description of what the template will present to the user.\n\nNotes:\nThis partial view is responsible for rendering the label and buttons/options.",
            "position": {
                "x": -1702.1265674403378,
                "y": -113.50820792097798
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "enabled": true,
                "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913-labelandbuttons-60",
                "type": "mcp",
                "schema": {
                    "type": "object",
                    "properties": {
                        "label_datamodel": {
                            "description": "Description:\n**If data is not a valid html string then convert the value to string.  **Use `label_datamodel` override to pass data to form label.\n\nNotes:\n**If data is not a valid html string then convert the value to string.  **Use `label_datamodel` override to pass data to form label.",
                            "type": "string"
                        },
                        "buttons_datamodel": {
                            "description": "Description:\n\n\nNotes:\n",
                            "type": "string"
                        }
                    },
                    "condition": "Description:\nThis partial view is responsible for rendering the label and buttons/options.\n\nOutputs:\n- Returns an object containing:\n  - `RenderingId` (string): The unique identifier of the rendered template. Must be used in final response when referencing this template e.g. [partial_view: RenderingId]\n  - `ContentType` (string): Specifies what type of template this is (e.g. `partial_view`).\n  - `Template` (string): A string representing the UI View Template.\n  - `TemplateDescription` (string): A short description of what the template will present to the user.\n\nNotes:\nThis partial view is responsible for rendering the label and buttons/options."
                },
                "settings": {
                    "serverId": "572ee3d8-dcd5-4957-8a27-4163f488f913"
                },
                "returnDirect": false,
                "_meta": {
                    "uiView": "{\"RefId\":null,\"ViewUniqueId\":\"e1a380cd-75d0-4534-ac80-aaa5301718ee\",\"Version\":[1,0],\"Type\":\"partialView\",\"Name\":\"label_and_buttons\",\"Icon\":null,\"Channel\":\"conversation\",\"Description\":\"This partial view is responsible for rendering the label and buttons/options.\",\"Instruction\":\"This partial view is responsible for rendering the label and buttons/options.\",\"AppId\":null,\"ModuleId\":null,\"EnableContextSharing\":true,\"Overrides\":{\"label_datamodel\":{\"Type\":\"data\",\"OverrideId\":\"label_datamodel\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"label_datamodel\",\"Description\":\"**If data is not a valid html string then convert the value to string.  **Use \\u0060label_datamodel\\u0060 override to pass data to form label.\",\"Instruction\":\"**If data is not a valid html string then convert the value to string.  **Use \\u0060label_datamodel\\u0060 override to pass data to form label.\",\"Value\":null,\"DataType\":\"string\",\"Source\":\"static\"},\"buttons_datamodel\":{\"Type\":\"data\",\"OverrideId\":\"buttons_datamodel\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"buttons_datamodel\",\"Description\":\"\",\"Instruction\":\"\",\"Value\":null,\"DataType\":\"array\",\"Source\":\"static\"}}}",
                    "type": "partial-view",
                    "source": "current-module",
                    "moduleId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "serverName": "module mcp"
                },
                "parameters": {
                    "label_datamodel": "Please select the reason for extension:",
                    "buttons_datamodel": "{{nodes.getglobalcode.result.questionOptions}}"
                }
            },
            "data": {},
            "width": 350,
            "height": 112,
            "selected": false,
            "positionAbsolute": {
                "x": -1702.1265674403378,
                "y": -113.50820792097797
            },
            "dragging": false,
            "variableUpdates": [
                {
                    "fieldName": "thread.supervisor_messages",
                    "operation": "append",
                    "value": "completed step 4 and waiting for user interaction",
                    "role": "tool"
                }
            ]
        },
        {
            "id": "note_1y19it4",
            "type": "note",
            "name": "note_0",
            "description": "Canvas note",
            "position": {
                "x": -1626.250499990571,
                "y": -641.317737419693
            },
            "deletable": true,
            "style": {
                "minWidth": 300,
                "minHeight": 200
            },
            "data": {
                "content": [
                    {
                        "type": "paragraph",
                        "children": [
                            {
                                "text": "Prompt to test the flow",
                                "bold": true
                            }
                        ]
                    },
                    {
                        "type": "paragraph",
                        "children": [
                            {
                                "text": "​"
                            }
                        ]
                    },
                    {
                        "type": "paragraph",
                        "children": [
                            {
                                "text": "I want to do contract extension with workday for CDR0027626.0"
                            }
                        ]
                    },
                    {
                        "type": "paragraph",
                        "children": [
                            {
                                "text": ""
                            }
                        ]
                    },
                    {
                        "type": "paragraph",
                        "children": [
                            {
                                "text": "Proceed with request"
                            }
                        ]
                    },
                    {
                        "type": "paragraph",
                        "children": [
                            {
                                "text": ""
                            }
                        ]
                    },
                    {
                        "type": "paragraph",
                        "children": [
                            {
                                "text": "12-12-2098"
                            }
                        ]
                    }
                ],
                "color": "Yellow"
            },
            "properties": {},
            "config": {},
            "width": 476,
            "height": 200,
            "selected": false,
            "positionAbsolute": {
                "x": -1626.250499990571,
                "y": -641.317737419693
            },
            "dragging": false
        },
        {
            "id": "hdu4wl5",
            "type": "tool",
            "name": "extendmultiselectoptions",
            "description": "Description:\nThis view is responsible for showing multi-selectable options that the user can select and proceed with.\n\nOutputs:\n- Returns an object containing:\n  - `RenderingId` (string): The unique identifier of the rendered template. Must be used in final response when referencing this template e.g. [partial_view: RenderingId]\n  - `ContentType` (string): Specifies what type of template this is (e.g. `partial_view`).\n  - `Template` (string): A string representing the UI View Template.\n  - `TemplateDescription` (string): A short description of what the template will present to the user.\n\nNotes:\nThis view is responsible for showing multi-selectable options that the user can select and proceed with.",
            "position": {
                "x": -1761.2610455132065,
                "y": 252.4450827618494
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "enabled": true,
                "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913-extendmultiselectoptions-89",
                "type": "mcp",
                "schema": {
                    "type": "object",
                    "properties": {
                        "preText": {
                            "description": "Text message to be rendered before the content of the partial view",
                            "type": "string"
                        },
                        "postText": {
                            "description": "Text message to be rendered after the content of the partial view",
                            "type": "string"
                        },
                        "multiselectOptions": {
                            "description": "Description:\n\n\nNotes:\n**Use this view override to insert or add options to multiselect. **Data must be a valid list of options/valid json array. **It holds below schema: ``` [ \t{ \t\t\"id\": \"123\", \t\t\"name\": \"option1\" \t}, \t{ \t\t\"id\": \"124\", \t\t\"name\": \"option2\" \t} ] ```",
                            "type": "string"
                        },
                        "multiselect": {
                            "description": "Description:\n\n\nNotes:\n**Use this override to set initial data for the datamodel - \"multiselect\" and value must be a valid json. Value should have array of multiselectObj.  Example value of this override is,   ``` [{ multiselectObj: {} }] ```",
                            "type": "string"
                        },
                        "contextMessageForMultiselect": {
                            "description": "Description:\n\n\nNotes:\n**Set the value of `contextMessageForMultiselect` with `\"Proceed with these selected options\"`.",
                            "type": "string"
                        },
                        "label_multiselect": {
                            "description": "Description:\n\n\nNotes:\n**This datamodel (`label_multiselect` ) will be used to show label on top of multiselect component. Data type will be valid html string.",
                            "type": "string"
                        },
                        "options": {
                            "description": "Description:\n\n\nNotes:\n**Use this override to set initial data for the datamodel - \"options\" and value must be a valid json. Example value of this override is,    ``` {\"option\":\"\"} ```",
                            "type": "string"
                        }
                    },
                    "condition": "Description:\nThis view is responsible for showing multi-selectable options that the user can select and proceed with.\n\nOutputs:\n- Returns an object containing:\n  - `RenderingId` (string): The unique identifier of the rendered template. Must be used in final response when referencing this template e.g. [partial_view: RenderingId]\n  - `ContentType` (string): Specifies what type of template this is (e.g. `partial_view`).\n  - `Template` (string): A string representing the UI View Template.\n  - `TemplateDescription` (string): A short description of what the template will present to the user.\n\nNotes:\nThis view is responsible for showing multi-selectable options that the user can select and proceed with."
                },
                "settings": {
                    "serverId": "572ee3d8-dcd5-4957-8a27-4163f488f913"
                },
                "returnDirect": false,
                "_meta": {
                    "uiView": "{\"RefId\":null,\"ViewUniqueId\":\"a8b6fe43-6666-4cf2-9f10-5910ac3e909c\",\"Version\":[0,0],\"Type\":\"partialView\",\"Name\":\"extend_multiselect_options\",\"Icon\":null,\"Channel\":\"conversation\",\"Description\":\"This view is responsible for showing multi-selectable options that the user can select and proceed with.\",\"Instruction\":\"This view is responsible for showing multi-selectable options that the user can select and proceed with.\",\"AppId\":null,\"ModuleId\":null,\"EnableContextSharing\":true,\"Overrides\":{\"multiselectOptions\":{\"Type\":\"view\",\"OverrideId\":\"multiselectOptions\",\"IsMainDataSource\":null,\"ShareAsContext\":null,\"StoreId\":null,\"Description\":\"\",\"Instruction\":\"**Use this view override to insert or add options to multiselect. **Data must be a valid list of options/valid json array. **It holds below schema: \\u0060\\u0060\\u0060 [ \\t{ \\t\\t\\u0022id\\u0022: \\u0022123\\u0022, \\t\\t\\u0022name\\u0022: \\u0022option1\\u0022 \\t}, \\t{ \\t\\t\\u0022id\\u0022: \\u0022124\\u0022, \\t\\t\\u0022name\\u0022: \\u0022option2\\u0022 \\t} ] \\u0060\\u0060\\u0060\",\"Value\":null,\"DataType\":\"array\",\"Source\":\"static\"},\"multiselect\":{\"Type\":\"data\",\"OverrideId\":\"multiselect\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"multiselect\",\"Description\":\"\",\"Instruction\":\"**Use this override to set initial data for the datamodel - \\u0022multiselect\\u0022 and value must be a valid json. Value should have array of multiselectObj.  Example value of this override is,   \\u0060\\u0060\\u0060 [{ multiselectObj: {} }] \\u0060\\u0060\\u0060\",\"Value\":null,\"DataType\":\"array\",\"Source\":\"static\"},\"contextMessageForMultiselect\":{\"Type\":\"data\",\"OverrideId\":\"contextMessageForMultiselect\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"contextMessageForMultiselect\",\"Description\":\"\",\"Instruction\":\"**Set the value of \\u0060contextMessageForMultiselect\\u0060 with \\u0060\\u0022Proceed with these selected options\\u0022\\u0060.\",\"Value\":null,\"DataType\":\"string\",\"Source\":\"static\"},\"label_multiselect\":{\"Type\":\"data\",\"OverrideId\":\"label_multiselect\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"label_multiselect\",\"Description\":\"\",\"Instruction\":\"**This datamodel (\\u0060label_multiselect\\u0060 ) will be used to show label on top of multiselect component. Data type will be valid html string.\",\"Value\":null,\"DataType\":\"string\",\"Source\":\"static\"},\"options\":{\"Type\":\"data\",\"OverrideId\":\"options\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"options\",\"Description\":\"\",\"Instruction\":\"**Use this override to set initial data for the datamodel - \\u0022options\\u0022 and value must be a valid json. Example value of this override is,    \\u0060\\u0060\\u0060 {\\u0022option\\u0022:\\u0022\\u0022} \\u0060\\u0060\\u0060\",\"Value\":null,\"DataType\":\"object\",\"Source\":\"static\"}}}",
                    "type": "partial-view",
                    "source": "current-module",
                    "moduleId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "serverName": "module mcp"
                },
                "parameters": {
                    "preText": "",
                    "postText": "",
                    "multiselectOptions": "{{nodes.getglobalcode1.result.questionOptions}}",
                    "multiselect": "{\"multiselectObj\": []}",
                    "contextMessageForMultiselect": "Proceed with these selected options",
                    "label_multiselect": "How would you like to proceed with contract terms?",
                    "options": "{\"option\":\"\"}"
                }
            },
            "data": {},
            "width": 350,
            "height": 112,
            "selected": false,
            "positionAbsolute": {
                "x": -1761.2610455132065,
                "y": 252.4450827618494
            },
            "dragging": false,
            "variableUpdates": [
                {
                    "fieldName": "thread.supervisor_messages",
                    "operation": "append",
                    "value": "completed step 5 and waiting for user interaction",
                    "role": "tool"
                }
            ]
        },
        {
            "id": "f372gay",
            "type": "tool",
            "name": "getglobalcode1",
            "description": "Description:\n\n\nReturns:\n- \n\nFriendly Name: Get Global Code",
            "position": {
                "x": -2187.5797856219133,
                "y": 260.4450827618494
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "enabled": true,
                "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913-GetGlobalCode-7",
                "type": "mcp",
                "schema": {
                    "type": "object",
                    "properties": {
                        "event": {
                            "description": "Event to execute DAC policy in server function.",
                            "type": "string"
                        },
                        "data": {
                            "description": "Payload used to execute the function."
                        },
                        "additionalData": {
                            "description": "Any additional data used by the function."
                        }
                    },
                    "required": [
                        "data"
                    ],
                    "condition": "Description:\n\n\nReturns:\n- \n\nFriendly Name: Get Global Code"
                },
                "settings": {
                    "serverId": "572ee3d8-dcd5-4957-8a27-4163f488f913"
                },
                "returnDirect": false,
                "_meta": {
                    "functionId": "bade57a4-cf6a-4437-afc4-457310c40d7a",
                    "type": "ssf-call",
                    "source": "current-module",
                    "moduleId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "serverName": "module mcp"
                },
                "parameters": {
                    "event": "\"\"",
                    "data": " { \"CodeType\": \"PPST-ReasonForAmendment\"}",
                    "additionalData": "{}"
                }
            },
            "data": {},
            "width": 326,
            "height": 96,
            "selected": false,
            "positionAbsolute": {
                "x": -2187.5797856219133,
                "y": 259.1859276215992
            },
            "dragging": false,
            "variableUpdates": [
                {
                    "fieldName": "thread.supervisor_messages",
                    "operation": "append",
                    "value": "{{nodeOutput.result}}",
                    "role": "tool"
                }
            ]
        },
        {
            "id": "dglt5gq",
            "type": "tool",
            "name": "extendcontractdecisionpoint",
            "description": "Description:\n\n\nReturns:\n- \n\nFriendly Name: extend_contract_decision_point",
            "position": {
                "x": -2333.4799105923207,
                "y": 852.9715779744346
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "enabled": true,
                "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913-extendcontractdecisionpoint-21",
                "type": "mcp",
                "schema": {
                    "type": "object",
                    "properties": {
                        "event": {
                            "description": "Event to execute DAC policy in server function.",
                            "type": "string"
                        },
                        "data": {
                            "type": "string",
                            "description": "Payload used to execute the function."
                        },
                        "additionalData": {
                            "type": "string",
                            "description": "Any additional data used by the function."
                        }
                    },
                    "required": [
                        "data"
                    ],
                    "condition": "Description:\n\n\nReturns:\n- \n\nFriendly Name: extend_contract_decision_point"
                },
                "settings": {
                    "serverId": "572ee3d8-dcd5-4957-8a27-4163f488f913"
                },
                "returnDirect": false,
                "_meta": {
                    "functionId": "90cc92da-f854-42f1-97bb-91c022f786eb",
                    "type": "ssf-call",
                    "source": "current-module",
                    "moduleId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "serverName": "module mcp"
                },
                "parameters": {
                    "event": "\"\"",
                    "data": "{{nodes.supervisor.toolResults.supplier_discussion_question.data}}",
                    "additionalData": "{}"
                }
            },
            "data": {},
            "width": 350,
            "height": 112,
            "selected": false,
            "positionAbsolute": {
                "x": -2333.4799105923207,
                "y": 852.9715779744346
            },
            "dragging": false,
            "variableUpdates": [
                {
                    "fieldName": "thread.supervisor_messages",
                    "operation": "append",
                    "value": "{{nodeOutput.result}}",
                    "role": "tool"
                }
            ]
        },
        {
            "id": "ob7vzpu",
            "type": "tool",
            "name": "labelandbuttons2",
            "description": "Description:\nThis partial view is responsible for rendering the label and buttons/options.\n\nOutputs:\n- Returns an object containing:\n  - `RenderingId` (string): The unique identifier of the rendered template. Must be used in final response when referencing this template e.g. [partial_view: RenderingId]\n  - `ContentType` (string): Specifies what type of template this is (e.g. `partial_view`).\n  - `Template` (string): A string representing the UI View Template.\n  - `TemplateDescription` (string): A short description of what the template will present to the user.\n\nNotes:\nThis partial view is responsible for rendering the label and buttons/options.",
            "position": {
                "x": -2209.013757903722,
                "y": 439.11362065438783
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "enabled": true,
                "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913-labelandbuttons-61",
                "type": "mcp",
                "schema": {
                    "type": "object",
                    "properties": {
                        "preText": {
                            "description": "Text message to be rendered before the content of the partial view",
                            "type": "string"
                        },
                        "postText": {
                            "description": "Text message to be rendered after the content of the partial view",
                            "type": "string"
                        },
                        "label_datamodel": {
                            "description": "Description:\n**If data is not a valid html string then convert the value to string.  **Use `label_datamodel` override to pass data to form label.\n\nNotes:\n**If data is not a valid html string then convert the value to string.  **Use `label_datamodel` override to pass data to form label.",
                            "type": "string"
                        },
                        "buttons_datamodel": {
                            "description": "Description:\n\n\nNotes:\n",
                            "type": "string"
                        }
                    },
                    "condition": "Description:\nThis partial view is responsible for rendering the label and buttons/options.\n\nOutputs:\n- Returns an object containing:\n  - `RenderingId` (string): The unique identifier of the rendered template. Must be used in final response when referencing this template e.g. [partial_view: RenderingId]\n  - `ContentType` (string): Specifies what type of template this is (e.g. `partial_view`).\n  - `Template` (string): A string representing the UI View Template.\n  - `TemplateDescription` (string): A short description of what the template will present to the user.\n\nNotes:\nThis partial view is responsible for rendering the label and buttons/options."
                },
                "settings": {
                    "serverId": "572ee3d8-dcd5-4957-8a27-4163f488f913"
                },
                "returnDirect": false,
                "_meta": {
                    "uiView": "{\"RefId\":null,\"ViewUniqueId\":\"e1a380cd-75d0-4534-ac80-aaa5301718ee\",\"Version\":[1,0],\"Type\":\"partialView\",\"Name\":\"label_and_buttons\",\"Icon\":null,\"Channel\":\"conversation\",\"Description\":\"This partial view is responsible for rendering the label and buttons/options.\",\"Instruction\":\"This partial view is responsible for rendering the label and buttons/options.\",\"AppId\":null,\"ModuleId\":null,\"EnableContextSharing\":true,\"Overrides\":{\"label_datamodel\":{\"Type\":\"data\",\"OverrideId\":\"label_datamodel\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"label_datamodel\",\"Description\":\"**If data is not a valid html string then convert the value to string.  **Use \\u0060label_datamodel\\u0060 override to pass data to form label.\",\"Instruction\":\"**If data is not a valid html string then convert the value to string.  **Use \\u0060label_datamodel\\u0060 override to pass data to form label.\",\"Value\":null,\"DataType\":\"string\",\"Source\":\"static\"},\"buttons_datamodel\":{\"Type\":\"data\",\"OverrideId\":\"buttons_datamodel\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"buttons_datamodel\",\"Description\":\"\",\"Instruction\":\"\",\"Value\":null,\"DataType\":\"array\",\"Source\":\"static\"}}}",
                    "type": "partial-view",
                    "source": "current-module",
                    "moduleId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "serverName": "module mcp"
                },
                "parameters": {
                    "preText": "",
                    "postText": "",
                    "label_datamodel": "Got it. Can you please provide details of modifications you would like to make?",
                    "buttons_datamodel": "[]"
                }
            },
            "data": {},
            "width": 350,
            "height": 112,
            "selected": false,
            "positionAbsolute": {
                "x": -2210.1142487766238,
                "y": 439.11362065438783
            },
            "dragging": false,
            "variableUpdates": [
                {
                    "fieldName": "thread.supervisor_messages",
                    "operation": "append",
                    "value": "completed step 6 and waiting for user interaction",
                    "role": "tool"
                }
            ]
        },
        {
            "id": "j6jth4x",
            "type": "tool",
            "name": "getitextmessage",
            "description": "Description:\n\n\nReturns:\n- \n\nFriendly Name: get_iTextMessage",
            "position": {
                "x": -2209.013757903722,
                "y": 603.3873423780797
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "enabled": true,
                "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913-getiTextMessage-2",
                "type": "mcp",
                "schema": {
                    "type": "object",
                    "properties": {
                        "event": {
                            "description": "Event to execute DAC policy in server function.",
                            "type": "string"
                        },
                        "data": {
                            "type": "string",
                            "description": "Payload used to execute the function."
                        },
                        "additionalData": {
                            "type": "string",
                            "description": "Any additional data used by the function."
                        }
                    },
                    "required": [
                        "data"
                    ],
                    "condition": "Description:\n\n\nReturns:\n- \n\nFriendly Name: get_iTextMessage"
                },
                "settings": {
                    "serverId": "572ee3d8-dcd5-4957-8a27-4163f488f913"
                },
                "returnDirect": false,
                "_meta": {
                    "functionId": "8481170a-c5e4-450a-89a9-f74a2e86f77d",
                    "type": "ssf-call",
                    "source": "current-module",
                    "moduleId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "serverName": "module mcp"
                },
                "parameters": {
                    "event": "\"\"",
                    "data": "  {\"agentName\": \"Contract Extension Assistant\", \"questionKey\": \"Are there any changes in type or volume of data being shared as part of this contract?\"}",
                    "additionalData": "{}"
                }
            },
            "data": {},
            "width": 332,
            "height": 96,
            "selected": false,
            "positionAbsolute": {
                "x": -2208.628124433707,
                "y": 603.3873423780797
            },
            "dragging": false
        },
        {
            "id": "eniml8w",
            "type": "tool",
            "name": "labelandbuttonslink",
            "description": "Description:\nlabel_and_buttons_link\n\nOutputs:\n- Returns an object containing:\n  - `RenderingId` (string): The unique identifier of the rendered template. Must be used in final response when referencing this template e.g. [partial_view: RenderingId]\n  - `ContentType` (string): Specifies what type of template this is (e.g. `partial_view`).\n  - `Template` (string): A string representing the UI View Template.\n  - `TemplateDescription` (string): A short description of what the template will present to the user.\n\nNotes:\nlabel_and_buttons_link",
            "position": {
                "x": -1763.7793557937066,
                "y": 597.3133429884107
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "enabled": true,
                "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913-labelandbuttonslink-99",
                "type": "mcp",
                "schema": {
                    "type": "object",
                    "properties": {
                        "preText": {
                            "description": "Text message to be rendered before the content of the partial view",
                            "type": "string"
                        },
                        "postText": {
                            "description": "Text message to be rendered after the content of the partial view",
                            "type": "string"
                        },
                        "label_datamodel": {
                            "description": "Description:\n\n\nNotes:\n",
                            "type": "string"
                        },
                        "buttons_datamodel": {
                            "description": "Description:\n\n\nNotes:\n",
                            "type": "string"
                        },
                        "infoBannerDetails": {
                            "description": "Description:\n\n\nNotes:\n",
                            "type": "string"
                        }
                    },
                    "condition": "Description:\nlabel_and_buttons_link\n\nOutputs:\n- Returns an object containing:\n  - `RenderingId` (string): The unique identifier of the rendered template. Must be used in final response when referencing this template e.g. [partial_view: RenderingId]\n  - `ContentType` (string): Specifies what type of template this is (e.g. `partial_view`).\n  - `Template` (string): A string representing the UI View Template.\n  - `TemplateDescription` (string): A short description of what the template will present to the user.\n\nNotes:\nlabel_and_buttons_link"
                },
                "settings": {
                    "serverId": "572ee3d8-dcd5-4957-8a27-4163f488f913"
                },
                "returnDirect": false,
                "_meta": {
                    "uiView": "{\"RefId\":null,\"ViewUniqueId\":\"4677dd6a-caa2-4574-b9ad-cd2e97fc01f4\",\"Version\":[0,0],\"Type\":\"partialView\",\"Name\":\"label_and_buttons_link\",\"Icon\":null,\"Channel\":\"conversation\",\"Description\":\"label_and_buttons_link\",\"Instruction\":\"label_and_buttons_link\",\"AppId\":null,\"ModuleId\":null,\"EnableContextSharing\":true,\"Overrides\":{\"label_datamodel\":{\"Type\":\"data\",\"OverrideId\":\"label_datamodel\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"label_datamodel\",\"Description\":\"\",\"Instruction\":\"\",\"Value\":null,\"DataType\":\"string\",\"Source\":\"static\"},\"buttons_datamodel\":{\"Type\":\"data\",\"OverrideId\":\"buttons_datamodel\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"buttons_datamodel\",\"Description\":\"\",\"Instruction\":\"\",\"Value\":null,\"DataType\":\"array\",\"Source\":\"static\"},\"infoBannerDetails\":{\"Type\":\"data\",\"OverrideId\":\"infoBannerDetails\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"infoBannerDetails\",\"Description\":\"\",\"Instruction\":\"\",\"Value\":null,\"DataType\":\"object\",\"Source\":\"static\"}}}",
                    "type": "partial-view",
                    "source": "current-module",
                    "moduleId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "serverName": "module mcp"
                },
                "parameters": {
                    "preText": "",
                    "postText": "",
                    "label_datamodel": "Are there <strong>any changes in the type or volume of data being shared</strong> as part of this contract?",
                    "buttons_datamodel": "[{\"label\":\"Yes\",\"value\":\"1\"},{\"label\":\"No\",\"value\":\"2\"}]",
                    "infoBannerDetails": "{{nodes.getitextmessage.result}}"
                }
            },
            "data": {},
            "width": 350,
            "height": 112,
            "selected": false,
            "positionAbsolute": {
                "x": -1763.6251901308842,
                "y": 597.3133429884107
            },
            "dragging": false,
            "variableUpdates": [
                {
                    "fieldName": "thread.supervisor_messages",
                    "operation": "append",
                    "value": "completed step 8 and waiting for user interaction",
                    "role": "tool"
                }
            ]
        },
        {
            "id": "tw115ju",
            "type": "tool",
            "name": "getglobalcode2",
            "description": "Description:\n\n\nReturns:\n- \n\nFriendly Name: Get Global Code",
            "position": {
                "x": -1018.2362791018119,
                "y": 318.7721585107761
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "enabled": true,
                "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913-GetGlobalCode-21",
                "type": "mcp",
                "schema": {
                    "type": "object",
                    "properties": {
                        "event": {
                            "description": "Event to execute DAC policy in server function.",
                            "type": "string"
                        },
                        "data": {
                            "type": "string",
                            "description": "Payload used to execute the function."
                        },
                        "additionalData": {
                            "type": "string",
                            "description": "Any additional data used by the function."
                        }
                    },
                    "required": [
                        "data"
                    ],
                    "condition": "Description:\n\n\nReturns:\n- \n\nFriendly Name: Get Global Code"
                },
                "settings": {
                    "serverId": "572ee3d8-dcd5-4957-8a27-4163f488f913"
                },
                "returnDirect": false,
                "_meta": {
                    "functionId": "bade57a4-cf6a-4437-afc4-457310c40d7a",
                    "type": "ssf-call",
                    "source": "current-module",
                    "moduleId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "serverName": "module mcp"
                },
                "parameters": {
                    "event": "\"\"",
                    "data": "{\"CodeType\": \"ppst-ReasonsForSingleSupplier\"}",
                    "additionalData": "{}"
                }
            },
            "data": {},
            "width": 326,
            "height": 96,
            "selected": false,
            "positionAbsolute": {
                "x": -1017.9249260122249,
                "y": 318.7721585107761
            },
            "dragging": false,
            "variableUpdates": [
                {
                    "fieldName": "thread.supervisor_messages",
                    "operation": "append",
                    "value": "{{nodeOutput.result}}",
                    "role": "tool"
                }
            ]
        },
        {
            "id": "9y3mobw",
            "type": "tool",
            "name": "labelmultiselectsuppliercontractextension",
            "description": "Description:\nThis view is responsible for showing multi-selectable options that the user can select and proceed with.\n\nOutputs:\n- Returns an object containing:\n  - `RenderingId` (string): The unique identifier of the rendered template. Must be used in final response when referencing this template e.g. [partial_view: RenderingId]\n  - `ContentType` (string): Specifies what type of template this is (e.g. `partial_view`).\n  - `Template` (string): A string representing the UI View Template.\n  - `TemplateDescription` (string): A short description of what the template will present to the user.\n\nNotes:\nThis view is responsible for showing multi-selectable options that the user can select and proceed with.",
            "position": {
                "x": -580.6618735912274,
                "y": 310.7721585107761
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "enabled": true,
                "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913-labelmultiselectsuppliercontractextension-95",
                "type": "mcp",
                "schema": {
                    "type": "object",
                    "properties": {
                        "preText": {
                            "description": "Text message to be rendered before the content of the partial view",
                            "type": "string"
                        },
                        "postText": {
                            "description": "Text message to be rendered after the content of the partial view",
                            "type": "string"
                        },
                        "multiselect": {
                            "description": "Description:\n**Use this override to set initial data for the datamodel - \"multiselect\" and value must be a valid json. Value should have array of multiselectObj.  Example value of this override is,   ``` [{ multiselectObj: {} }] ```\n\nNotes:\n**Use this override to set initial data for the datamodel - \"multiselect\" and value must be a valid json. Value should have array of multiselectObj.  Example value of this override is,   ``` [{ multiselectObj: {} }] ```",
                            "type": "string"
                        },
                        "contextMessageForMultiselect": {
                            "description": "Description:\n**Set the value of `contextMessageForMultiselect` with `\"Proceed with these selected options\"`.\n\nNotes:\n**Set the value of `contextMessageForMultiselect` with `\"Proceed with these selected options\"`.",
                            "type": "string"
                        },
                        "label_multiselect": {
                            "description": "Description:\n**This datamodel (`label_multiselect` ) will be used to show label on top of multiselect component. Data type will be valid html string.\n\nNotes:\n**This datamodel (`label_multiselect` ) will be used to show label on top of multiselect component. Data type will be valid html string.",
                            "type": "string"
                        }
                    },
                    "condition": "Description:\nThis view is responsible for showing multi-selectable options that the user can select and proceed with.\n\nOutputs:\n- Returns an object containing:\n  - `RenderingId` (string): The unique identifier of the rendered template. Must be used in final response when referencing this template e.g. [partial_view: RenderingId]\n  - `ContentType` (string): Specifies what type of template this is (e.g. `partial_view`).\n  - `Template` (string): A string representing the UI View Template.\n  - `TemplateDescription` (string): A short description of what the template will present to the user.\n\nNotes:\nThis view is responsible for showing multi-selectable options that the user can select and proceed with."
                },
                "settings": {
                    "serverId": "572ee3d8-dcd5-4957-8a27-4163f488f913"
                },
                "returnDirect": false,
                "_meta": {
                    "uiView": "{\"RefId\":null,\"ViewUniqueId\":\"6bd467cf-3a96-4480-921c-067852ac3e1f\",\"Version\":[0,0],\"Type\":\"partialView\",\"Name\":\"label_multiselect_supplier_contract_extension\",\"Icon\":null,\"Channel\":\"auto\",\"Description\":\"This view is responsible for showing multi-selectable options that the user can select and proceed with.\",\"Instruction\":\"This view is responsible for showing multi-selectable options that the user can select and proceed with.\",\"AppId\":null,\"ModuleId\":null,\"EnableContextSharing\":true,\"Overrides\":{\"multiselect\":{\"Type\":\"data\",\"OverrideId\":\"multiselect\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"multiselect\",\"Description\":\"**Use this override to set initial data for the datamodel - \\u0022multiselect\\u0022 and value must be a valid json. Value should have array of multiselectObj.  Example value of this override is,   \\u0060\\u0060\\u0060 [{ multiselectObj: {} }] \\u0060\\u0060\\u0060\",\"Instruction\":\"**Use this override to set initial data for the datamodel - \\u0022multiselect\\u0022 and value must be a valid json. Value should have array of multiselectObj.  Example value of this override is,   \\u0060\\u0060\\u0060 [{ multiselectObj: {} }] \\u0060\\u0060\\u0060\",\"Value\":null,\"DataType\":\"array\",\"Source\":\"static\"},\"contextMessageForMultiselect\":{\"Type\":\"data\",\"OverrideId\":\"contextMessageForMultiselect\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"contextMessageForMultiselect\",\"Description\":\"**Set the value of \\u0060contextMessageForMultiselect\\u0060 with \\u0060\\u0022Proceed with these selected options\\u0022\\u0060.\",\"Instruction\":\"**Set the value of \\u0060contextMessageForMultiselect\\u0060 with \\u0060\\u0022Proceed with these selected options\\u0022\\u0060.\",\"Value\":null,\"DataType\":\"string\",\"Source\":\"static\"},\"label_multiselect\":{\"Type\":\"data\",\"OverrideId\":\"label_multiselect\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"label_multiselect\",\"Description\":\"**This datamodel (\\u0060label_multiselect\\u0060 ) will be used to show label on top of multiselect component. Data type will be valid html string.\",\"Instruction\":\"**This datamodel (\\u0060label_multiselect\\u0060 ) will be used to show label on top of multiselect component. Data type will be valid html string.\",\"Value\":null,\"DataType\":\"string\",\"Source\":\"static\"}}}",
                    "type": "partial-view",
                    "source": "current-module",
                    "moduleId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "serverName": "module mcp"
                },
                "parameters": {
                    "preText": "",
                    "postText": "",
                    "multiselect": "{\"multiselectObj\": []}",
                    "contextMessageForMultiselect": "\"Proceed with these selected options\"",
                    "label_multiselect": "Please select the reason(s) for continuing with the current supplier as part of this contract extension (select all that apply):"
                }
            },
            "data": {},
            "width": 350,
            "height": 112,
            "selected": false,
            "positionAbsolute": {
                "x": -580.6618735912274,
                "y": 313.2420765769829
            },
            "dragging": false,
            "variableUpdates": [
                {
                    "fieldName": "thread.supervisor_messages",
                    "operation": "append",
                    "value": "completed step 10 and waiting for user interaction",
                    "role": "tool"
                }
            ]
        },
        {
            "id": "mqwhoby",
            "type": "tool",
            "name": "labelandbuttons3",
            "description": "Description:\nThis partial view is responsible for rendering the label and buttons/options.\n\nOutputs:\n- Returns an object containing:\n  - `RenderingId` (string): The unique identifier of the rendered template. Must be used in final response when referencing this template e.g. [partial_view: RenderingId]\n  - `ContentType` (string): Specifies what type of template this is (e.g. `partial_view`).\n  - `Template` (string): A string representing the UI View Template.\n  - `TemplateDescription` (string): A short description of what the template will present to the user.\n\nNotes:\nThis partial view is responsible for rendering the label and buttons/options.",
            "position": {
                "x": -594.9473981868352,
                "y": 468.0256289188867
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "enabled": true,
                "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913-labelandbuttons-61",
                "type": "mcp",
                "schema": {
                    "type": "object",
                    "properties": {
                        "preText": {
                            "description": "Text message to be rendered before the content of the partial view",
                            "type": "string"
                        },
                        "postText": {
                            "description": "Text message to be rendered after the content of the partial view",
                            "type": "string"
                        },
                        "label_datamodel": {
                            "description": "Description:\n**If data is not a valid html string then convert the value to string.  **Use `label_datamodel` override to pass data to form label.\n\nNotes:\n**If data is not a valid html string then convert the value to string.  **Use `label_datamodel` override to pass data to form label.",
                            "type": "string"
                        },
                        "buttons_datamodel": {
                            "description": "Description:\n\n\nNotes:\n",
                            "type": "string"
                        }
                    },
                    "condition": "Description:\nThis partial view is responsible for rendering the label and buttons/options.\n\nOutputs:\n- Returns an object containing:\n  - `RenderingId` (string): The unique identifier of the rendered template. Must be used in final response when referencing this template e.g. [partial_view: RenderingId]\n  - `ContentType` (string): Specifies what type of template this is (e.g. `partial_view`).\n  - `Template` (string): A string representing the UI View Template.\n  - `TemplateDescription` (string): A short description of what the template will present to the user.\n\nNotes:\nThis partial view is responsible for rendering the label and buttons/options."
                },
                "settings": {
                    "serverId": "572ee3d8-dcd5-4957-8a27-4163f488f913"
                },
                "returnDirect": false,
                "_meta": {
                    "uiView": "{\"RefId\":null,\"ViewUniqueId\":\"e1a380cd-75d0-4534-ac80-aaa5301718ee\",\"Version\":[1,0],\"Type\":\"partialView\",\"Name\":\"label_and_buttons\",\"Icon\":null,\"Channel\":\"conversation\",\"Description\":\"This partial view is responsible for rendering the label and buttons/options.\",\"Instruction\":\"This partial view is responsible for rendering the label and buttons/options.\",\"AppId\":null,\"ModuleId\":null,\"EnableContextSharing\":true,\"Overrides\":{\"label_datamodel\":{\"Type\":\"data\",\"OverrideId\":\"label_datamodel\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"label_datamodel\",\"Description\":\"**If data is not a valid html string then convert the value to string.  **Use \\u0060label_datamodel\\u0060 override to pass data to form label.\",\"Instruction\":\"**If data is not a valid html string then convert the value to string.  **Use \\u0060label_datamodel\\u0060 override to pass data to form label.\",\"Value\":null,\"DataType\":\"string\",\"Source\":\"static\"},\"buttons_datamodel\":{\"Type\":\"data\",\"OverrideId\":\"buttons_datamodel\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"buttons_datamodel\",\"Description\":\"\",\"Instruction\":\"\",\"Value\":null,\"DataType\":\"array\",\"Source\":\"static\"}}}",
                    "type": "partial-view",
                    "source": "current-module",
                    "moduleId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "serverName": "module mcp"
                },
                "parameters": {
                    "preText": "",
                    "postText": "",
                    "label_datamodel": "Since you have selected others, please specify your reason in brief.",
                    "buttons_datamodel": "[]"
                }
            },
            "data": {},
            "width": 350,
            "height": 112,
            "selected": false,
            "positionAbsolute": {
                "x": -594.9473981868352,
                "y": 468.0256289188867
            },
            "dragging": false,
            "variableUpdates": [
                {
                    "fieldName": "thread.supervisor_messages",
                    "operation": "append",
                    "value": "completed step 11 and waiting for user interaction",
                    "role": "tool"
                }
            ]
        },
        {
            "id": "4zruq1v",
            "type": "tool",
            "name": "getusercontext",
            "description": "Description:\n\n\nReturns:\n- \n\nFriendly Name: get_user_context",
            "position": {
                "x": -1019.2362791018119,
                "y": 619.1208743958783
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "enabled": true,
                "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913-getusercontext-24",
                "type": "mcp",
                "schema": {
                    "type": "object",
                    "properties": {
                        "event": {
                            "description": "Event to execute DAC policy in server function.",
                            "type": "string"
                        },
                        "data": {
                            "type": "string",
                            "description": "Payload used to execute the function."
                        },
                        "additionalData": {
                            "type": "string",
                            "description": "Any additional data used by the function."
                        }
                    },
                    "required": [
                        "data"
                    ],
                    "condition": "Description:\n\n\nReturns:\n- \n\nFriendly Name: get_user_context"
                },
                "settings": {
                    "serverId": "572ee3d8-dcd5-4957-8a27-4163f488f913"
                },
                "returnDirect": false,
                "_meta": {
                    "functionId": "ff219573-fb12-49be-a8e1-be22b31b950e",
                    "type": "ssf-call",
                    "source": "current-module",
                    "moduleId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "serverName": "module mcp"
                },
                "parameters": {
                    "event": "\"\"",
                    "data": "{}",
                    "additionalData": "{}"
                }
            },
            "data": {},
            "width": 328,
            "height": 96,
            "selected": false,
            "positionAbsolute": {
                "x": -1014.9897503007578,
                "y": 619.1208743958783
            },
            "dragging": false,
            "variableUpdates": [
                {
                    "fieldName": "thread.supervisor_messages",
                    "operation": "append",
                    "value": "{{nodeOutput.result}}",
                    "role": "tool"
                }
            ]
        },
        {
            "id": "v1fs151",
            "type": "tool",
            "name": "labelandbuttons4",
            "description": "Description:\nThis partial view is responsible for rendering the label and buttons/options.\n\nOutputs:\n- Returns an object containing:\n  - `RenderingId` (string): The unique identifier of the rendered template. Must be used in final response when referencing this template e.g. [partial_view: RenderingId]\n  - `ContentType` (string): Specifies what type of template this is (e.g. `partial_view`).\n  - `Template` (string): A string representing the UI View Template.\n  - `TemplateDescription` (string): A short description of what the template will present to the user.\n\nNotes:\nThis partial view is responsible for rendering the label and buttons/options.",
            "position": {
                "x": -988.1796438358937,
                "y": 737.3622382719427
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "enabled": true,
                "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913-labelandbuttons-61",
                "type": "mcp",
                "schema": {
                    "type": "object",
                    "properties": {
                        "preText": {
                            "description": "Text message to be rendered before the content of the partial view",
                            "type": "string"
                        },
                        "postText": {
                            "description": "Text message to be rendered after the content of the partial view",
                            "type": "string"
                        },
                        "label_datamodel": {
                            "description": "Description:\n**If data is not a valid html string then convert the value to string.  **Use `label_datamodel` override to pass data to form label.\n\nNotes:\n**If data is not a valid html string then convert the value to string.  **Use `label_datamodel` override to pass data to form label.",
                            "type": "string"
                        },
                        "buttons_datamodel": {
                            "description": "Description:\n\n\nNotes:\n",
                            "type": "string"
                        }
                    },
                    "condition": "Description:\nThis partial view is responsible for rendering the label and buttons/options.\n\nOutputs:\n- Returns an object containing:\n  - `RenderingId` (string): The unique identifier of the rendered template. Must be used in final response when referencing this template e.g. [partial_view: RenderingId]\n  - `ContentType` (string): Specifies what type of template this is (e.g. `partial_view`).\n  - `Template` (string): A string representing the UI View Template.\n  - `TemplateDescription` (string): A short description of what the template will present to the user.\n\nNotes:\nThis partial view is responsible for rendering the label and buttons/options."
                },
                "settings": {
                    "serverId": "572ee3d8-dcd5-4957-8a27-4163f488f913"
                },
                "returnDirect": false,
                "_meta": {
                    "uiView": "{\"RefId\":null,\"ViewUniqueId\":\"e1a380cd-75d0-4534-ac80-aaa5301718ee\",\"Version\":[1,0],\"Type\":\"partialView\",\"Name\":\"label_and_buttons\",\"Icon\":null,\"Channel\":\"conversation\",\"Description\":\"This partial view is responsible for rendering the label and buttons/options.\",\"Instruction\":\"This partial view is responsible for rendering the label and buttons/options.\",\"AppId\":null,\"ModuleId\":null,\"EnableContextSharing\":true,\"Overrides\":{\"label_datamodel\":{\"Type\":\"data\",\"OverrideId\":\"label_datamodel\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"label_datamodel\",\"Description\":\"**If data is not a valid html string then convert the value to string.  **Use \\u0060label_datamodel\\u0060 override to pass data to form label.\",\"Instruction\":\"**If data is not a valid html string then convert the value to string.  **Use \\u0060label_datamodel\\u0060 override to pass data to form label.\",\"Value\":null,\"DataType\":\"string\",\"Source\":\"static\"},\"buttons_datamodel\":{\"Type\":\"data\",\"OverrideId\":\"buttons_datamodel\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"buttons_datamodel\",\"Description\":\"\",\"Instruction\":\"\",\"Value\":null,\"DataType\":\"array\",\"Source\":\"static\"}}}",
                    "type": "partial-view",
                    "source": "current-module",
                    "moduleId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "serverName": "module mcp"
                },
                "parameters": {
                    "preText": "",
                    "postText": "",
                    "label_datamodel": "Has your <strong>budget been approved</strong> by your cost center manager?",
                    "buttons_datamodel": "[{\"label\":\"Draft - Not Yet Submitted\",\"value\":\"1\",\"name\":\"Draft - Not Yet Submitted\",\"code\":\"1\"},{\"label\":\"Submitted - Awaiting Approval\",\"value\":\"2\",\"name\":\"Submitted - Awaiting Approval\",\"code\":\"2\"},{\"label\":\"Approved\",\"value\":\"3\",\"name\":\"Approved\",\"code\":\"3\"},{\"label\": \"Approved with Conditions\",\"value\":\"4\",\"name\":\"Approved with Conditions\",\"code\":\"4\"},{\"label\":\"Budget Not Approved\",\"value\":\"5\",\"name\":\"Budget Not Approved\",\"code\":\"5\"}]"
                }
            },
            "data": {},
            "width": 350,
            "height": 112,
            "selected": false,
            "positionAbsolute": {
                "x": -988.1796438358937,
                "y": 737.3622382719427
            },
            "dragging": false,
            "variableUpdates": [
                {
                    "fieldName": "thread.supervisor_messages",
                    "operation": "append",
                    "value": "completed step 13 and waiting for user interaction",
                    "role": "tool"
                }
            ]
        },
        {
            "id": "jbfi3ef",
            "type": "tool",
            "name": "labelandbuttons5",
            "description": "Description:\nThis partial view is responsible for rendering the label and buttons/options.\n\nOutputs:\n- Returns an object containing:\n  - `RenderingId` (string): The unique identifier of the rendered template. Must be used in final response when referencing this template e.g. [partial_view: RenderingId]\n  - `ContentType` (string): Specifies what type of template this is (e.g. `partial_view`).\n  - `Template` (string): A string representing the UI View Template.\n  - `TemplateDescription` (string): A short description of what the template will present to the user.\n\nNotes:\nThis partial view is responsible for rendering the label and buttons/options.",
            "position": {
                "x": -1988.580585473319,
                "y": 1190.5611425781879
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "enabled": true,
                "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913-labelandbuttons-61",
                "type": "mcp",
                "schema": {
                    "type": "object",
                    "properties": {
                        "preText": {
                            "description": "Text message to be rendered before the content of the partial view",
                            "type": "string"
                        },
                        "postText": {
                            "description": "Text message to be rendered after the content of the partial view",
                            "type": "string"
                        },
                        "label_datamodel": {
                            "description": "Description:\n**If data is not a valid html string then convert the value to string.  **Use `label_datamodel` override to pass data to form label.\n\nNotes:\n**If data is not a valid html string then convert the value to string.  **Use `label_datamodel` override to pass data to form label.",
                            "type": "string"
                        },
                        "buttons_datamodel": {
                            "description": "Description:\n\n\nNotes:\n",
                            "type": "string"
                        }
                    },
                    "condition": "Description:\nThis partial view is responsible for rendering the label and buttons/options.\n\nOutputs:\n- Returns an object containing:\n  - `RenderingId` (string): The unique identifier of the rendered template. Must be used in final response when referencing this template e.g. [partial_view: RenderingId]\n  - `ContentType` (string): Specifies what type of template this is (e.g. `partial_view`).\n  - `Template` (string): A string representing the UI View Template.\n  - `TemplateDescription` (string): A short description of what the template will present to the user.\n\nNotes:\nThis partial view is responsible for rendering the label and buttons/options."
                },
                "settings": {
                    "serverId": "572ee3d8-dcd5-4957-8a27-4163f488f913"
                },
                "returnDirect": false,
                "_meta": {
                    "uiView": "{\"RefId\":null,\"ViewUniqueId\":\"e1a380cd-75d0-4534-ac80-aaa5301718ee\",\"Version\":[1,0],\"Type\":\"partialView\",\"Name\":\"label_and_buttons\",\"Icon\":null,\"Channel\":\"conversation\",\"Description\":\"This partial view is responsible for rendering the label and buttons/options.\",\"Instruction\":\"This partial view is responsible for rendering the label and buttons/options.\",\"AppId\":null,\"ModuleId\":null,\"EnableContextSharing\":true,\"Overrides\":{\"label_datamodel\":{\"Type\":\"data\",\"OverrideId\":\"label_datamodel\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"label_datamodel\",\"Description\":\"**If data is not a valid html string then convert the value to string.  **Use \\u0060label_datamodel\\u0060 override to pass data to form label.\",\"Instruction\":\"**If data is not a valid html string then convert the value to string.  **Use \\u0060label_datamodel\\u0060 override to pass data to form label.\",\"Value\":null,\"DataType\":\"string\",\"Source\":\"static\"},\"buttons_datamodel\":{\"Type\":\"data\",\"OverrideId\":\"buttons_datamodel\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"buttons_datamodel\",\"Description\":\"\",\"Instruction\":\"\",\"Value\":null,\"DataType\":\"array\",\"Source\":\"static\"}}}",
                    "type": "partial-view",
                    "source": "current-module",
                    "moduleId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "serverName": "module mcp"
                },
                "parameters": {
                    "preText": "",
                    "postText": "",
                    "label_datamodel": "{{nodes.supervisor.toolResults.summary_display.summary_content}}",
                    "buttons_datamodel": "[{\"label\": \"Create Request\", \"value\": \"Create Request\"}]"
                }
            },
            "data": {},
            "width": 350,
            "height": 112,
            "selected": false,
            "positionAbsolute": {
                "x": -1988.580585473319,
                "y": 1190.5611425781879
            },
            "dragging": false,
            "variableUpdates": [
                {
                    "fieldName": "thread.supervisor_messages",
                    "operation": "append",
                    "value": "completed step 14 and waiting for user interaction",
                    "role": "tool"
                }
            ]
        },
        {
            "id": "cfk4uyh",
            "type": "tool",
            "name": "currencybudget1",
            "description": "Description:\nshow\n\nOutputs:\n- Returns an object containing:\n  - `RenderingId` (string): The unique identifier of the rendered template. Must be used in final response when referencing this template e.g. [partial_view: RenderingId]\n  - `ContentType` (string): Specifies what type of template this is (e.g. `partial_view`).\n  - `Template` (string): A string representing the UI View Template.\n  - `TemplateDescription` (string): A short description of what the template will present to the user.\n\nNotes:\nThis partial view is to take user input for currency and budget.",
            "position": {
                "x": -563.799459500224,
                "y": 611.1208743958783
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "enabled": true,
                "toolId": "mcp-c6e2f927-b734-440c-b9ba-03927ad5e9c3-currencyBudget",
                "type": "mcp",
                "schema": {
                    "type": "object",
                    "properties": {
                        "preText": {
                            "description": "Text message to be rendered before the content of the partial view",
                            "type": "string"
                        },
                        "postText": {
                            "description": "Text message to be rendered after the content of the partial view",
                            "type": "string"
                        },
                        "currencyBudget": {
                            "description": "Description:\n\n\nNotes:\n",
                            "type": "string"
                        },
                        "label_datamodel": {
                            "description": "Description:\n\n\nNotes:\n",
                            "type": "string"
                        },
                        "infoBannerDetails": {
                            "description": "Description:\n\n\nNotes:\n",
                            "type": "string"
                        }
                    },
                    "condition": "Description:\nshow\n\nOutputs:\n- Returns an object containing:\n  - `RenderingId` (string): The unique identifier of the rendered template. Must be used in final response when referencing this template e.g. [partial_view: RenderingId]\n  - `ContentType` (string): Specifies what type of template this is (e.g. `partial_view`).\n  - `Template` (string): A string representing the UI View Template.\n  - `TemplateDescription` (string): A short description of what the template will present to the user.\n\nNotes:\nThis partial view is to take user input for currency and budget."
                },
                "settings": {
                    "serverId": "c6e2f927-b734-440c-b9ba-03927ad5e9c3"
                },
                "returnDirect": false,
                "_meta": {
                    "uiView": "{\"RefId\":null,\"ViewUniqueId\":\"73fc9e0e-7df0-4444-89a6-243d6dda8c53\",\"Version\":[0,0],\"Type\":\"partialView\",\"Name\":\"currencyBudget\",\"Icon\":null,\"Channel\":\"conversation\",\"Description\":\"show\",\"Instruction\":\"This partial view is to take user input for currency and budget.\",\"AppId\":null,\"ModuleId\":null,\"EnableContextSharing\":true,\"Overrides\":{\"currencyBudget\":{\"Type\":\"data\",\"OverrideId\":\"currencyBudget\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"currencyBudget\",\"Description\":\"\",\"Instruction\":\"\",\"Value\":null,\"DataType\":\"object\",\"Source\":\"static\"},\"label_datamodel\":{\"Type\":\"data\",\"OverrideId\":\"label_datamodel\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"label_datamodel\",\"Description\":\"\",\"Instruction\":\"\",\"Value\":null,\"DataType\":\"string\",\"Source\":\"static\"},\"infoBannerDetails\":{\"Type\":\"data\",\"OverrideId\":\"infoBannerDetails\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"infoBannerDetails\",\"Description\":\"\",\"Instruction\":\"\",\"Value\":null,\"DataType\":\"object\",\"Source\":\"static\"}}}",
                    "type": "partial-view"
                },
                "parameters": {
                    "preText": "",
                    "postText": "",
                    "currencyBudget": "{\"budget\":\"\",\"currency\":{\"name\": \"{{nodes.getusercontext.result.userCurrencyCode}}\",\"code\": \"{{nodes.getusercontext.result.userCurrencyCode}}\"}",
                    "label_datamodel": "Please enter <strong>Estimated Contract Value</strong>",
                    "infoBannerDetails": "{\"bannerId\": \"intake-label-info-banner\",\"message\": \"Enter the estimated fair price for this item or service based on market rates, past purchases, or supplier quotes. This helps us identify cost-saving opportunities.\"}"
                }
            },
            "data": {},
            "width": 350,
            "height": 112,
            "selected": false,
            "positionAbsolute": {
                "x": -563.799459500224,
                "y": 610.7822987922787
            },
            "dragging": false,
            "variableUpdates": [
                {
                    "fieldName": "thread.supervisor_messages",
                    "operation": "append",
                    "value": "completed step 12 and waiting for user interaction",
                    "role": "tool"
                }
            ]
        },
        {
            "id": "diftyrq",
            "type": "tool",
            "name": "projectrequesttool",
            "description": "Description:\n\n\nReturns:\n- \n\nFriendly Name: Project_Request_Tool",
            "position": {
                "x": -1188.6673418682465,
                "y": 1212.4629115104162
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "enabled": true,
                "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913-ProjectRequestTool-37",
                "type": "mcp",
                "schema": {
                    "type": "object",
                    "properties": {
                        "event": {
                            "description": "Event to execute DAC policy in server function.",
                            "type": "string"
                        },
                        "data": {
                            "type": "string",
                            "description": "Payload used to execute the function."
                        },
                        "additionalData": {
                            "type": "string",
                            "description": "Any additional data used by the function."
                        }
                    },
                    "required": [
                        "data"
                    ],
                    "condition": "Description:\n\n\nReturns:\n- \n\nFriendly Name: Project_Request_Tool"
                },
                "settings": {
                    "serverId": "572ee3d8-dcd5-4957-8a27-4163f488f913"
                },
                "returnDirect": false,
                "_meta": {
                    "functionId": "05afc7e4-3c57-47d1-ba51-44633c06abbb",
                    "type": "ssf-call",
                    "source": "current-module",
                    "moduleId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "serverName": "module mcp"
                },
                "parameters": {
                    "event": "\"\"",
                    "data": "{{nodes.supervisor.toolResults.create_project_request.data}}",
                    "additionalData": "{}"
                }
            },
            "data": {},
            "width": 350,
            "height": 96,
            "selected": false,
            "positionAbsolute": {
                "x": -1188.6673418682465,
                "y": 1209.7050532421863
            },
            "dragging": false,
            "variableUpdates": [
                {
                    "fieldName": "thread.supervisor_messages",
                    "operation": "append",
                    "value": "{{nodeOutput.result}}",
                    "role": "tool"
                }
            ]
        },
        {
            "id": "iea8kay",
            "type": "tool",
            "name": "prfcreaterequestformpv",
            "description": "Description:\nCreate Project Request\n\nOutputs:\n- Returns an object containing:\n  - `RenderingId` (string): The unique identifier of the rendered template. Must be used in final response when referencing this template e.g. [partial_view: RenderingId]\n  - `ContentType` (string): Specifies what type of template this is (e.g. `partial_view`).\n  - `Template` (string): A string representing the UI View Template.\n  - `TemplateDescription` (string): A short description of what the template will present to the user.\n\nNotes:\nsave value of generated overrides 'projectRequestOverrides' to ${sendForValidationPV}",
            "position": {
                "x": -456.44365850382803,
                "y": 1204.4629115104162
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "enabled": true,
                "toolId": "mcp-62e995f8-9aed-4aab-9621-45c817019856-prfcreateRequestFormpv",
                "type": "mcp",
                "schema": {
                    "type": "object",
                    "properties": {
                        "preText": {
                            "description": "Text message to be rendered before the content of the partial view",
                            "type": "string"
                        },
                        "postText": {
                            "description": "Text message to be rendered after the content of the partial view",
                            "type": "string"
                        },
                        "projectRequestOverrides": {
                            "description": "Description:\nThe value of this override can be user specific like ```json {\"documentCode\":\"&lt;documentCode&gt;\"}```\n\nNotes:\nThe value of this override can be user specific like ```json {\"documentCode\":\"&lt;documentCode&gt;\"}```",
                            "type": "string"
                        }
                    },
                    "condition": "Description:\nCreate Project Request\n\nOutputs:\n- Returns an object containing:\n  - `RenderingId` (string): The unique identifier of the rendered template. Must be used in final response when referencing this template e.g. [partial_view: RenderingId]\n  - `ContentType` (string): Specifies what type of template this is (e.g. `partial_view`).\n  - `Template` (string): A string representing the UI View Template.\n  - `TemplateDescription` (string): A short description of what the template will present to the user.\n\nNotes:\nsave value of generated overrides 'projectRequestOverrides' to ${sendForValidationPV}"
                },
                "settings": {
                    "serverId": "62e995f8-9aed-4aab-9621-45c817019856"
                },
                "returnDirect": false,
                "_meta": {
                    "uiView": "{\"RefId\":null,\"ViewUniqueId\":\"d2801162-5faa-4e94-a6ed-39b9b4e3453a\",\"Version\":[0,0],\"Type\":\"partialSection\",\"Name\":\"prf_createRequestForm_pv\",\"Icon\":null,\"Channel\":\"conversation\",\"Description\":\"Create Project Request\",\"Instruction\":\"save value of generated overrides \\u0027projectRequestOverrides\\u0027 to ${sendForValidationPV}\",\"AppId\":null,\"ModuleId\":null,\"EnableContextSharing\":true,\"Overrides\":{\"projectRequestOverrides\":{\"Type\":\"data\",\"OverrideId\":\"projectRequestOverrides\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"projectRequestDM\",\"Description\":\"The value of this override can be user specific like \\u0060\\u0060\\u0060json {\\u0022documentCode\\u0022:\\u0022\\u0026lt;documentCode\\u0026gt;\\u0022}\\u0060\\u0060\\u0060\",\"Instruction\":\"The value of this override can be user specific like \\u0060\\u0060\\u0060json {\\u0022documentCode\\u0022:\\u0022\\u0026lt;documentCode\\u0026gt;\\u0022}\\u0060\\u0060\\u0060\",\"Value\":null,\"DataType\":\"object\",\"Source\":\"static\"}}}",
                    "type": "partial-view"
                },
                "parameters": {
                    "preText": "",
                    "postText": "",
                    "projectRequestOverrides": "{{nodes.projectrequesttool.result}}"
                }
            },
            "data": {},
            "width": 350,
            "height": 112,
            "selected": false,
            "positionAbsolute": {
                "x": -456.44365850382803,
                "y": 1205.915163630044
            },
            "dragging": false,
            "variableUpdates": [
                {
                    "fieldName": "thread.supervisor_messages",
                    "operation": "append",
                    "value": "completed step 15 and waiting for user interaction",
                    "role": "tool"
                }
            ]
        },
        {
            "id": "e1lu96e",
            "type": "tool",
            "name": "getitextmessage1",
            "description": "Description:\n\n\nReturns:\n- \n\nFriendly Name: get_iTextMessage",
            "position": {
                "x": -1896.511766837529,
                "y": 860.9715779744346
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "enabled": true,
                "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913-getiTextMessage-26",
                "type": "mcp",
                "schema": {
                    "type": "object",
                    "properties": {
                        "event": {
                            "description": "Event to execute DAC policy in server function.",
                            "type": "string"
                        },
                        "data": {
                            "type": "string",
                            "description": "Payload used to execute the function."
                        },
                        "additionalData": {
                            "type": "string",
                            "description": "Any additional data used by the function."
                        }
                    },
                    "required": [
                        "data"
                    ],
                    "condition": "Description:\n\n\nReturns:\n- \n\nFriendly Name: get_iTextMessage"
                },
                "settings": {
                    "serverId": "572ee3d8-dcd5-4957-8a27-4163f488f913"
                },
                "returnDirect": false,
                "_meta": {
                    "functionId": "8481170a-c5e4-450a-89a9-f74a2e86f77d",
                    "type": "ssf-call",
                    "source": "current-module",
                    "moduleId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "serverName": "module mcp"
                },
                "parameters": {
                    "event": "\"\"",
                    "data": "{\"agentName\": \"Contract Extension Assistant\",\"questionKey\": \"Has the contract extension been discussed with the supplier? If yes please include a summary of the discussion.\"}",
                    "additionalData": "{}"
                }
            },
            "data": {},
            "width": 332,
            "height": 96,
            "selected": false,
            "positionAbsolute": {
                "x": -1896.511766837529,
                "y": 858.3813499934907
            },
            "dragging": false,
            "variableUpdates": [
                {
                    "fieldName": "thread.supervisor_messages",
                    "operation": "append",
                    "value": "{{nodeOutput.result}}",
                    "role": "tool"
                }
            ]
        },
        {
            "id": "br8ahe8",
            "type": "tool",
            "name": "labelandbuttonslink1",
            "description": "Description:\nlabel_and_buttons_link\n\nOutputs:\n- Returns an object containing:\n  - `RenderingId` (string): The unique identifier of the rendered template. Must be used in final response when referencing this template e.g. [partial_view: RenderingId]\n  - `ContentType` (string): Specifies what type of template this is (e.g. `partial_view`).\n  - `Template` (string): A string representing the UI View Template.\n  - `TemplateDescription` (string): A short description of what the template will present to the user.\n\nNotes:\nlabel_and_buttons_link",
            "position": {
                "x": -1475.5731983253272,
                "y": 852.9715779744346
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "enabled": true,
                "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913-labelandbuttonslink-98",
                "type": "mcp",
                "schema": {
                    "type": "object",
                    "properties": {
                        "preText": {
                            "description": "Text message to be rendered before the content of the partial view",
                            "type": "string"
                        },
                        "postText": {
                            "description": "Text message to be rendered after the content of the partial view",
                            "type": "string"
                        },
                        "label_datamodel": {
                            "description": "Description:\n\n\nNotes:\n",
                            "type": "string"
                        },
                        "buttons_datamodel": {
                            "description": "Description:\n\n\nNotes:\n",
                            "type": "string"
                        },
                        "infoBannerDetails": {
                            "description": "Description:\n\n\nNotes:\n",
                            "type": "string"
                        }
                    },
                    "condition": "Description:\nlabel_and_buttons_link\n\nOutputs:\n- Returns an object containing:\n  - `RenderingId` (string): The unique identifier of the rendered template. Must be used in final response when referencing this template e.g. [partial_view: RenderingId]\n  - `ContentType` (string): Specifies what type of template this is (e.g. `partial_view`).\n  - `Template` (string): A string representing the UI View Template.\n  - `TemplateDescription` (string): A short description of what the template will present to the user.\n\nNotes:\nlabel_and_buttons_link"
                },
                "settings": {
                    "serverId": "572ee3d8-dcd5-4957-8a27-4163f488f913"
                },
                "returnDirect": false,
                "_meta": {
                    "uiView": "{\"RefId\":null,\"ViewUniqueId\":\"4677dd6a-caa2-4574-b9ad-cd2e97fc01f4\",\"Version\":[0,0],\"Type\":\"partialView\",\"Name\":\"label_and_buttons_link\",\"Icon\":null,\"Channel\":\"conversation\",\"Description\":\"label_and_buttons_link\",\"Instruction\":\"label_and_buttons_link\",\"AppId\":null,\"ModuleId\":null,\"EnableContextSharing\":true,\"Overrides\":{\"label_datamodel\":{\"Type\":\"data\",\"OverrideId\":\"label_datamodel\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"label_datamodel\",\"Description\":\"\",\"Instruction\":\"\",\"Value\":null,\"DataType\":\"string\",\"Source\":\"static\"},\"buttons_datamodel\":{\"Type\":\"data\",\"OverrideId\":\"buttons_datamodel\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"buttons_datamodel\",\"Description\":\"\",\"Instruction\":\"\",\"Value\":null,\"DataType\":\"array\",\"Source\":\"static\"},\"infoBannerDetails\":{\"Type\":\"data\",\"OverrideId\":\"infoBannerDetails\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"infoBannerDetails\",\"Description\":\"\",\"Instruction\":\"\",\"Value\":null,\"DataType\":\"object\",\"Source\":\"static\"}}}",
                    "type": "partial-view",
                    "source": "current-module",
                    "moduleId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "serverName": "module mcp"
                },
                "parameters": {
                    "preText": "",
                    "postText": "",
                    "label_datamodel": "Have the <strong>proposed change(s) been discussed with the supplier?</strong> If yes, please provide a summary of the discussion?",
                    "buttons_datamodel": "[]",
                    "infoBannerDetails": "{{nodes.getitextmessage1.result}}"
                }
            },
            "data": {},
            "width": 350,
            "height": 112,
            "selected": false,
            "positionAbsolute": {
                "x": -1475.5731983253272,
                "y": 855.7911220125468
            },
            "dragging": false,
            "variableUpdates": [
                {
                    "fieldName": "thread.supervisor_messages",
                    "operation": "append",
                    "value": "completed step 7 and waiting for user interaction",
                    "role": "tool"
                }
            ]
        },
        {
            "id": "o0zfh14",
            "type": "rule",
            "name": "rule_0",
            "description": "",
            "position": {
                "x": -1696.1233065041238,
                "y": 5.227860872436423
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "rules": [
                    {
                        "ruleId": "r-um67xqal",
                        "enable": true,
                        "conditions": [
                            {
                                "field": "{{nodes.extensiondatecheck.result}}",
                                "operator": "contains",
                                "value": "\"Not Allowed\""
                            },
                            {
                                "field": "{{nodes.extensiondatecheck.result.action}}",
                                "operator": "contains",
                                "value": "Not Allowed"
                            },
                            {
                                "field": "{{nodes.extensiondatecheck.result}}",
                                "operator": "equals",
                                "value": "{message: \"\" action: \"Not Allowed\"}"
                            },
                            {
                                "field": "{{nodes.extensiondatecheck.result}}",
                                "operator": "contains",
                                "value": "{           \"message\": \"\",           \"action\": \"Not Allowed\"         }"
                            }
                        ],
                        "logicType": "OR"
                    },
                    {
                        "ruleId": "r-else",
                        "enable": true,
                        "conditions": [],
                        "logicType": "default"
                    }
                ]
            },
            "data": {},
            "width": 272,
            "height": 170,
            "selected": false,
            "positionAbsolute": {
                "x": -1696.1233065041238,
                "y": 8.162127353442244
            },
            "dragging": false
        },
        {
            "id": "9ipnzlj",
            "type": "tool",
            "name": "getitextmessage2",
            "description": "Description:\n\n\nReturns:\n- \n\nFriendly Name: get_iTextMessage",
            "position": {
                "x": -2209.013757903722,
                "y": 730.6292608157996
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "enabled": true,
                "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913-getiTextMessage-2",
                "type": "mcp",
                "schema": {
                    "type": "object",
                    "properties": {
                        "event": {
                            "description": "Event to execute DAC policy in server function.",
                            "type": "string"
                        },
                        "data": {
                            "type": "string",
                            "description": "Payload used to execute the function."
                        },
                        "additionalData": {
                            "type": "string",
                            "description": "Any additional data used by the function."
                        }
                    },
                    "required": [
                        "data"
                    ],
                    "condition": "Description:\n\n\nReturns:\n- \n\nFriendly Name: get_iTextMessage"
                },
                "settings": {
                    "serverId": "572ee3d8-dcd5-4957-8a27-4163f488f913"
                },
                "returnDirect": false,
                "_meta": {
                    "functionId": "8481170a-c5e4-450a-89a9-f74a2e86f77d",
                    "type": "ssf-call",
                    "source": "current-module",
                    "moduleId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "serverName": "module mcp"
                },
                "parameters": {
                    "event": "\"\"",
                    "data": "{\"agentName\": \"Contract Extension Assistant\",\"questionKey\": \"Are there significant changes in products or services offered by the supplier or a new scope of work offered by the other party?\"}",
                    "additionalData": "{}"
                }
            },
            "data": {},
            "width": 332,
            "height": 96,
            "selected": false,
            "positionAbsolute": {
                "x": -2204.810610571147,
                "y": 730.6292608157996
            },
            "dragging": false
        },
        {
            "id": "l7azysc",
            "type": "tool",
            "name": "labelandbuttonslink2",
            "description": "Description:\nlabel_and_buttons_link\n\nOutputs:\n- Returns an object containing:\n  - `RenderingId` (string): The unique identifier of the rendered template. Must be used in final response when referencing this template e.g. [partial_view: RenderingId]\n  - `ContentType` (string): Specifies what type of template this is (e.g. `partial_view`).\n  - `Template` (string): A string representing the UI View Template.\n  - `TemplateDescription` (string): A short description of what the template will present to the user.\n\nNotes:\nlabel_and_buttons_link",
            "position": {
                "x": -1758.4329366727497,
                "y": 730.6292608157996
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "enabled": true,
                "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913-labelandbuttonslink-99",
                "type": "mcp",
                "schema": {
                    "type": "object",
                    "properties": {
                        "preText": {
                            "description": "Text message to be rendered before the content of the partial view",
                            "type": "string"
                        },
                        "postText": {
                            "description": "Text message to be rendered after the content of the partial view",
                            "type": "string"
                        },
                        "label_datamodel": {
                            "description": "Description:\n\n\nNotes:\n",
                            "type": "string"
                        },
                        "buttons_datamodel": {
                            "description": "Description:\n\n\nNotes:\n",
                            "type": "string"
                        },
                        "infoBannerDetails": {
                            "description": "Description:\n\n\nNotes:\n",
                            "type": "string"
                        }
                    },
                    "condition": "Description:\nlabel_and_buttons_link\n\nOutputs:\n- Returns an object containing:\n  - `RenderingId` (string): The unique identifier of the rendered template. Must be used in final response when referencing this template e.g. [partial_view: RenderingId]\n  - `ContentType` (string): Specifies what type of template this is (e.g. `partial_view`).\n  - `Template` (string): A string representing the UI View Template.\n  - `TemplateDescription` (string): A short description of what the template will present to the user.\n\nNotes:\nlabel_and_buttons_link"
                },
                "settings": {
                    "serverId": "572ee3d8-dcd5-4957-8a27-4163f488f913"
                },
                "returnDirect": false,
                "_meta": {
                    "uiView": "{\"RefId\":null,\"ViewUniqueId\":\"4677dd6a-caa2-4574-b9ad-cd2e97fc01f4\",\"Version\":[0,0],\"Type\":\"partialView\",\"Name\":\"label_and_buttons_link\",\"Icon\":null,\"Channel\":\"conversation\",\"Description\":\"label_and_buttons_link\",\"Instruction\":\"label_and_buttons_link\",\"AppId\":null,\"ModuleId\":null,\"EnableContextSharing\":true,\"Overrides\":{\"label_datamodel\":{\"Type\":\"data\",\"OverrideId\":\"label_datamodel\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"label_datamodel\",\"Description\":\"\",\"Instruction\":\"\",\"Value\":null,\"DataType\":\"string\",\"Source\":\"static\"},\"buttons_datamodel\":{\"Type\":\"data\",\"OverrideId\":\"buttons_datamodel\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"buttons_datamodel\",\"Description\":\"\",\"Instruction\":\"\",\"Value\":null,\"DataType\":\"array\",\"Source\":\"static\"},\"infoBannerDetails\":{\"Type\":\"data\",\"OverrideId\":\"infoBannerDetails\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"infoBannerDetails\",\"Description\":\"\",\"Instruction\":\"\",\"Value\":null,\"DataType\":\"object\",\"Source\":\"static\"}}}",
                    "type": "partial-view",
                    "source": "current-module",
                    "moduleId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "serverName": "module mcp"
                },
                "parameters": {
                    "preText": "",
                    "postText": "",
                    "label_datamodel": "Are there <strong>significant changes in products or Services</strong> offered by the other party?",
                    "buttons_datamodel": "[{\"label\":\"Yes\",\"value\":\"1\"},{\"label\":\"No\",\"value\":\"2\"}]",
                    "infoBannerDetails": "{{nodes.getitextmessage2.result}}"
                }
            },
            "data": {},
            "width": 350,
            "height": 112,
            "selected": false,
            "positionAbsolute": {
                "x": -1758.4329366727497,
                "y": 733.2588961583608
            },
            "dragging": false,
            "variableUpdates": [
                {
                    "fieldName": "thread.supervisor_messages",
                    "operation": "append",
                    "value": "completed step 9 and waiting for user interaction",
                    "role": "tool"
                }
            ]
        },
        {
            "id": "51yd29z",
            "type": "variable",
            "name": "variable_0",
            "description": "",
            "position": {
                "x": 1364.678143810892,
                "y": -72.61681886609088
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {},
            "data": {},
            "width": 250,
            "height": 72,
            "selected": false,
            "positionAbsolute": {
                "x": 1364.678143810892,
                "y": -71.31363248828583
            },
            "dragging": false,
            "variableUpdates": [
                {
                    "fieldName": "flow.isPvRendered",
                    "operation": "set",
                    "value": true
                },
                {
                    "fieldName": "thread.messages",
                    "operation": "append",
                    "value": " ",
                    "role": "assistant"
                }
            ]
        },
        {
            "id": "zt8nvsc",
            "type": "variable",
            "name": "variable_1",
            "description": "",
            "position": {
                "x": -918.2362791018119,
                "y": 1.9752957728037615
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {},
            "data": {},
            "width": 250,
            "height": 72,
            "selected": false,
            "positionAbsolute": {
                "x": -920.3534165392948,
                "y": 1.9752957728037615
            },
            "dragging": false,
            "variableUpdates": [
                {
                    "fieldName": "flow.datemessage",
                    "operation": "set",
                    "value": "{{nodes.supervisor.toolResults.contract_extension_datepicker.date_label}}"
                }
            ]
        },
        {
            "id": "zlo9vnl",
            "type": "llm",
            "name": "dateformatter_llm",
            "description": "Formats contract data with user's preferred date format",
            "position": {
                "x": -73.56433940426088,
                "y": -209.89139009461775
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "model": {
                    "code": "gpt-4.1",
                    "name": "OpenAI GPT-4.1"
                },
                "promptTemplate": [
                    {
                        "id": "c0b25f94-09dd-4116-9a5f-760b3b6a8468",
                        "role": "system",
                        "text": "You are a data formatter. Format the contract data below into HTML with dates in the user's preferred format.\n\nUSER CONTEXT:\n- User's preferred date format is {{flow.userDateFormat}}\n\nINPUT:\n- Contract Number: {{nodes.getcontractbycontractnumber1.result.data.result[0].contractNumber}}\n- Contract Name: {{nodes.getcontractbycontractnumber1.result.data.result[0].contractName}}\n- Contract Type: {{nodes.getcontractbycontractnumber1.result.data.result[0].contractType}}\n- Contract Subtype: {{nodes.getcontractbycontractnumber1.result.data.result[0].contractSubType}}\n- Status: {{nodes.getcontractbycontractnumber1.result.data.result[0].stateName}}\n- Supplier Name: {{nodes.getcontractbycontractnumber1.result.data.result[0].supplierName}}\n- Supplier Partner Code: {{nodes.getcontractbycontractnumber1.result.data.result[0].supplierSourceIdentificationNo}}\n- Owner: {{nodes.getcontractbycontractnumber1.result.data.result[0].owner}}\n- Effective Date: {{nodes.getcontractbycontractnumber1.result.data.result[0].effectiveDate}}\n- Expiry Date: {{nodes.getcontractbycontractnumber1.result.data.result[0].expiryDate}}\n- Is Perpetual: {{nodes.getcontractbycontractnumber1.result.data.result[0].isPerpetual}}\n- Is Auto Renewal: {{nodes.getcontractbycontractnumber1.result.data.result[0].isAutoRenew}}\n\nRULES:\n- First check if contract data exists (Contract Number is not null/empty/undefined)\n- If NO DATA: Set hasData=false, result=\"No contract data found\", formattedExpiryDate=\"N/A\"\n- If DATA EXISTS: Set hasData=true and format the data as follows:\n  - Convert dates from ISO format (e.g., \"2026-05-14T10:13:09.394Z\") to the user's preferred date format\n  - If user's preferred date format is \"DD-MM-YYYY\", output \"14-05-2026\"\n  - If user's preferred date format is \"MM/DD/YYYY\", output \"05/14/2026\"\n  - If user's preferred date format is \"YYYY-MM-DD\", output \"2026-05-14\"\n\nOUTPUT FORMAT (when hasData=true):\nI have found the [ContractNumber] in the system<br>Here's a quick summary:<br><strong>Contract Number:</strong> [value]<br><strong>Contract Name:</strong> [value]<br><strong>Contract Type:</strong> [value]<br><strong>Contract Subtype:</strong> [value]<br><strong>Status:</strong> [value]<br><strong>Supplier Name:</strong> [value]<br><strong>Supplier Partner Code:</strong> [value]<br><strong>Owner:</strong> [value]<br><strong>Effective Date:</strong> [formatted date]<br><strong>Expiry Date:</strong> [formatted date]<br><strong>Is Perpetual:</strong> [value]<br><strong>Is Auto Renewal:</strong> [value]<br>Would you like to go ahead with the extension request?"
                    }
                ],
                "structuredOutput": {
                    "enable": true,
                    "name": "",
                    "description": "",
                    "schema": {
                        "type": "object",
                        "properties": {
                            "result": {
                                "type": "string",
                                "description": "The complete HTML formatted contract summary"
                            },
                            "formattedExpiryDate": {
                                "type": "string",
                                "description": "The expiry date formatted per user preference"
                            },
                            "hasData": {
                                "type": "string",
                                "description": "true if contract data was found and formatted successfully, False if no data or error"
                            }
                        },
                        "required": [
                            "formattedExpiryDate",
                            "result",
                            "hasData"
                        ],
                        "additionalProperties": false
                    }
                }
            },
            "data": {},
            "variableUpdates": [
                {
                    "fieldName": "flow.hasData",
                    "operation": "set",
                    "value": "{{nodeOutput.structuredOutput.hasData}}"
                },
                {
                    "fieldName": "flow.formattedContractSummary",
                    "operation": "set",
                    "value": "{{nodeOutput.structuredOutput.result}}"
                },
                {
                    "fieldName": "flow.formattedExpiryDate",
                    "operation": "set",
                    "value": "{{nodeOutput.structuredOutput.formattedExpiryDate}}"
                }
            ],
            "width": 329,
            "height": 128,
            "selected": false,
            "positionAbsolute": {
                "x": -73.56433940426088,
                "y": -209.89139009461775
            },
            "dragging": false
        },
        {
            "id": "l16cojv",
            "type": "tool",
            "name": "getusercontext1",
            "description": "Description:\n\n\nReturns:\n- \n\nFriendly Name: get_user_context",
            "position": {
                "x": -535.9371660656846,
                "y": -610.7867247331941
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "enabled": true,
                "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913-getusercontext-0",
                "type": "mcp",
                "schema": {
                    "type": "object",
                    "properties": {
                        "event": {
                            "description": "Event to execute DAC policy in server function.",
                            "type": "string"
                        },
                        "data": {
                            "type": "string",
                            "description": "Payload used to execute the function."
                        },
                        "additionalData": {
                            "type": "string",
                            "description": "Any additional data used by the function."
                        }
                    },
                    "required": [
                        "data"
                    ],
                    "condition": "Description:\n\n\nReturns:\n- \n\nFriendly Name: get_user_context"
                },
                "settings": {
                    "serverId": "572ee3d8-dcd5-4957-8a27-4163f488f913"
                },
                "returnDirect": false,
                "_meta": {
                    "functionId": "ff219573-fb12-49be-a8e1-be22b31b950e",
                    "type": "ssf-call",
                    "source": "current-module",
                    "moduleId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "serverName": "module mcp"
                },
                "parameters": {
                    "event": "\"\"",
                    "data": "{}",
                    "additionalData": "{}"
                }
            },
            "data": {},
            "width": 328,
            "height": 96,
            "selected": false,
            "positionAbsolute": {
                "x": -535.9371660656846,
                "y": -610.7867247331941
            },
            "dragging": false,
            "variableUpdates": [
                {
                    "fieldName": "thread.supervisor_messages",
                    "operation": "append",
                    "value": "{{nodeOutput.result}}",
                    "role": "tool"
                },
                {
                    "fieldName": "flow.userDateFormat",
                    "operation": "set",
                    "value": "{{nodeOutput.result.userDateFormat}}"
                }
            ]
        },
        {
            "id": "qesk1hb",
            "type": "output",
            "name": "output_0",
            "description": "",
            "position": {
                "x": 1685.2527024971987,
                "y": -296.33326347598944
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "outputMapping": {
                    "messages": {
                        "type": "string",
                        "value": "{{thread.messages}}"
                    },
                    "selectedAgentID": {
                        "type": "string",
                        "value": "{{runtime.workflowMetaData.workflowId}}"
                    },
                    "selectedAgentName": {
                        "type": "string",
                        "value": "{{runtime.workflowMetaData.agentName}}"
                    },
                    "isPvRendered": {
                        "type": "string",
                        "value": "{{flow.isPvRendered}}"
                    },
                    "agentName": {
                        "type": "string",
                        "value": "{{flow.agentName}}"
                    },
                    "text": {
                        "type": "string",
                        "value": "{{nodes.supervisor.text}}"
                    }
                }
            },
            "data": {},
            "width": 150,
            "height": 72,
            "selected": false,
            "positionAbsolute": {
                "x": 1685.2527024971987,
                "y": -297.65933921712985
            },
            "dragging": false
        },
        {
            "id": "efvgzj6",
            "type": "rule",
            "name": "rule_contract_check",
            "description": "Checks if contract data was found",
            "position": {
                "x": 392.9422923271135,
                "y": -231.39139009461775
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "rules": [
                    {
                        "ruleId": "r-0h9yftx6",
                        "enable": true,
                        "conditions": [
                            {
                                "field": "{{flow.hasData}}",
                                "operator": "equals",
                                "value": false
                            }
                        ],
                        "logicType": "AND"
                    },
                    {
                        "ruleId": "r-else",
                        "enable": true,
                        "conditions": [],
                        "logicType": "default"
                    }
                ]
            },
            "data": {},
            "width": 350,
            "height": 170,
            "selected": false,
            "positionAbsolute": {
                "x": 392.9422923271135,
                "y": -227.298908549935
            },
            "dragging": false
        },
        {
            "id": "ev8ejmx",
            "type": "tool",
            "name": "prfsentforvalidationsuccesspv00171",
            "description": "Description:\nShow this PV on success of send for validation.\n\nNotes:\nShow this PV on success of send for validation.",
            "position": {
                "x": 639.6278229415556,
                "y": 440.22477590080956
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "enabled": true,
                "toolId": "mcp-62e995f8-9aed-4aab-9621-45c817019856-prfsentForValidationSuccesspv0017",
                "type": "mcp",
                "schema": {
                    "type": "object",
                    "properties": {
                        "preText": {
                            "description": "Optional Markdown shown immediately before this view. Use to introduce what it shows/why it matters or give brief instructions. Omit if unnecessary. Must be valid Markdown; UI preserves formatting and spacing.",
                            "type": "string"
                        },
                        "postText": {
                            "description": "Optional Markdown shown immediately after this view. Use for next steps, brief context/interpretation, or a transition to the next section/view. Omit if unnecessary. Must be valid Markdown; UI preserves formatting and spacing.",
                            "type": "string"
                        },
                        "sendForValidationOverrides": {
                            "description": "Description:\nUse agent history and set the value to ovverride 'sendForValidationOverrides' from '${sendForValidationPV}' \n\nNotes:\nUse agent history and set the value to ovverride 'sendForValidationOverrides' from '${sendForValidationPV}' ",
                            "type": "string"
                        }
                    },
                    "condition": "Description:\nShow this PV on success of send for validation.\n\nNotes:\nShow this PV on success of send for validation."
                },
                "settings": {
                    "serverId": "62e995f8-9aed-4aab-9621-45c817019856"
                },
                "returnDirect": false,
                "_meta": {
                    "uiView": "{\"RefId\":null,\"ViewUniqueId\":\"56a8778a-e705-4a1b-acf9-2eafd3029cae\",\"Version\":[0,0],\"Type\":\"partialSection\",\"Name\":\"prf_sentForValidationSuccess_pv-0.0.17\",\"Icon\":null,\"Channel\":\"conversation\",\"Description\":\"Show this PV on success of send for validation.\",\"Instruction\":\"Show this PV on success of send for validation.\",\"AppId\":null,\"ModuleId\":null,\"EnableContextSharing\":true,\"Overrides\":{\"sendForValidationOverrides\":{\"Type\":\"data\",\"OverrideId\":\"sendForValidationOverrides\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"projectrequest\",\"Description\":\"Use agent history and set the value to ovverride \\u0027sendForValidationOverrides\\u0027 from \\u0027${sendForValidationPV}\\u0027 \",\"Instruction\":\"Use agent history and set the value to ovverride \\u0027sendForValidationOverrides\\u0027 from \\u0027${sendForValidationPV}\\u0027 \",\"Value\":null,\"DataType\":\"object\",\"Source\":\"static\"}}}",
                    "type": "partial-view"
                },
                "parameters": {
                    "preText": "",
                    "postText": "",
                    "sendForValidationOverrides": "{{nodeOutput.interface.inputs.partialViewData}}"
                }
            },
            "data": {},
            "width": 350,
            "height": 112,
            "selected": false,
            "positionAbsolute": {
                "x": 639.6278229415556,
                "y": 440.22477590080956
            },
            "dragging": false,
            "variableUpdates": [
                {
                    "fieldName": "thread.supervisor_messages",
                    "operation": "append",
                    "value": "Completed send for vaidation",
                    "role": "tool"
                }
            ]
        },
        {
            "id": "v8kwh8p",
            "type": "tool",
            "name": "getcontractbysuppliername",
            "description": "Description:\n\n\nReturns:\n- \n\nFriendly Name: Get_Contract_By_Supplier_Name",
            "position": {
                "x": -2329.0861810210854,
                "y": -1066.0271796892712
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "enabled": true,
                "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913-GetContractBySupplierName-36",
                "type": "mcp",
                "schema": {
                    "type": "object",
                    "properties": {
                        "event": {
                            "description": "Event to execute DAC policy in server function.",
                            "type": "string"
                        },
                        "data": {
                            "type": "string",
                            "description": "Payload used to execute the function."
                        },
                        "additionalData": {
                            "type": "string",
                            "description": "Any additional data used by the function."
                        }
                    },
                    "required": [
                        "data"
                    ],
                    "condition": "Description:\n\n\nReturns:\n- \n\nFriendly Name: Get_Contract_By_Supplier_Name"
                },
                "settings": {
                    "serverId": "572ee3d8-dcd5-4957-8a27-4163f488f913"
                },
                "returnDirect": false,
                "_meta": {
                    "functionId": "221f4e08-7a43-452a-9e50-d15d1eb056dd",
                    "type": "ssf-call",
                    "source": "current-module",
                    "moduleId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "serverName": "module mcp"
                },
                "parameters": {
                    "event": "\"\"",
                    "data": "{{nodes.supervisor.toolResults.supplier_path_a.data}}",
                    "additionalData": "{}"
                }
            },
            "data": {},
            "width": 350,
            "height": 112,
            "selected": false,
            "positionAbsolute": {
                "x": -2329.0861810210854,
                "y": -1070.0376262108402
            },
            "dragging": false,
            "variableUpdates": [
                {
                    "fieldName": "thread.supervisor_messages",
                    "operation": "append",
                    "value": "{{nodeOutput.result}}"
                }
            ]
        },
        {
            "id": "ttbylup",
            "type": "tool",
            "name": "suppliergridv1",
            "description": "Description:\nThis tool is for rendering suppliers in grid in case of multiple suppliers found in our records.\n\nOutputs:\n- Returns an object containing:\n  - `RenderingId` (string): The unique identifier of the rendered template. Must be used in final response when referencing this template e.g. [partial_view: RenderingId]\n  - `ContentType` (string): Specifies what type of template this is (e.g. `partial_view`).\n  - `Template` (string): A string representing the UI View Template.\n  - `TemplateDescription` (string): A short description of what the template will present to the user.\n\nNotes:\nThis tool is for rendering suppliers in grid in case of multiple suppliers found in our records.",
            "position": {
                "x": -1337.8928373562248,
                "y": -949.9639203687392
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "enabled": true,
                "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913-SupplierGridV1-66",
                "type": "mcp",
                "schema": {
                    "type": "object",
                    "properties": {
                        "preText": {
                            "description": "Text message to be rendered before the content of the partial view",
                            "type": "string"
                        },
                        "postText": {
                            "description": "Text message to be rendered after the content of the partial view",
                            "type": "string"
                        },
                        "gridData": {
                            "description": "Description:\n\n\nNotes:\n",
                            "type": "string"
                        },
                        "supplierGrid_msg": {
                            "description": "Description:\nUse this override to set data for label. Type of data is html string and overrideid is \"supplierGrid_msg\".\n\nNotes:\nUse this override to set data for label. Type of data is html string and overrideid is \"supplierGrid_msg\".",
                            "type": "string"
                        }
                    },
                    "condition": "Description:\nThis tool is for rendering suppliers in grid in case of multiple suppliers found in our records.\n\nOutputs:\n- Returns an object containing:\n  - `RenderingId` (string): The unique identifier of the rendered template. Must be used in final response when referencing this template e.g. [partial_view: RenderingId]\n  - `ContentType` (string): Specifies what type of template this is (e.g. `partial_view`).\n  - `Template` (string): A string representing the UI View Template.\n  - `TemplateDescription` (string): A short description of what the template will present to the user.\n\nNotes:\nThis tool is for rendering suppliers in grid in case of multiple suppliers found in our records."
                },
                "settings": {
                    "serverId": "572ee3d8-dcd5-4957-8a27-4163f488f913"
                },
                "returnDirect": false,
                "_meta": {
                    "uiView": "{\"RefId\":null,\"ViewUniqueId\":\"62e1e08f-92c0-4016-aa55-706cbbf77a44\",\"Version\":[0,0],\"Type\":\"partialView\",\"Name\":\"SupplierGridV1\",\"Icon\":null,\"Channel\":\"conversation\",\"Description\":\"This tool is for rendering suppliers in grid in case of multiple suppliers found in our records.\",\"Instruction\":\"This tool is for rendering suppliers in grid in case of multiple suppliers found in our records.\",\"AppId\":null,\"ModuleId\":null,\"EnableContextSharing\":true,\"Overrides\":{\"gridData\":{\"Type\":\"data\",\"OverrideId\":\"gridData\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"gridData\",\"Description\":\"\",\"Instruction\":\"\",\"Value\":null,\"DataType\":\"array\",\"Source\":\"static\"},\"supplierGrid_msg\":{\"Type\":\"data\",\"OverrideId\":\"supplierGrid_msg\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"supplierGrid_msg\",\"Description\":\"Use this override to set data for label. Type of data is html string and overrideid is \\u0022supplierGrid_msg\\u0022.\",\"Instruction\":\"Use this override to set data for label. Type of data is html string and overrideid is \\u0022supplierGrid_msg\\u0022.\",\"Value\":null,\"DataType\":\"string\",\"Source\":\"static\"}}}",
                    "type": "partial-view",
                    "source": "current-module",
                    "moduleId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "serverName": "module mcp"
                },
                "parameters": {
                    "preText": "",
                    "postText": "",
                    "gridData": "{{nodes.getcontractbysuppliername.result.data.suppliers}}",
                    "supplierGrid_msg": "I found multiple suppliers in our records with similar names. Please select a supplier from the list below to confirm."
                }
            },
            "data": {},
            "width": 350,
            "height": 112,
            "selected": false,
            "positionAbsolute": {
                "x": 887.0380329137838,
                "y": 680.6202139486854
            },
            "dragging": false,
            "variableUpdates": [
                {
                    "fieldName": "flow.isMultipleSupplier",
                    "operation": "set",
                    "value": true
                },
                {
                    "fieldName": "thread.supervisor_messages",
                    "operation": "append",
                    "value": "Completed step 1B-multiple and waiting for user interaction",
                    "role": "tool"
                }
            ]
        },
        {
            "id": "5oyrg1p",
            "type": "rule",
            "name": "check_single_or_multiple_suppliers",
            "description": "",
            "position": {
                "x": -1877.7931139522493,
                "y": -1096.0271796892712
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "rules": [
                    {
                        "ruleId": "r-ndgx6330",
                        "enable": true,
                        "conditions": [
                            {
                                "field": "{{nodes.getcontractbysuppliername.result.data.suppliers}}",
                                "operator": "is empty",
                                "value": ""
                            }
                        ],
                        "logicType": "AND"
                    },
                    {
                        "ruleId": "r-else",
                        "enable": true,
                        "conditions": [],
                        "logicType": "default"
                    }
                ]
            },
            "data": {},
            "width": 350,
            "height": 170,
            "selected": false,
            "positionAbsolute": {
                "x": 347.13775631775934,
                "y": 534.5569546281533
            },
            "dragging": false
        },
        {
            "id": "krs4eiz",
            "type": "tool",
            "name": "getcontracts_1",
            "description": "Description:\n\n\nReturns:\n- \n\nFriendly Name: Get_Contracts",
            "position": {
                "x": -915.9678082737314,
                "y": -1144.295735417144
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "enabled": true,
                "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913-GetContracts-18",
                "type": "mcp",
                "schema": {
                    "type": "object",
                    "properties": {
                        "event": {
                            "description": "Event to execute DAC policy in server function.",
                            "type": "string"
                        },
                        "data": {
                            "type": "string",
                            "description": "Payload used to execute the function."
                        },
                        "additionalData": {
                            "type": "string",
                            "description": "Any additional data used by the function."
                        }
                    },
                    "required": [
                        "data"
                    ],
                    "condition": "Description:\n\n\nReturns:\n- \n\nFriendly Name: Get_Contracts"
                },
                "settings": {
                    "serverId": "572ee3d8-dcd5-4957-8a27-4163f488f913"
                },
                "returnDirect": false,
                "_meta": {
                    "functionId": "dfd1a652-2c33-48c9-8a13-2cfe7c9a74ee",
                    "type": "ssf-call",
                    "source": "current-module",
                    "moduleId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "serverName": "module mcp"
                },
                "parameters": {
                    "event": "\"\"",
                    "data": "{{nodes.llm_0.structuredOutput}}",
                    "additionalData": "{}"
                }
            },
            "data": {},
            "width": 313,
            "height": 96,
            "selected": false,
            "positionAbsolute": {
                "x": 1308.9630619962772,
                "y": 486.2883989002806
            },
            "dragging": false,
            "variableUpdates": [
                {
                    "fieldName": "thread.supervisor_messages",
                    "operation": "append",
                    "value": "{{nodeOutput.result}}"
                }
            ]
        },
        {
            "id": "qna7ryh",
            "type": "tool",
            "name": "contractgrid1_1",
            "description": "Description:\nThis view shows available contracts in grid format.\n\nOutputs:\n- Returns an object containing:\n  - `RenderingId` (string): The unique identifier of the rendered template. Must be used in final response when referencing this template e.g. [partial_view: RenderingId]\n  - `ContentType` (string): Specifies what type of template this is (e.g. `partial_view`).\n  - `Template` (string): A string representing the UI View Template.\n  - `TemplateDescription` (string): A short description of what the template will present to the user.\n\nNotes:\nThis view shows available contracts in grid format.",
            "position": {
                "x": 398.16133047826065,
                "y": -1078.8106700436606
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "enabled": true,
                "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913-contractgrid-68",
                "type": "mcp",
                "schema": {
                    "type": "object",
                    "properties": {
                        "preText": {
                            "description": "Text message to be rendered before the content of the partial view",
                            "type": "string"
                        },
                        "postText": {
                            "description": "Text message to be rendered after the content of the partial view",
                            "type": "string"
                        },
                        "gridData": {
                            "description": "Description:\n\n\nNotes:\ngridData is a json object having a single property `gridRows`, and this gridRows contains list of contracts.",
                            "type": "string"
                        },
                        "contract_grid_label": {
                            "description": "Description:\n\n\nNotes:\n",
                            "type": "string"
                        },
                        "contract_grid_buttons_datamodel": {
                            "description": "Description:\n\n\nNotes:\n**This data override will be type of array of objects. Where each object referes to a button object. This override help to overrideId - 'contract_grid_buttons_datamodel'. **Always override a valid json object to datamodel.  **It holds below schema -    ``` [ \t{ \t\t\"label\": \"Create New Contract\", \t\t\"value\": \"Create New Contract\" \t}, \t{ \t\t\"label\": \"Amend Selected Contract\", \t\t\"value\": \"Amend Selected Contract\", \t\t\"dataModelForSelection\": [ \t\t\t{ \t\t\t\t\"dataModelId\": \"selectedGridRows\", \t\t\t\t\"dataPath\": \"contract_grid.0.contractNumber\" \t\t\t} \t\t], \t\t\"dataModelForContext\": [ \t\t\t{ \t\t\t\t\"dataModelId\": \"selectedGridRows\", \t\t\t\t\"dataPath\": \"contract_grid.0\" \t\t\t} \t\t] \t} ] ```",
                            "type": "string"
                        }
                    },
                    "condition": "Description:\nThis view shows available contracts in grid format.\n\nOutputs:\n- Returns an object containing:\n  - `RenderingId` (string): The unique identifier of the rendered template. Must be used in final response when referencing this template e.g. [partial_view: RenderingId]\n  - `ContentType` (string): Specifies what type of template this is (e.g. `partial_view`).\n  - `Template` (string): A string representing the UI View Template.\n  - `TemplateDescription` (string): A short description of what the template will present to the user.\n\nNotes:\nThis view shows available contracts in grid format."
                },
                "settings": {
                    "serverId": "572ee3d8-dcd5-4957-8a27-4163f488f913"
                },
                "returnDirect": false,
                "_meta": {
                    "uiView": "{\"RefId\":null,\"ViewUniqueId\":\"779d507a-cae1-425c-85a5-c6bcea429125\",\"Version\":[0,0],\"Type\":\"partialView\",\"Name\":\"contract_grid\",\"Icon\":null,\"Channel\":\"conversation\",\"Description\":\"This view shows available contracts in grid format.\",\"Instruction\":\"This view shows available contracts in grid format.\",\"AppId\":null,\"ModuleId\":null,\"EnableContextSharing\":true,\"Overrides\":{\"gridData\":{\"Type\":\"data\",\"OverrideId\":\"gridData\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"gridData\",\"Description\":\"\",\"Instruction\":\"gridData is a json object having a single property \\u0060gridRows\\u0060, and this gridRows contains list of contracts.\",\"Value\":null,\"DataType\":\"object\",\"Source\":\"static\"},\"contract_grid_label\":{\"Type\":\"data\",\"OverrideId\":\"contract_grid_label\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"contract_grid_label\",\"Description\":\"\",\"Instruction\":\"\",\"Value\":null,\"DataType\":\"string\",\"Source\":\"static\"},\"contract_grid_buttons_datamodel\":{\"Type\":\"data\",\"OverrideId\":\"contract_grid_buttons_datamodel\",\"IsMainDataSource\":null,\"ShareAsContext\":true,\"StoreId\":\"contract_grid_buttons_datamodel\",\"Description\":\"\",\"Instruction\":\"**This data override will be type of array of objects. Where each object referes to a button object. This override help to overrideId - \\u0027contract_grid_buttons_datamodel\\u0027. **Always override a valid json object to datamodel.  **It holds below schema -    \\u0060\\u0060\\u0060 [ \\t{ \\t\\t\\u0022label\\u0022: \\u0022Create New Contract\\u0022, \\t\\t\\u0022value\\u0022: \\u0022Create New Contract\\u0022 \\t}, \\t{ \\t\\t\\u0022label\\u0022: \\u0022Amend Selected Contract\\u0022, \\t\\t\\u0022value\\u0022: \\u0022Amend Selected Contract\\u0022, \\t\\t\\u0022dataModelForSelection\\u0022: [ \\t\\t\\t{ \\t\\t\\t\\t\\u0022dataModelId\\u0022: \\u0022selectedGridRows\\u0022, \\t\\t\\t\\t\\u0022dataPath\\u0022: \\u0022contract_grid.0.contractNumber\\u0022 \\t\\t\\t} \\t\\t], \\t\\t\\u0022dataModelForContext\\u0022: [ \\t\\t\\t{ \\t\\t\\t\\t\\u0022dataModelId\\u0022: \\u0022selectedGridRows\\u0022, \\t\\t\\t\\t\\u0022dataPath\\u0022: \\u0022contract_grid.0\\u0022 \\t\\t\\t} \\t\\t] \\t} ] \\u0060\\u0060\\u0060\",\"Value\":null,\"DataType\":\"array\",\"Source\":\"static\"}}}",
                    "type": "partial-view",
                    "source": "current-module",
                    "moduleId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "toolId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
                    "serverName": "module mcp"
                },
                "parameters": {
                    "preText": "",
                    "postText": "",
                    "gridData": "{{nodes.llm_1.structuredOutput.gridData}}",
                    "contract_grid_label": "I found <supplier_name> in our records. <br> Here's a quick summary: <br> <strong>Supplier Legal Name:</strong> {{flow.supplierDetails.supplierName}} <br> <strong>Supplier Partner Number:</strong> {{flow.supplierDetails.supplierSourceIdentificationNo}} <br> <strong>Supplier Partner Status:</strong> {{flow.supplierDetails.partnerStatus}} <br> <strong>Supplier Onboarding Status:</strong> {{flow.supplierDetails.onboardingStatus}} <br> The following contracts are associated with {{flow.supplierDetails.supplierSourceIdentificationNo}}. Kindly select the contract you wish to Extend.",
                    "contract_grid_buttons_datamodel": "[{\"label\":\"Extend Selected Contract\",\"value\":\"Extend Selected Contract\",\"dataModelForSelection\":[{\"dataModelId\":\"selectedGridRows\",\"dataPath\":\"contract_grid.0.contractNumber\"}],\"dataModelForContext\":[{\"dataModelId\":\"selectedGridRows\",\"dataPath\":\"contract_grid.0\"}],\"validation\":[{\"validationType\":\"emptyDataModel\",\"validationMessage\":\"Please select contract to continue.\",\"values\":[{\"dataModelId\":\"selectedGridRows\",\"dataPath\":\"contract_grid.0.contractNumber\"}]}]}]"
                }
            },
            "data": {},
            "width": 350,
            "height": 112,
            "selected": false,
            "positionAbsolute": {
                "x": 398.16133047826065,
                "y": -1078.8106700436606
            },
            "dragging": false,
            "variableUpdates": [
                {
                    "fieldName": "flow.isSingleContract",
                    "operation": "set",
                    "value": false
                },
                {
                    "fieldName": "thread.supervisor_messages",
                    "operation": "append",
                    "value": "Completed step 1C-supplier-contracts and waiting for user interaction",
                    "role": "tool"
                }
            ]
        },
        {
            "id": "wupr5su",
            "type": "llm",
            "name": "llm_0",
            "description": "",
            "position": {
                "x": -1329.5379895411475,
                "y": -1148.795735417144
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "model": {
                    "code": "gpt-4.1",
                    "name": "OpenAI GPT-4.1"
                },
                "promptTemplate": [
                    {
                        "id": "cefde83f-3401-4363-b143-22acde9641e6",
                        "role": "system",
                        "text": "You are a JSON transformer. Output ONLY a single valid JSON object and nothing else.\n\nINPUTS:\nsuppliersGridRows = {{nodes.getcontractbysuppliername.result.suppliers.gridRows}}\nuserMessage = {{nodes.start.interface.inputs.message}}\npartialViewData = {{nodes.start.interface.inputs.partialViewData}}\n\nRULES:\n1) If partialViewData contains a selected supplier JSON (it will include \"sourceIdentificationNo\"), use that selection.\n   - If partialViewData is an array of JSON strings, use the first element.\n2) Else, use suppliersGridRows[0].\n3) Map fields exactly:\n   supplierSourceIdentificationNo = sourceIdentificationNo (string; if number, convert to string)\n   supplierName = legalCompanyName\n   partnerCode = partnerCode\n   partnerStatus = partnerStatus\n   onboardingStatus = onboardingStatus\n   status = [\"Live\"]\n4) Output ONLY the JSON object. No markdown fences.\n\nOUTPUT (exact JSON shape):\n{\n  \"supplierSourceIdentificationNo\": \"<string>\",\n  \"supplierName\": \"<string>\",\n  \"partnerCode\": \"<string>\",\n  \"partnerStatus\": \"<string>\",\n  \"onboardingStatus\": \"<string>\",\n  \"status\": [\"Live\"]\n}"
                    }
                ],
                "structuredOutput": {
                    "enable": true,
                    "name": "",
                    "description": "",
                    "schema": {
                        "type": "object",
                        "properties": {
                            "supplierSourceIdentificationNo": {
                                "type": "string",
                                "description": "Unique source identification number of the supplier"
                            },
                            "supplierName": {
                                "type": "string",
                                "description": "Legal name of the supplier"
                            },
                            "partnerCode": {
                                "type": "string",
                                "description": "Unique partner code associated with the supplier"
                            },
                            "partnerStatus": {
                                "type": "string",
                                "description": "Current status of the partner"
                            },
                            "onboardingStatus": {
                                "type": "string",
                                "description": "Current onboarding status of the supplier"
                            },
                            "status": {
                                "type": "array",
                                "items": {
                                    "type": "string",
                                    "enum": [
                                        "Live"
                                    ]
                                },
                                "description": "Status of the supplier or contract"
                            }
                        },
                        "required": [
                            "supplierSourceIdentificationNo",
                            "supplierName",
                            "partnerCode",
                            "partnerStatus",
                            "onboardingStatus",
                            "status"
                        ],
                        "additionalProperties": false
                    }
                }
            },
            "data": {},
            "variableUpdates": [
                {
                    "fieldName": "flow.supplierDetails",
                    "operation": "set",
                    "value": "{{nodeOutput.structuredOutput}}"
                }
            ],
            "width": 250,
            "height": 104,
            "selected": false,
            "positionAbsolute": {
                "x": 895.3928807288612,
                "y": 481.7883989002806
            },
            "dragging": false
        },
        {
            "id": "eyfylxp",
            "type": "llm",
            "name": "llm_1",
            "description": "",
            "position": {
                "x": -515.4041274803585,
                "y": -1148.795735417144
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "model": {
                    "code": "gpt-4.1",
                    "name": "OpenAI GPT-4.1"
                },
                "promptTemplate": [
                    {
                        "id": "90da8238-e118-472f-a0d0-d1e03f36f752",
                        "role": "system",
                        "text": "You are a JSON transformer.\nOutput ONLY a single valid JSON object and nothing else.\n\nINPUT:\ncontractsList = {{nodes.getcontracts_1.result.text}}\n\nRULES:\n1) If contractsList is a valid array, set gridData.gridRows = contractsList.\n2) If contractsList is empty or null, set gridData.gridRows = [].\n3) Set hasContractsData:\n   - true if gridData.gridRows has at least 1 item\n   - false otherwise\n4) Do NOT add any other keys. No markdown.\n\nOUTPUT JSON SHAPE (exact):\n{\n  \"gridData\": {\n    \"gridRows\": []\n  },\n  \"hasContractsData\": false\n}"
                    }
                ],
                "structuredOutput": {
                    "enable": true,
                    "name": "",
                    "description": "",
                    "schema": {
                        "type": "object",
                        "properties": {
                            "gridData": {
                                "type": "object",
                                "properties": {
                                    "gridRows": {
                                        "type": "array",
                                        "items": {
                                            "type": "object",
                                            "properties": {},
                                            "required": [],
                                            "additionalProperties": false
                                        }
                                    }
                                },
                                "required": [
                                    "gridRows"
                                ],
                                "additionalProperties": false,
                                "description": "gridData"
                            },
                            "hasContractsData": {
                                "type": "string",
                                "description": "Does the supplier has contracts or not"
                            }
                        },
                        "required": [
                            "gridData",
                            "hasContractsData"
                        ],
                        "additionalProperties": false
                    }
                }
            },
            "data": {},
            "width": 250,
            "height": 104,
            "selected": false,
            "positionAbsolute": {
                "x": 1709.5267427896501,
                "y": 481.7883989002806
            },
            "dragging": false,
            "variableUpdates": [
                {
                    "fieldName": "{{flow.hasContractsData}}",
                    "operation": "set",
                    "value": "{{nodeOutput.structuredOutput.hasContractsData}}"
                }
            ]
        },
        {
            "id": "8vtjy9m",
            "type": "rule",
            "name": "contracts_check",
            "description": "",
            "position": {
                "x": -168.0308498071454,
                "y": -1144.295735417144
            },
            "deletable": true,
            "properties": {
                "retryOnFailure": false,
                "maxRetries": 6,
                "retryInterval": 541,
                "errorHandling": "none",
                "errorObject": {
                    "body": "",
                    "status_code": 500,
                    "headers": {}
                }
            },
            "config": {
                "rules": [
                    {
                        "ruleId": "r-dk5r21ik",
                        "enable": true,
                        "conditions": [
                            {
                                "field": "{{flow.hasContractsData}}",
                                "operator": "equals",
                                "value": false
                            }
                        ],
                        "logicType": "AND"
                    },
                    {
                        "ruleId": "r-else",
                        "enable": true,
                        "conditions": [],
                        "logicType": "default"
                    }
                ]
            },
            "data": {},
            "width": 350,
            "height": 170,
            "selected": false,
            "positionAbsolute": {
                "x": 2056.9000204628633,
                "y": 486.2883989002806
            },
            "dragging": false
        }
    ],
    "edges": [
        {
            "id": "i4kr435-handoff-ad18225b-3540-468c-8bc0-e54f9d707148",
            "source": "i4kr435",
            "target": "ve2ji9a",
            "type": "handoff",
            "sourceHandle": "handoff",
            "targetHandle": null,
            "deletable": false,
            "data": {
                "toolId": "ad18225b-3540-468c-8bc0-e54f9d707148",
                "isHandoff": true,
                "sourceType": "agent",
                "targetType": "tool"
            },
            "selected": false
        },
        {
            "id": "i4kr435-handoff-18bbc129-9ecf-42aa-af41-7ff786b9cc4b",
            "source": "i4kr435",
            "target": "lxq606l",
            "type": "handoff",
            "sourceHandle": "handoff",
            "targetHandle": null,
            "deletable": false,
            "data": {
                "toolId": "18bbc129-9ecf-42aa-af41-7ff786b9cc4b",
                "isHandoff": true,
                "sourceType": "agent",
                "targetType": "tool"
            }
        },
        {
            "id": "reactflow__edge-06wwfx9-tdgorqp",
            "source": "06wwfx9",
            "target": "tdgorqp",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "tool",
                "targetType": "tool"
            }
        },
        {
            "id": "reactflow__edge-f372gay-hdu4wl5",
            "source": "f372gay",
            "target": "hdu4wl5",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "tool",
                "targetType": "tool"
            }
        },
        {
            "id": "i4kr435-handoff-f4b25e65-ad5f-4a04-b7c3-37fcc7ec3a11",
            "source": "i4kr435",
            "target": "f372gay",
            "type": "handoff",
            "sourceHandle": "handoff",
            "targetHandle": null,
            "deletable": false,
            "data": {
                "toolId": "f4b25e65-ad5f-4a04-b7c3-37fcc7ec3a11",
                "isHandoff": true,
                "sourceType": "agent",
                "targetType": "tool"
            }
        },
        {
            "id": "i4kr435-handoff-4a780087-d528-4723-a51a-f286e1e2071a",
            "source": "i4kr435",
            "target": "ob7vzpu",
            "type": "handoff",
            "sourceHandle": "handoff",
            "targetHandle": null,
            "deletable": false,
            "data": {
                "toolId": "4a780087-d528-4723-a51a-f286e1e2071a",
                "isHandoff": true,
                "sourceType": "agent",
                "targetType": "tool"
            },
            "selected": false
        },
        {
            "id": "i4kr435-handoff-e3363ca6-1bd8-4aef-8b34-8728dc69534f",
            "source": "i4kr435",
            "target": "j6jth4x",
            "type": "handoff",
            "sourceHandle": "handoff",
            "targetHandle": null,
            "deletable": false,
            "data": {
                "toolId": "e3363ca6-1bd8-4aef-8b34-8728dc69534f",
                "isHandoff": true,
                "sourceType": "agent",
                "targetType": "tool"
            },
            "selected": false
        },
        {
            "id": "reactflow__edge-j6jth4x-eniml8w",
            "source": "j6jth4x",
            "target": "eniml8w",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "tool",
                "targetType": "tool"
            },
            "selected": false
        },
        {
            "id": "reactflow__edge-tw115ju-9y3mobw",
            "source": "tw115ju",
            "target": "9y3mobw",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "tool",
                "targetType": "tool"
            }
        },
        {
            "id": "i4kr435-handoff-9da4b1f2-cc7f-4858-a6c6-b7b827c28d41",
            "source": "i4kr435",
            "target": "tw115ju",
            "type": "handoff",
            "sourceHandle": "handoff",
            "targetHandle": null,
            "deletable": false,
            "data": {
                "toolId": "9da4b1f2-cc7f-4858-a6c6-b7b827c28d41",
                "isHandoff": true,
                "sourceType": "agent",
                "targetType": "tool"
            }
        },
        {
            "id": "i4kr435-handoff-753b3bed-047c-4497-bb09-746696607873",
            "source": "i4kr435",
            "target": "mqwhoby",
            "type": "handoff",
            "sourceHandle": "handoff",
            "targetHandle": null,
            "deletable": false,
            "data": {
                "toolId": "753b3bed-047c-4497-bb09-746696607873",
                "isHandoff": true,
                "sourceType": "agent",
                "targetType": "tool"
            }
        },
        {
            "id": "i4kr435-handoff-80710797-92db-47e8-91a8-b09725c6cca2",
            "source": "i4kr435",
            "target": "4zruq1v",
            "type": "handoff",
            "sourceHandle": "handoff",
            "targetHandle": null,
            "deletable": false,
            "data": {
                "toolId": "80710797-92db-47e8-91a8-b09725c6cca2",
                "isHandoff": true,
                "sourceType": "agent",
                "targetType": "tool"
            }
        },
        {
            "id": "i4kr435-handoff-598d2e03-0e35-4c7a-b769-ea9a03e4f1a6",
            "source": "i4kr435",
            "target": "v1fs151",
            "type": "handoff",
            "sourceHandle": "handoff",
            "targetHandle": null,
            "deletable": false,
            "data": {
                "toolId": "598d2e03-0e35-4c7a-b769-ea9a03e4f1a6",
                "isHandoff": true,
                "sourceType": "agent",
                "targetType": "tool"
            }
        },
        {
            "id": "i4kr435-handoff-254bc030-dfaa-40e6-a106-ab37bc16616b",
            "source": "i4kr435",
            "target": "jbfi3ef",
            "type": "handoff",
            "sourceHandle": "handoff",
            "targetHandle": null,
            "deletable": false,
            "data": {
                "toolId": "254bc030-dfaa-40e6-a106-ab37bc16616b",
                "isHandoff": true,
                "sourceType": "agent",
                "targetType": "tool"
            }
        },
        {
            "id": "reactflow__edge-4zruq1v-cfk4uyh",
            "source": "4zruq1v",
            "target": "cfk4uyh",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "tool",
                "targetType": "tool"
            }
        },
        {
            "id": "reactflow__edge-start-i4kr435",
            "source": "start",
            "target": "i4kr435",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "start",
                "targetType": "agent"
            }
        },
        {
            "id": "reactflow__edge-diftyrq-iea8kay",
            "source": "diftyrq",
            "target": "iea8kay",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "tool",
                "targetType": "tool"
            }
        },
        {
            "id": "i4kr435-handoff-603cdeb8-1ed4-4514-a5b4-5b82584d274d",
            "source": "i4kr435",
            "target": "diftyrq",
            "type": "handoff",
            "sourceHandle": "handoff",
            "targetHandle": null,
            "deletable": false,
            "data": {
                "toolId": "603cdeb8-1ed4-4514-a5b4-5b82584d274d",
                "isHandoff": true,
                "sourceType": "agent",
                "targetType": "tool"
            }
        },
        {
            "id": "reactflow__edge-e1lu96e-br8ahe8",
            "source": "e1lu96e",
            "target": "br8ahe8",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "tool",
                "targetType": "tool"
            }
        },
        {
            "id": "reactflow__edge-lxq606l-o0zfh14",
            "source": "lxq606l",
            "target": "o0zfh14",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "tool",
                "targetType": "rule"
            }
        },
        {
            "id": "i4kr435-handoff-aa62d3ef-16ee-4adc-840c-ef01eadd63c8",
            "source": "i4kr435",
            "target": "dglt5gq",
            "type": "handoff",
            "sourceHandle": "handoff",
            "targetHandle": null,
            "deletable": false,
            "data": {
                "toolId": "aa62d3ef-16ee-4adc-840c-ef01eadd63c8",
                "isHandoff": true,
                "sourceType": "agent",
                "targetType": "tool"
            }
        },
        {
            "id": "reactflow__edge-dglt5gq-e1lu96e",
            "source": "dglt5gq",
            "target": "e1lu96e",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "tool",
                "targetType": "tool"
            }
        },
        {
            "id": "reactflow__edge-o0zfh14r-else-06wwfx9",
            "source": "o0zfh14",
            "target": "06wwfx9",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": "r-else",
            "targetHandle": null,
            "data": {
                "sourceType": "rule",
                "targetType": "tool"
            }
        },
        {
            "id": "reactflow__edge-o0zfh14r-um67xqal-l9bvfpo",
            "source": "o0zfh14",
            "target": "l9bvfpo",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": "r-um67xqal",
            "targetHandle": null,
            "data": {
                "sourceType": "rule",
                "targetType": "tool"
            }
        },
        {
            "id": "reactflow__edge-9ipnzlj-l7azysc",
            "source": "9ipnzlj",
            "target": "l7azysc",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "tool",
                "targetType": "tool"
            }
        },
        {
            "id": "i4kr435-handoff-29990f37-322f-4d36-bee7-eab8d77df092",
            "source": "i4kr435",
            "target": "9ipnzlj",
            "type": "handoff",
            "sourceHandle": "handoff",
            "targetHandle": null,
            "deletable": false,
            "data": {
                "toolId": "29990f37-322f-4d36-bee7-eab8d77df092",
                "isHandoff": true,
                "sourceType": "agent",
                "targetType": "tool"
            }
        },
        {
            "id": "reactflow__edge-x7jg1hn-51yd29z",
            "source": "x7jg1hn",
            "target": "51yd29z",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "tool",
                "targetType": "variable"
            }
        },
        {
            "id": "reactflow__edge-l9bvfpo-51yd29z",
            "source": "l9bvfpo",
            "target": "51yd29z",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "tool",
                "targetType": "variable"
            }
        },
        {
            "id": "reactflow__edge-9y3mobw-51yd29z",
            "source": "9y3mobw",
            "target": "51yd29z",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "tool",
                "targetType": "variable"
            }
        },
        {
            "id": "reactflow__edge-cfk4uyh-51yd29z",
            "source": "cfk4uyh",
            "target": "51yd29z",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "tool",
                "targetType": "variable"
            }
        },
        {
            "id": "reactflow__edge-v1fs151-51yd29z",
            "source": "v1fs151",
            "target": "51yd29z",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "tool",
                "targetType": "variable"
            }
        },
        {
            "id": "reactflow__edge-iea8kay-51yd29z",
            "source": "iea8kay",
            "target": "51yd29z",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "tool",
                "targetType": "variable"
            }
        },
        {
            "id": "reactflow__edge-br8ahe8-51yd29z",
            "source": "br8ahe8",
            "target": "51yd29z",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "tool",
                "targetType": "variable"
            }
        },
        {
            "id": "reactflow__edge-jbfi3ef-51yd29z",
            "source": "jbfi3ef",
            "target": "51yd29z",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "tool",
                "targetType": "variable"
            }
        },
        {
            "id": "reactflow__edge-l7azysc-51yd29z",
            "source": "l7azysc",
            "target": "51yd29z",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "tool",
                "targetType": "variable"
            }
        },
        {
            "id": "reactflow__edge-eniml8w-51yd29z",
            "source": "eniml8w",
            "target": "51yd29z",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "tool",
                "targetType": "variable"
            }
        },
        {
            "id": "reactflow__edge-ob7vzpu-51yd29z",
            "source": "ob7vzpu",
            "target": "51yd29z",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "tool",
                "targetType": "variable"
            },
            "selected": false
        },
        {
            "id": "reactflow__edge-hdu4wl5-51yd29z",
            "source": "hdu4wl5",
            "target": "51yd29z",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "tool",
                "targetType": "variable"
            }
        },
        {
            "id": "reactflow__edge-tdgorqp-51yd29z",
            "source": "tdgorqp",
            "target": "51yd29z",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "tool",
                "targetType": "variable"
            }
        },
        {
            "id": "reactflow__edge-zt8nvsc-l9bvfpo",
            "source": "zt8nvsc",
            "target": "l9bvfpo",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "variable",
                "targetType": "tool"
            }
        },
        {
            "id": "i4kr435-handoff-39132b6b-2a52-4695-be44-74589e4d38e5",
            "source": "i4kr435",
            "target": "zt8nvsc",
            "type": "handoff",
            "sourceHandle": "handoff",
            "targetHandle": null,
            "deletable": false,
            "data": {
                "toolId": "39132b6b-2a52-4695-be44-74589e4d38e5",
                "isHandoff": true,
                "sourceType": "agent",
                "targetType": "variable"
            }
        },
        {
            "id": "reactflow__edge-ve2ji9a-zlo9vnl",
            "source": "ve2ji9a",
            "target": "zlo9vnl",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "tool",
                "targetType": "llm"
            }
        },
        {
            "id": "reactflow__edge-mqwhoby-51yd29z",
            "source": "mqwhoby",
            "target": "51yd29z",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "tool",
                "targetType": "variable"
            }
        },
        {
            "id": "reactflow__edge-l16cojv-i4kr435",
            "source": "l16cojv",
            "target": "i4kr435",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "tool",
                "targetType": "agent"
            }
        },
        {
            "id": "i4kr435-handoff-edd434fe-d3a1-4e47-bd77-410a5dde3ef6",
            "source": "i4kr435",
            "target": "l16cojv",
            "type": "handoff",
            "sourceHandle": "handoff",
            "targetHandle": null,
            "deletable": false,
            "data": {
                "toolId": "edd434fe-d3a1-4e47-bd77-410a5dde3ef6",
                "isHandoff": true,
                "sourceType": "agent",
                "targetType": "tool"
            }
        },
        {
            "id": "reactflow__edge-51yd29z-qesk1hb",
            "source": "51yd29z",
            "target": "qesk1hb",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "variable",
                "targetType": "output"
            }
        },
        {
            "id": "reactflow__edge-i4kr435-qesk1hb",
            "source": "i4kr435",
            "target": "qesk1hb",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "agent",
                "targetType": "output"
            }
        },
        {
            "id": "reactflow__edge-zlo9vnl-efvgzj6",
            "source": "zlo9vnl",
            "target": "efvgzj6",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "llm",
                "targetType": "rule"
            }
        },
        {
            "id": "reactflow__edge-efvgzj6r-else-x7jg1hn",
            "source": "efvgzj6",
            "target": "x7jg1hn",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": "r-else",
            "targetHandle": null,
            "data": {
                "sourceType": "rule",
                "targetType": "tool"
            }
        },
        {
            "id": "reactflow__edge-efvgzj6r-0h9yftx6-i4kr435",
            "source": "efvgzj6",
            "target": "i4kr435",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": "r-0h9yftx6",
            "targetHandle": null,
            "data": {
                "sourceType": "rule",
                "targetType": "agent"
            }
        },
        {
            "id": "i4kr435-handoff-60516f56-ae01-437e-b819-4825a170167c",
            "source": "i4kr435",
            "target": "ev8ejmx",
            "type": "handoff",
            "sourceHandle": "handoff",
            "targetHandle": null,
            "deletable": false,
            "data": {
                "toolId": "60516f56-ae01-437e-b819-4825a170167c",
                "isHandoff": true,
                "sourceType": "agent",
                "targetType": "tool"
            }
        },
        {
            "id": "reactflow__edge-ev8ejmx-51yd29z",
            "source": "ev8ejmx",
            "target": "51yd29z",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "tool",
                "targetType": "variable"
            }
        },
        {
            "id": "reactflow__edge-v8kwh8p-5oyrg1p",
            "source": "v8kwh8p",
            "target": "5oyrg1p",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "tool",
                "targetType": "rule"
            },
            "selected": false
        },
        {
            "id": "reactflow__edge-5oyrg1pr-else-ttbylup",
            "source": "5oyrg1p",
            "target": "ttbylup",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": "r-else",
            "targetHandle": null,
            "data": {
                "sourceType": "rule",
                "targetType": "tool"
            },
            "selected": false
        },
        {
            "id": "reactflow__edge-wupr5su-krs4eiz",
            "source": "wupr5su",
            "target": "krs4eiz",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "llm",
                "targetType": "tool"
            },
            "selected": false
        },
        {
            "id": "reactflow__edge-krs4eiz-eyfylxp",
            "source": "krs4eiz",
            "target": "eyfylxp",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "tool",
                "targetType": "llm"
            },
            "selected": false
        },
        {
            "id": "reactflow__edge-5oyrg1pr-ndgx6330-wupr5su",
            "source": "5oyrg1p",
            "target": "wupr5su",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": "r-ndgx6330",
            "targetHandle": null,
            "data": {
                "sourceType": "rule",
                "targetType": "llm"
            },
            "selected": false
        },
        {
            "id": "reactflow__edge-eyfylxp-8vtjy9m",
            "source": "eyfylxp",
            "target": "8vtjy9m",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "llm",
                "targetType": "rule"
            },
            "selected": false
        },
        {
            "id": "reactflow__edge-8vtjy9mr-else-qna7ryh",
            "source": "8vtjy9m",
            "target": "qna7ryh",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": "r-else",
            "targetHandle": null,
            "data": {
                "sourceType": "rule",
                "targetType": "tool"
            },
            "selected": false
        },
        {
            "id": "i4kr435-handoff-1b9cd968-6148-432e-a54b-b001deaeca67",
            "source": "i4kr435",
            "target": "v8kwh8p",
            "type": "handoff",
            "sourceHandle": "handoff",
            "targetHandle": null,
            "deletable": false,
            "data": {
                "toolId": "1b9cd968-6148-432e-a54b-b001deaeca67",
                "isHandoff": true,
                "sourceType": "agent",
                "targetType": "tool"
            }
        },
        {
            "id": "i4kr435-handoff-337d1c33-8b9d-44e0-8845-8df8d3cf5731",
            "source": "i4kr435",
            "target": "wupr5su",
            "type": "handoff",
            "sourceHandle": "handoff",
            "targetHandle": null,
            "deletable": false,
            "data": {
                "toolId": "337d1c33-8b9d-44e0-8845-8df8d3cf5731",
                "isHandoff": true,
                "sourceType": "agent",
                "targetType": "llm"
            }
        },
        {
            "id": "reactflow__edge-qna7ryh-51yd29z",
            "source": "qna7ryh",
            "target": "51yd29z",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "tool",
                "targetType": "variable"
            }
        },
        {
            "id": "reactflow__edge-ttbylup-51yd29z",
            "source": "ttbylup",
            "target": "51yd29z",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": null,
            "targetHandle": null,
            "data": {
                "sourceType": "tool",
                "targetType": "variable"
            }
        },
        {
            "id": "reactflow__edge-8vtjy9mr-dk5r21ik-i4kr435",
            "source": "8vtjy9m",
            "target": "i4kr435",
            "style": {
                "strokeWidth": 3
            },
            "sourceHandle": "r-dk5r21ik",
            "targetHandle": null,
            "data": {
                "sourceType": "rule",
                "targetType": "agent"
            }
        }
    ],
    "variables": {
        "flow": [
            {
                "id": "var-lotfam9pl",
                "name": "userDateFormat",
                "type": "string",
                "default": "",
                "required": false
            },
            {
                "id": "var-n5jd8mbjg",
                "name": "datemessage",
                "type": "string",
                "default": "",
                "required": false
            },
            {
                "id": "var-lposs20b3",
                "name": "formattedExpiryDate",
                "type": "string",
                "default": "",
                "required": false
            },
            {
                "id": "var-frzwapwzs",
                "name": "formattedContractSummary",
                "type": "string",
                "default": "",
                "required": false
            },
            {
                "id": "var-2yul3x4ym",
                "name": "isPvRendered",
                "type": "boolean",
                "default": false,
                "required": false
            },
            {
                "id": "var-yht9l2lcu",
                "name": "agentName",
                "type": "string",
                "default": "contract_externsion_assistant",
                "required": false
            },
            {
                "id": "var-q3x3dydxv",
                "name": "hasData",
                "type": "string",
                "default": "",
                "required": false
            },
            {
                "id": "var-2yn35g1to",
                "name": "supplierDetails",
                "type": "string",
                "default": "",
                "required": false
            },
            {
                "id": "var-9rmt90z5n",
                "name": "hasContractsData",
                "type": "string",
                "default": "",
                "required": false
            },
            {
                "id": "var-84z3c0jge",
                "name": "pvresponse",
                "type": "string",
                "default": "",
                "required": false
            }
        ],
        "system": []
    },
    "interface": {
        "inputs": {
            "query": {
                "type": "string",
                "description": "User query to process",
                "required": true
            }
        },
        "outputs": {
            "response": {
                "type": "string",
                "description": "Final response to the user"
            }
        }
    },
    "security": {
        "activities": [
            {
                "refId": "11300009",
                "code": "11300009",
                "name": "Projects - Create project request"
            },
            {
                "refId": "1032000004",
                "code": "1032000004",
                "name": "GEP Qi - Create Request"
            }
        ]
    },
    "publishChannels": [
        {
            "refId": "api",
            "code": "api",
            "name": "API",
            "description": "Expose the agent as a REST API for system and app integrations"
        },
        {
            "refId": "qi-ui",
            "code": "qi-ui",
            "name": "Qi UI",
            "description": "Make your agent available in GEP’s Qi interface"
        }
    ],
    "skills": [],
    "createdBy": "vignesh.voddam@gep.com",
    "createdOn": "2026-02-05T12:13:34.688Z",
    "updatedBy": "vignesh.voddam@gep.com",
    "updatedOn": "2026-02-05T12:13:34.688Z",
    "environment": "DEV",
    "appId": "98bed795-a280-4672-86ad-d13fa7aa83a9",
    "moduleId": "572ee3d8-dcd5-4957-8a27-4163f488f913",
    "version": "v1770346099216925400"
}